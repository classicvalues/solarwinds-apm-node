npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.3.0
added 16 packages from 6 contributors, removed 5 packages, updated 2 packages and audited 924 packages in 6.904s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:39:09.351Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:39:09.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:39:09.352Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:39:09.355Z appoptics:debug using context provider: ace-context
2022-02-23T04:39:09.467Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:39:09.734Z appoptics:patching patched crypto 
2022-02-23T04:39:09.781Z appoptics:patching patched https 
2022-02-23T04:39:09.781Z appoptics:patching patched http 
2022-02-23T04:39:09.850Z appoptics:patching patched pino 2.3.0
2022-02-23T04:39:09.855Z appoptics:debug starting runtimeMetrics


  pino v2.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.0
updated 1 package and audited 924 packages in 5.804s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:39:17.355Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:39:17.356Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:39:17.356Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:39:17.359Z appoptics:debug using context provider: ace-context
2022-02-23T04:39:17.466Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:39:17.697Z appoptics:patching patched crypto 
2022-02-23T04:39:17.739Z appoptics:patching patched https 
2022-02-23T04:39:17.741Z appoptics:patching patched http 
2022-02-23T04:39:17.790Z appoptics:patching patched pino 2.4.0
2022-02-23T04:39:17.795Z appoptics:debug starting runtimeMetrics


  pino v2.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (190ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.1
updated 1 package and audited 924 packages in 5.795s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:39:24.991Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:39:24.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:39:24.991Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:39:24.992Z appoptics:debug using context provider: ace-context
2022-02-23T04:39:25.079Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:39:25.292Z appoptics:patching patched crypto 
2022-02-23T04:39:25.320Z appoptics:patching patched https 
2022-02-23T04:39:25.320Z appoptics:patching patched http 
2022-02-23T04:39:25.370Z appoptics:patching patched pino 2.4.1
2022-02-23T04:39:25.375Z appoptics:debug starting runtimeMetrics


  pino v2.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.2
updated 1 package and audited 924 packages in 6.01s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:39:32.788Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:39:32.789Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:39:32.789Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:39:32.791Z appoptics:debug using context provider: ace-context
2022-02-23T04:39:32.869Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:39:33.054Z appoptics:patching patched crypto 
2022-02-23T04:39:33.075Z appoptics:patching patched https 
2022-02-23T04:39:33.076Z appoptics:patching patched http 
2022-02-23T04:39:33.122Z appoptics:patching patched pino 2.4.2
2022-02-23T04:39:33.127Z appoptics:debug starting runtimeMetrics


  pino v2.4.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.3
updated 1 package and audited 924 packages in 6.529s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:39:41.056Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:39:41.056Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:39:41.056Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:39:41.057Z appoptics:debug using context provider: ace-context
2022-02-23T04:39:41.133Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:39:41.338Z appoptics:patching patched crypto 
2022-02-23T04:39:41.361Z appoptics:patching patched https 
2022-02-23T04:39:41.362Z appoptics:patching patched http 
2022-02-23T04:39:41.410Z appoptics:patching patched pino 2.4.3
2022-02-23T04:39:41.415Z appoptics:debug starting runtimeMetrics


  pino v2.4.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.4
updated 1 package and audited 924 packages in 6.686s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:39:49.629Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:39:49.630Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:39:49.630Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:39:49.631Z appoptics:debug using context provider: ace-context
2022-02-23T04:39:49.714Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:39:49.932Z appoptics:patching patched crypto 
2022-02-23T04:39:49.967Z appoptics:patching patched https 
2022-02-23T04:39:49.967Z appoptics:patching patched http 
2022-02-23T04:39:50.027Z appoptics:patching patched pino 2.4.4
2022-02-23T04:39:50.032Z appoptics:debug starting runtimeMetrics


  pino v2.4.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (190ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.5.0
updated 1 package and audited 924 packages in 5.18s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:39:56.684Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:39:56.685Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:39:56.685Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:39:56.687Z appoptics:debug using context provider: ace-context
2022-02-23T04:39:56.769Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:39:56.976Z appoptics:patching patched crypto 
2022-02-23T04:39:57.002Z appoptics:patching patched https 
2022-02-23T04:39:57.003Z appoptics:patching patched http 
2022-02-23T04:39:57.078Z appoptics:patching patched pino 2.5.0
2022-02-23T04:39:57.083Z appoptics:debug starting runtimeMetrics


  pino v2.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.6.0
updated 1 package and audited 924 packages in 6.794s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:40:05.284Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:40:05.285Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:40:05.285Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:40:05.286Z appoptics:debug using context provider: ace-context
2022-02-23T04:40:05.357Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:40:05.554Z appoptics:patching patched crypto 
2022-02-23T04:40:05.576Z appoptics:patching patched https 
2022-02-23T04:40:05.576Z appoptics:patching patched http 
2022-02-23T04:40:05.629Z appoptics:patching patched pino 2.6.0
2022-02-23T04:40:05.633Z appoptics:debug starting runtimeMetrics


  pino v2.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.6.1
updated 1 package and audited 924 packages in 7.765s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:40:14.783Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:40:14.783Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:40:14.784Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:40:14.786Z appoptics:debug using context provider: ace-context
2022-02-23T04:40:14.870Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:40:15.074Z appoptics:patching patched crypto 
2022-02-23T04:40:15.113Z appoptics:patching patched https 
2022-02-23T04:40:15.113Z appoptics:patching patched http 
2022-02-23T04:40:15.159Z appoptics:patching patched pino 2.6.1
2022-02-23T04:40:15.164Z appoptics:debug starting runtimeMetrics


  pino v2.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.0
updated 1 package and audited 924 packages in 5.394s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:40:21.929Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:40:21.930Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:40:21.930Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:40:21.930Z appoptics:debug using context provider: ace-context
2022-02-23T04:40:22.003Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:40:22.198Z appoptics:patching patched crypto 
2022-02-23T04:40:22.219Z appoptics:patching patched https 
2022-02-23T04:40:22.219Z appoptics:patching patched http 
2022-02-23T04:40:22.269Z appoptics:patching patched pino 2.7.0
2022-02-23T04:40:22.274Z appoptics:debug starting runtimeMetrics


  pino v2.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.1
updated 1 package and audited 924 packages in 7.039s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:40:30.659Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:40:30.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:40:30.660Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:40:30.661Z appoptics:debug using context provider: ace-context
2022-02-23T04:40:30.750Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:40:30.957Z appoptics:patching patched crypto 
2022-02-23T04:40:30.981Z appoptics:patching patched https 
2022-02-23T04:40:30.982Z appoptics:patching patched http 
2022-02-23T04:40:31.028Z appoptics:patching patched pino 2.7.1
2022-02-23T04:40:31.033Z appoptics:debug starting runtimeMetrics


  pino v2.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.2
updated 1 package and audited 924 packages in 5.738s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:40:38.500Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:40:38.501Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:40:38.501Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:40:38.508Z appoptics:debug using context provider: ace-context
2022-02-23T04:40:38.654Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:40:38.993Z appoptics:patching patched crypto 
2022-02-23T04:40:39.026Z appoptics:patching patched https 
2022-02-23T04:40:39.026Z appoptics:patching patched http 
2022-02-23T04:40:39.074Z appoptics:patching patched pino 2.7.2
2022-02-23T04:40:39.078Z appoptics:debug starting runtimeMetrics


  pino v2.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.3
updated 1 package and audited 924 packages in 6.098s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:40:46.737Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:40:46.738Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:40:46.738Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:40:46.739Z appoptics:debug using context provider: ace-context
2022-02-23T04:40:46.834Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:40:47.045Z appoptics:patching patched crypto 
2022-02-23T04:40:47.071Z appoptics:patching patched https 
2022-02-23T04:40:47.072Z appoptics:patching patched http 
2022-02-23T04:40:47.122Z appoptics:patching patched pino 2.7.3
2022-02-23T04:40:47.128Z appoptics:debug starting runtimeMetrics


  pino v2.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.4
updated 1 package and audited 924 packages in 6.021s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:40:54.583Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:40:54.585Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:40:54.585Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:40:54.587Z appoptics:debug using context provider: ace-context
2022-02-23T04:40:54.662Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:40:54.865Z appoptics:patching patched crypto 
2022-02-23T04:40:54.887Z appoptics:patching patched https 
2022-02-23T04:40:54.888Z appoptics:patching patched http 
2022-02-23T04:40:54.941Z appoptics:patching patched pino 2.7.4
2022-02-23T04:40:54.945Z appoptics:debug starting runtimeMetrics


  pino v2.7.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.5
updated 1 package and audited 924 packages in 5.987s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:41:02.384Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:41:02.385Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:41:02.385Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:41:02.388Z appoptics:debug using context provider: ace-context
2022-02-23T04:41:02.480Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:41:02.693Z appoptics:patching patched crypto 
2022-02-23T04:41:02.749Z appoptics:patching patched https 
2022-02-23T04:41:02.750Z appoptics:patching patched http 
2022-02-23T04:41:02.796Z appoptics:patching patched pino 2.7.5
2022-02-23T04:41:02.802Z appoptics:debug starting runtimeMetrics


  pino v2.7.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.0
updated 1 package and audited 924 packages in 5.87s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:41:10.415Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:41:10.416Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:41:10.416Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:41:10.419Z appoptics:debug using context provider: ace-context
2022-02-23T04:41:10.508Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:41:10.716Z appoptics:patching patched crypto 
2022-02-23T04:41:10.745Z appoptics:patching patched https 
2022-02-23T04:41:10.745Z appoptics:patching patched http 
2022-02-23T04:41:10.794Z appoptics:patching patched pino 2.8.0
2022-02-23T04:41:10.799Z appoptics:debug starting runtimeMetrics


  pino v2.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.1
updated 1 package and audited 924 packages in 6.59s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:41:18.862Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:41:18.863Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:41:18.863Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:41:18.865Z appoptics:debug using context provider: ace-context
2022-02-23T04:41:18.952Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:41:19.185Z appoptics:patching patched crypto 
2022-02-23T04:41:19.227Z appoptics:patching patched https 
2022-02-23T04:41:19.227Z appoptics:patching patched http 
2022-02-23T04:41:19.293Z appoptics:patching patched pino 2.8.1
2022-02-23T04:41:19.299Z appoptics:debug starting runtimeMetrics


  pino v2.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (193ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.2
updated 1 package and audited 924 packages in 5.47s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:41:26.303Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:41:26.304Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:41:26.304Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:41:26.305Z appoptics:debug using context provider: ace-context
2022-02-23T04:41:26.378Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:41:26.576Z appoptics:patching patched crypto 
2022-02-23T04:41:26.599Z appoptics:patching patched https 
2022-02-23T04:41:26.600Z appoptics:patching patched http 
2022-02-23T04:41:26.654Z appoptics:patching patched pino 2.8.2
2022-02-23T04:41:26.659Z appoptics:debug starting runtimeMetrics


  pino v2.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.3
updated 1 package and audited 924 packages in 7.321s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:41:35.538Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:41:35.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:41:35.538Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:41:35.539Z appoptics:debug using context provider: ace-context
2022-02-23T04:41:35.614Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:41:35.811Z appoptics:patching patched crypto 
2022-02-23T04:41:35.833Z appoptics:patching patched https 
2022-02-23T04:41:35.840Z appoptics:patching patched http 
2022-02-23T04:41:35.898Z appoptics:patching patched pino 2.8.3
2022-02-23T04:41:35.903Z appoptics:debug starting runtimeMetrics


  pino v2.8.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (107ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.9.0
updated 1 package and audited 924 packages in 6.609s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:41:43.909Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:41:43.910Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:41:43.910Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:41:43.912Z appoptics:debug using context provider: ace-context
2022-02-23T04:41:43.992Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:41:44.185Z appoptics:patching patched crypto 
2022-02-23T04:41:44.208Z appoptics:patching patched https 
2022-02-23T04:41:44.208Z appoptics:patching patched http 
2022-02-23T04:41:44.260Z appoptics:patching patched pino 2.9.0
2022-02-23T04:41:44.264Z appoptics:debug starting runtimeMetrics


  pino v2.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.10.0
updated 1 package and audited 924 packages in 6.311s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:41:51.957Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:41:51.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:41:51.958Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:41:51.959Z appoptics:debug using context provider: ace-context
2022-02-23T04:41:52.043Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:41:52.278Z appoptics:patching patched crypto 
2022-02-23T04:41:52.300Z appoptics:patching patched https 
2022-02-23T04:41:52.301Z appoptics:patching patched http 
2022-02-23T04:41:52.374Z appoptics:patching patched pino 2.10.0
2022-02-23T04:41:52.379Z appoptics:debug starting runtimeMetrics


  pino v2.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.10.1
updated 1 package and audited 924 packages in 5.955s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:41:59.878Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:41:59.879Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:41:59.879Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:41:59.881Z appoptics:debug using context provider: ace-context
2022-02-23T04:41:59.961Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:42:00.153Z appoptics:patching patched crypto 
2022-02-23T04:42:00.174Z appoptics:patching patched https 
2022-02-23T04:42:00.174Z appoptics:patching patched http 
2022-02-23T04:42:00.231Z appoptics:patching patched pino 2.10.1
2022-02-23T04:42:00.235Z appoptics:debug starting runtimeMetrics


  pino v2.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.11.0
updated 1 package and audited 924 packages in 6.857s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:42:08.645Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:42:08.646Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:42:08.646Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:42:08.649Z appoptics:debug using context provider: ace-context
2022-02-23T04:42:08.722Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:42:08.921Z appoptics:patching patched crypto 
2022-02-23T04:42:08.943Z appoptics:patching patched https 
2022-02-23T04:42:08.943Z appoptics:patching patched http 
2022-02-23T04:42:08.998Z appoptics:patching patched pino 2.11.0
2022-02-23T04:42:09.003Z appoptics:debug starting runtimeMetrics


  pino v2.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.0
updated 1 package and audited 924 packages in 5.561s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:42:16.011Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:42:16.014Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:42:16.014Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:42:16.014Z appoptics:debug using context provider: ace-context
2022-02-23T04:42:16.097Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:42:16.306Z appoptics:patching patched crypto 
2022-02-23T04:42:16.337Z appoptics:patching patched https 
2022-02-23T04:42:16.338Z appoptics:patching patched http 
2022-02-23T04:42:16.404Z appoptics:patching patched pino 2.12.0
2022-02-23T04:42:16.411Z appoptics:debug starting runtimeMetrics


  pino v2.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.1
updated 1 package and audited 924 packages in 6.646s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:42:24.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:42:24.461Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:42:24.461Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:42:24.462Z appoptics:debug using context provider: ace-context
2022-02-23T04:42:24.534Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:42:24.761Z appoptics:patching patched crypto 
2022-02-23T04:42:24.784Z appoptics:patching patched https 
2022-02-23T04:42:24.784Z appoptics:patching patched http 
2022-02-23T04:42:24.862Z appoptics:patching patched pino 2.12.1
2022-02-23T04:42:24.867Z appoptics:debug starting runtimeMetrics


  pino v2.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.2
updated 1 package and audited 924 packages in 6.434s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:42:32.899Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:42:32.899Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:42:32.899Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:42:32.901Z appoptics:debug using context provider: ace-context
2022-02-23T04:42:32.977Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:42:33.177Z appoptics:patching patched crypto 
2022-02-23T04:42:33.203Z appoptics:patching patched https 
2022-02-23T04:42:33.204Z appoptics:patching patched http 
2022-02-23T04:42:33.259Z appoptics:patching patched pino 2.12.2
2022-02-23T04:42:33.264Z appoptics:debug starting runtimeMetrics


  pino v2.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.3
updated 1 package and audited 924 packages in 6.302s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:42:41.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:42:41.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:42:41.013Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:42:41.013Z appoptics:debug using context provider: ace-context
2022-02-23T04:42:41.110Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:42:41.376Z appoptics:patching patched crypto 
2022-02-23T04:42:41.471Z appoptics:patching patched https 
2022-02-23T04:42:41.480Z appoptics:patching patched http 
2022-02-23T04:42:41.606Z appoptics:patching patched pino 2.12.3
2022-02-23T04:42:41.611Z appoptics:debug starting runtimeMetrics


  pino v2.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (201ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.4
updated 1 package and audited 924 packages in 6.306s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:42:49.379Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:42:49.380Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:42:49.380Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:42:49.382Z appoptics:debug using context provider: ace-context
2022-02-23T04:42:49.460Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:42:49.651Z appoptics:patching patched crypto 
2022-02-23T04:42:49.722Z appoptics:patching patched https 
2022-02-23T04:42:49.723Z appoptics:patching patched http 
2022-02-23T04:42:49.786Z appoptics:patching patched pino 2.12.4
2022-02-23T04:42:49.791Z appoptics:debug starting runtimeMetrics


  pino v2.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.13.0
updated 1 package and audited 924 packages in 5.369s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:42:56.717Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:42:56.718Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:42:56.718Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:42:56.721Z appoptics:debug using context provider: ace-context
2022-02-23T04:42:56.815Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:42:57.106Z appoptics:patching patched crypto 
2022-02-23T04:42:57.157Z appoptics:patching patched https 
2022-02-23T04:42:57.158Z appoptics:patching patched http 
2022-02-23T04:42:57.219Z appoptics:patching patched pino 2.13.0
2022-02-23T04:42:57.224Z appoptics:debug starting runtimeMetrics


  pino v2.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.13.2
updated 1 package and audited 924 packages in 5.51s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:43:04.235Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:43:04.236Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:43:04.236Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:43:04.236Z appoptics:debug using context provider: ace-context
2022-02-23T04:43:04.308Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:43:04.509Z appoptics:patching patched crypto 
2022-02-23T04:43:04.535Z appoptics:patching patched https 
2022-02-23T04:43:04.536Z appoptics:patching patched http 
2022-02-23T04:43:04.591Z appoptics:patching patched pino 2.13.2
2022-02-23T04:43:04.595Z appoptics:debug starting runtimeMetrics


  pino v2.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.14.0
updated 1 package and audited 924 packages in 7.291s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:43:13.269Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:43:13.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:43:13.270Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:43:13.273Z appoptics:debug using context provider: ace-context
2022-02-23T04:43:13.347Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:43:13.543Z appoptics:patching patched crypto 
2022-02-23T04:43:13.580Z appoptics:patching patched https 
2022-02-23T04:43:13.580Z appoptics:patching patched http 
2022-02-23T04:43:13.632Z appoptics:patching patched pino 2.14.0
2022-02-23T04:43:13.636Z appoptics:debug starting runtimeMetrics


  pino v2.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.15.0
updated 1 package and audited 924 packages in 5.275s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:43:20.290Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:43:20.290Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:43:20.290Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:43:20.291Z appoptics:debug using context provider: ace-context
2022-02-23T04:43:20.366Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:43:20.580Z appoptics:patching patched crypto 
2022-02-23T04:43:20.629Z appoptics:patching patched https 
2022-02-23T04:43:20.633Z appoptics:patching patched http 
2022-02-23T04:43:20.699Z appoptics:patching patched pino 2.15.0
2022-02-23T04:43:20.704Z appoptics:debug starting runtimeMetrics


  pino v2.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.16.0
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 924 packages in 6.422s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:43:28.689Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:43:28.690Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:43:28.690Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:43:28.692Z appoptics:debug using context provider: ace-context
2022-02-23T04:43:28.767Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:43:28.959Z appoptics:patching patched crypto 
2022-02-23T04:43:28.982Z appoptics:patching patched https 
2022-02-23T04:43:28.983Z appoptics:patching patched http 
2022-02-23T04:43:29.017Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:43:29.018Z appoptics:patching patched fs 
2022-02-23T04:43:29.044Z appoptics:patching patched pino 2.16.0
2022-02-23T04:43:29.056Z appoptics:debug starting runtimeMetrics


  pino v2.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (190ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.0
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 924 packages in 5.93s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:43:36.566Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:43:36.567Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:43:36.567Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:43:36.571Z appoptics:debug using context provider: ace-context
2022-02-23T04:43:36.679Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:43:36.926Z appoptics:patching patched crypto 
2022-02-23T04:43:36.954Z appoptics:patching patched https 
2022-02-23T04:43:36.955Z appoptics:patching patched http 
2022-02-23T04:43:36.989Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:43:36.989Z appoptics:patching patched fs 
2022-02-23T04:43:37.006Z appoptics:patching patched pino 3.0.0
2022-02-23T04:43:37.011Z appoptics:debug starting runtimeMetrics


  pino v3.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.1
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 924 packages in 5.58s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:43:44.020Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:43:44.021Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:43:44.021Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:43:44.023Z appoptics:debug using context provider: ace-context
2022-02-23T04:43:44.100Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:43:44.285Z appoptics:patching patched crypto 
2022-02-23T04:43:44.309Z appoptics:patching patched https 
2022-02-23T04:43:44.309Z appoptics:patching patched http 
2022-02-23T04:43:44.338Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:43:44.338Z appoptics:patching patched fs 
2022-02-23T04:43:44.355Z appoptics:patching patched pino 3.0.1
2022-02-23T04:43:44.361Z appoptics:debug starting runtimeMetrics


  pino v3.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.2
updated 1 package and audited 924 packages in 6.095s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:43:51.935Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:43:51.936Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:43:51.936Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:43:51.937Z appoptics:debug using context provider: ace-context
2022-02-23T04:43:52.009Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:43:52.199Z appoptics:patching patched crypto 
2022-02-23T04:43:52.223Z appoptics:patching patched https 
2022-02-23T04:43:52.224Z appoptics:patching patched http 
2022-02-23T04:43:52.259Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:43:52.259Z appoptics:patching patched fs 
2022-02-23T04:43:52.275Z appoptics:patching patched pino 3.0.2
2022-02-23T04:43:52.280Z appoptics:debug starting runtimeMetrics


  pino v3.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.3
updated 1 package and audited 924 packages in 5.544s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:43:59.318Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:43:59.319Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:43:59.319Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:43:59.322Z appoptics:debug using context provider: ace-context
2022-02-23T04:43:59.403Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:43:59.701Z appoptics:patching patched crypto 
2022-02-23T04:43:59.746Z appoptics:patching patched https 
2022-02-23T04:43:59.747Z appoptics:patching patched http 
2022-02-23T04:43:59.784Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:43:59.784Z appoptics:patching patched fs 
2022-02-23T04:43:59.811Z appoptics:patching patched pino 3.0.3
2022-02-23T04:43:59.815Z appoptics:debug starting runtimeMetrics


  pino v3.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (202ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.4
updated 1 package and audited 924 packages in 6.269s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:44:07.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:44:07.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:44:07.649Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:44:07.650Z appoptics:debug using context provider: ace-context
2022-02-23T04:44:07.726Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:44:07.920Z appoptics:patching patched crypto 
2022-02-23T04:44:07.942Z appoptics:patching patched https 
2022-02-23T04:44:07.942Z appoptics:patching patched http 
2022-02-23T04:44:07.970Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:44:07.970Z appoptics:patching patched fs 
2022-02-23T04:44:07.987Z appoptics:patching patched pino 3.0.4
2022-02-23T04:44:07.991Z appoptics:debug starting runtimeMetrics


  pino v3.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.5
updated 1 package and audited 924 packages in 5.974s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:44:15.478Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:44:15.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:44:15.479Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:44:15.481Z appoptics:debug using context provider: ace-context
2022-02-23T04:44:15.560Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:44:15.757Z appoptics:patching patched crypto 
2022-02-23T04:44:15.782Z appoptics:patching patched https 
2022-02-23T04:44:15.783Z appoptics:patching patched http 
2022-02-23T04:44:15.847Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:44:15.847Z appoptics:patching patched fs 
2022-02-23T04:44:15.868Z appoptics:patching patched pino 3.0.5
2022-02-23T04:44:15.874Z appoptics:debug starting runtimeMetrics


  pino v3.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (186ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.6
updated 1 package and audited 924 packages in 5.315s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:44:22.771Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:44:22.772Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:44:22.772Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:44:22.773Z appoptics:debug using context provider: ace-context
2022-02-23T04:44:22.877Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:44:23.076Z appoptics:patching patched crypto 
2022-02-23T04:44:23.100Z appoptics:patching patched https 
2022-02-23T04:44:23.101Z appoptics:patching patched http 
2022-02-23T04:44:23.130Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:44:23.130Z appoptics:patching patched fs 
2022-02-23T04:44:23.153Z appoptics:patching patched pino 3.0.6
2022-02-23T04:44:23.158Z appoptics:debug starting runtimeMetrics


  pino v3.0.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.7
updated 1 package and audited 924 packages in 6.51s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:44:31.146Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:44:31.146Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:44:31.146Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:44:31.147Z appoptics:debug using context provider: ace-context
2022-02-23T04:44:31.237Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:44:31.468Z appoptics:patching patched crypto 
2022-02-23T04:44:31.491Z appoptics:patching patched https 
2022-02-23T04:44:31.491Z appoptics:patching patched http 
2022-02-23T04:44:31.524Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:44:31.524Z appoptics:patching patched fs 
2022-02-23T04:44:31.543Z appoptics:patching patched pino 3.0.7
2022-02-23T04:44:31.549Z appoptics:debug starting runtimeMetrics


  pino v3.0.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.0
updated 1 package and audited 924 packages in 5.361s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:44:38.519Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:44:38.520Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:44:38.520Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:44:38.526Z appoptics:debug using context provider: ace-context
2022-02-23T04:44:38.675Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:44:39.108Z appoptics:patching patched crypto 
2022-02-23T04:44:39.154Z appoptics:patching patched https 
2022-02-23T04:44:39.155Z appoptics:patching patched http 
2022-02-23T04:44:39.245Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:44:39.245Z appoptics:patching patched fs 
2022-02-23T04:44:39.282Z appoptics:patching patched pino 3.1.0
2022-02-23T04:44:39.287Z appoptics:debug starting runtimeMetrics


  pino v3.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (229ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.1
updated 1 package and audited 924 packages in 5.599s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:44:46.624Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:44:46.625Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:44:46.625Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:44:46.627Z appoptics:debug using context provider: ace-context
2022-02-23T04:44:46.702Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:44:46.894Z appoptics:patching patched crypto 
2022-02-23T04:44:46.916Z appoptics:patching patched https 
2022-02-23T04:44:46.916Z appoptics:patching patched http 
2022-02-23T04:44:46.946Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:44:46.946Z appoptics:patching patched fs 
2022-02-23T04:44:46.966Z appoptics:patching patched pino 3.1.1
2022-02-23T04:44:46.971Z appoptics:debug starting runtimeMetrics


  pino v3.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.2
updated 1 package and audited 924 packages in 6.218s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:44:54.677Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:44:54.677Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:44:54.677Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:44:54.678Z appoptics:debug using context provider: ace-context
2022-02-23T04:44:54.753Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:44:54.943Z appoptics:patching patched crypto 
2022-02-23T04:44:54.965Z appoptics:patching patched https 
2022-02-23T04:44:54.965Z appoptics:patching patched http 
2022-02-23T04:44:54.996Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:44:54.997Z appoptics:patching patched fs 
2022-02-23T04:44:55.016Z appoptics:patching patched pino 3.1.2
2022-02-23T04:44:55.020Z appoptics:debug starting runtimeMetrics


  pino v3.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.3
updated 1 package and audited 924 packages in 5.262s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:45:01.761Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:45:01.773Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:45:01.773Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:45:01.773Z appoptics:debug using context provider: ace-context
2022-02-23T04:45:01.934Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:45:02.139Z appoptics:patching patched crypto 
2022-02-23T04:45:02.162Z appoptics:patching patched https 
2022-02-23T04:45:02.162Z appoptics:patching patched http 
2022-02-23T04:45:02.193Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:45:02.194Z appoptics:patching patched fs 
2022-02-23T04:45:02.214Z appoptics:patching patched pino 3.1.3
2022-02-23T04:45:02.218Z appoptics:debug starting runtimeMetrics


  pino v3.1.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.2.0
updated 1 package and audited 924 packages in 6.298s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:45:10.047Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:45:10.047Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:45:10.048Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:45:10.050Z appoptics:debug using context provider: ace-context
2022-02-23T04:45:10.128Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:45:10.333Z appoptics:patching patched crypto 
2022-02-23T04:45:10.362Z appoptics:patching patched https 
2022-02-23T04:45:10.362Z appoptics:patching patched http 
2022-02-23T04:45:10.393Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:45:10.394Z appoptics:patching patched fs 
2022-02-23T04:45:10.413Z appoptics:patching patched pino 3.2.0
2022-02-23T04:45:10.418Z appoptics:debug starting runtimeMetrics


  pino v3.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.0
updated 1 package and audited 924 packages in 5.975s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:45:18.002Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:45:18.004Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:45:18.005Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:45:18.005Z appoptics:debug using context provider: ace-context
2022-02-23T04:45:18.105Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:45:18.364Z appoptics:patching patched crypto 
2022-02-23T04:45:18.392Z appoptics:patching patched https 
2022-02-23T04:45:18.392Z appoptics:patching patched http 
2022-02-23T04:45:18.445Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:45:18.446Z appoptics:patching patched fs 

Error: Cannot find module './lib/events'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/one-and-dones.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/options.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/bin/mocha
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:902:15)
    at Function.Module._load (internal/modules/cjs/loader.js:746:27)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js:7:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js:11:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.exports.requireOrImport (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:42:12)
    at Object.exports.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:55:34)
    at Mocha.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js:473:19)
    at singleRun (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:125:15)
    at exports.runMocha (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:190:10)
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.1
updated 1 package and audited 924 packages in 5.452s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:45:25.231Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:45:25.232Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:45:25.232Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:45:25.233Z appoptics:debug using context provider: ace-context
2022-02-23T04:45:25.308Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:45:25.500Z appoptics:patching patched crypto 
2022-02-23T04:45:25.521Z appoptics:patching patched https 
2022-02-23T04:45:25.522Z appoptics:patching patched http 
2022-02-23T04:45:25.556Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:45:25.556Z appoptics:patching patched fs 
2022-02-23T04:45:25.576Z appoptics:patching patched pino 3.3.1
2022-02-23T04:45:25.581Z appoptics:debug starting runtimeMetrics


  pino v3.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.2
updated 1 package and audited 924 packages in 7.217s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:45:34.330Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:45:34.331Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:45:34.331Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:45:34.332Z appoptics:debug using context provider: ace-context
2022-02-23T04:45:34.410Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:45:34.639Z appoptics:patching patched crypto 
2022-02-23T04:45:34.687Z appoptics:patching patched https 
2022-02-23T04:45:34.688Z appoptics:patching patched http 
2022-02-23T04:45:34.723Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:45:34.723Z appoptics:patching patched fs 
2022-02-23T04:45:34.744Z appoptics:patching patched pino 3.3.2
2022-02-23T04:45:34.750Z appoptics:debug starting runtimeMetrics


  pino v3.3.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (109ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (192ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.4.0
added 2 packages from 2 contributors, updated 1 package and audited 926 packages in 5.386s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:45:41.874Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:45:41.875Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:45:41.875Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:45:41.876Z appoptics:debug using context provider: ace-context
2022-02-23T04:45:41.966Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:45:42.285Z appoptics:patching patched crypto 
2022-02-23T04:45:42.315Z appoptics:patching patched https 
2022-02-23T04:45:42.315Z appoptics:patching patched http 
2022-02-23T04:45:42.401Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:45:42.402Z appoptics:patching patched fs 
2022-02-23T04:45:42.432Z appoptics:patching patched pino 3.4.0
2022-02-23T04:45:42.448Z appoptics:debug starting runtimeMetrics


  pino v3.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (225ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.0
updated 1 package and audited 926 packages in 5.86s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:45:49.920Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:45:49.920Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:45:49.921Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:45:49.921Z appoptics:debug using context provider: ace-context
2022-02-23T04:45:49.995Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:45:50.196Z appoptics:patching patched crypto 
2022-02-23T04:45:50.218Z appoptics:patching patched https 
2022-02-23T04:45:50.219Z appoptics:patching patched http 
2022-02-23T04:45:50.245Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:45:50.246Z appoptics:patching patched fs 
2022-02-23T04:45:50.272Z appoptics:patching patched pino 4.0.0
2022-02-23T04:45:50.277Z appoptics:debug starting runtimeMetrics


  pino v4.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.1
updated 1 package and audited 926 packages in 6.378s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:45:58.017Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:45:58.018Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:45:58.018Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:45:58.019Z appoptics:debug using context provider: ace-context
2022-02-23T04:45:58.088Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:45:58.294Z appoptics:patching patched crypto 
2022-02-23T04:45:58.316Z appoptics:patching patched https 
2022-02-23T04:45:58.316Z appoptics:patching patched http 
2022-02-23T04:45:58.344Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:45:58.349Z appoptics:patching patched fs 
2022-02-23T04:45:58.371Z appoptics:patching patched pino 4.0.1
2022-02-23T04:45:58.377Z appoptics:debug starting runtimeMetrics


  pino v4.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.2
updated 1 package and audited 926 packages in 5.303s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:46:05.077Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:46:05.078Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:46:05.078Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:46:05.080Z appoptics:debug using context provider: ace-context
2022-02-23T04:46:05.167Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:46:05.376Z appoptics:patching patched crypto 
2022-02-23T04:46:05.411Z appoptics:patching patched https 
2022-02-23T04:46:05.412Z appoptics:patching patched http 
2022-02-23T04:46:05.441Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:46:05.441Z appoptics:patching patched fs 
2022-02-23T04:46:05.469Z appoptics:patching patched pino 4.0.2
2022-02-23T04:46:05.473Z appoptics:debug starting runtimeMetrics


  pino v4.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.3
updated 1 package and audited 926 packages in 7.147s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:46:14.165Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:46:14.166Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:46:14.166Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:46:14.168Z appoptics:debug using context provider: ace-context
2022-02-23T04:46:14.261Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:46:14.482Z appoptics:patching patched crypto 
2022-02-23T04:46:14.504Z appoptics:patching patched https 
2022-02-23T04:46:14.505Z appoptics:patching patched http 
2022-02-23T04:46:14.539Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:46:14.539Z appoptics:patching patched fs 
2022-02-23T04:46:14.561Z appoptics:patching patched pino 4.0.3
2022-02-23T04:46:14.565Z appoptics:debug starting runtimeMetrics


  pino v4.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

npm ERR! code ENOENT
npm ERR! syscall chmod
npm ERR! path /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js
npm ERR! errno -2
npm ERR! enoent ENOENT: no such file or directory, chmod '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent 

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-02-23T04_46_21_536Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.1.1
added 8 packages from 5 contributors and audited 926 packages in 5.867s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:46:28.907Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:46:28.908Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:46:28.908Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:46:28.910Z appoptics:debug using context provider: ace-context
2022-02-23T04:46:28.996Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:46:29.217Z appoptics:patching patched crypto 
2022-02-23T04:46:29.244Z appoptics:patching patched https 
2022-02-23T04:46:29.244Z appoptics:patching patched http 
2022-02-23T04:46:29.276Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:46:29.277Z appoptics:patching patched fs 
2022-02-23T04:46:29.298Z appoptics:patching patched pino 4.1.1
2022-02-23T04:46:29.303Z appoptics:debug starting runtimeMetrics


  pino v4.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (197ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.1.2
updated 1 package and audited 926 packages in 7.457s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:46:38.275Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:46:38.276Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:46:38.276Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:46:38.277Z appoptics:debug using context provider: ace-context
2022-02-23T04:46:38.348Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:46:38.540Z appoptics:patching patched crypto 
2022-02-23T04:46:38.566Z appoptics:patching patched https 
2022-02-23T04:46:38.566Z appoptics:patching patched http 
2022-02-23T04:46:38.596Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:46:38.596Z appoptics:patching patched fs 
2022-02-23T04:46:38.618Z appoptics:patching patched pino 4.1.2
2022-02-23T04:46:38.622Z appoptics:debug starting runtimeMetrics


  pino v4.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.0
updated 1 package and audited 926 packages in 5.831s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:46:45.908Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:46:45.908Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:46:45.909Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:46:45.909Z appoptics:debug using context provider: ace-context
2022-02-23T04:46:46.006Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:46:46.239Z appoptics:patching patched crypto 
2022-02-23T04:46:46.262Z appoptics:patching patched https 
2022-02-23T04:46:46.288Z appoptics:patching patched http 
2022-02-23T04:46:46.321Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:46:46.321Z appoptics:patching patched fs 
2022-02-23T04:46:46.344Z appoptics:patching patched pino 4.2.0
2022-02-23T04:46:46.349Z appoptics:debug starting runtimeMetrics


  pino v4.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.1
updated 1 package and audited 926 packages in 5.71s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:46:53.809Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:46:53.810Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:46:53.810Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:46:53.811Z appoptics:debug using context provider: ace-context
2022-02-23T04:46:53.892Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:46:54.118Z appoptics:patching patched crypto 
2022-02-23T04:46:54.141Z appoptics:patching patched https 
2022-02-23T04:46:54.141Z appoptics:patching patched http 
2022-02-23T04:46:54.167Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:46:54.167Z appoptics:patching patched fs 
2022-02-23T04:46:54.194Z appoptics:patching patched pino 4.2.1
2022-02-23T04:46:54.198Z appoptics:debug starting runtimeMetrics


  pino v4.2.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.2
updated 1 package and audited 926 packages in 5.894s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:47:01.527Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:47:01.528Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:47:01.528Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:47:01.529Z appoptics:debug using context provider: ace-context
2022-02-23T04:47:01.602Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:47:01.804Z appoptics:patching patched crypto 
2022-02-23T04:47:01.828Z appoptics:patching patched https 
2022-02-23T04:47:01.828Z appoptics:patching patched http 
2022-02-23T04:47:01.859Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:47:01.859Z appoptics:patching patched fs 
2022-02-23T04:47:01.880Z appoptics:patching patched pino 4.2.2
2022-02-23T04:47:01.884Z appoptics:debug starting runtimeMetrics


  pino v4.2.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.3
updated 1 package and audited 926 packages in 5.797s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:47:09.069Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:47:09.070Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:47:09.070Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:47:09.072Z appoptics:debug using context provider: ace-context
2022-02-23T04:47:09.147Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:47:09.354Z appoptics:patching patched crypto 
2022-02-23T04:47:09.376Z appoptics:patching patched https 
2022-02-23T04:47:09.377Z appoptics:patching patched http 
2022-02-23T04:47:09.407Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:47:09.408Z appoptics:patching patched fs 
2022-02-23T04:47:09.428Z appoptics:patching patched pino 4.2.3
2022-02-23T04:47:09.432Z appoptics:debug starting runtimeMetrics


  pino v4.2.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.4
updated 1 package and audited 926 packages in 6.249s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:47:17.164Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:47:17.165Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:47:17.165Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:47:17.166Z appoptics:debug using context provider: ace-context
2022-02-23T04:47:17.240Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:47:17.439Z appoptics:patching patched crypto 
2022-02-23T04:47:17.463Z appoptics:patching patched https 
2022-02-23T04:47:17.464Z appoptics:patching patched http 
2022-02-23T04:47:17.528Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:47:17.528Z appoptics:patching patched fs 
2022-02-23T04:47:17.558Z appoptics:patching patched pino 4.2.4
2022-02-23T04:47:17.573Z appoptics:debug starting runtimeMetrics


  pino v4.2.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (206ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.3.0
updated 1 package and audited 926 packages in 5.26s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:47:24.441Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:47:24.442Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:47:24.442Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:47:24.445Z appoptics:debug using context provider: ace-context
2022-02-23T04:47:24.542Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:47:24.771Z appoptics:patching patched crypto 
2022-02-23T04:47:24.825Z appoptics:patching patched https 
2022-02-23T04:47:24.826Z appoptics:patching patched http 
2022-02-23T04:47:24.860Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:47:24.860Z appoptics:patching patched fs 
2022-02-23T04:47:24.883Z appoptics:patching patched pino 4.3.0
2022-02-23T04:47:24.888Z appoptics:debug starting runtimeMetrics


  pino v4.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (217ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.4.0
updated 1 package and audited 926 packages in 5.627s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:47:32.334Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:47:32.335Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:47:32.335Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:47:32.336Z appoptics:debug using context provider: ace-context
2022-02-23T04:47:32.411Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:47:32.606Z appoptics:patching patched crypto 
2022-02-23T04:47:32.628Z appoptics:patching patched https 
2022-02-23T04:47:32.628Z appoptics:patching patched http 
2022-02-23T04:47:32.658Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:47:32.658Z appoptics:patching patched fs 
2022-02-23T04:47:32.678Z appoptics:patching patched pino 4.4.0
2022-02-23T04:47:32.683Z appoptics:debug starting runtimeMetrics


  pino v4.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.0
updated 1 package and audited 926 packages in 7.085s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:47:41.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:47:41.181Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:47:41.181Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:47:41.182Z appoptics:debug using context provider: ace-context
2022-02-23T04:47:41.259Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:47:41.458Z appoptics:patching patched crypto 
2022-02-23T04:47:41.480Z appoptics:patching patched https 
2022-02-23T04:47:41.481Z appoptics:patching patched http 
2022-02-23T04:47:41.511Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:47:41.511Z appoptics:patching patched fs 
2022-02-23T04:47:41.534Z appoptics:patching patched pino 4.5.0
2022-02-23T04:47:41.539Z appoptics:debug starting runtimeMetrics


  pino v4.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.1
updated 1 package and audited 926 packages in 5.691s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:47:48.692Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:47:48.693Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:47:48.693Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:47:48.696Z appoptics:debug using context provider: ace-context
2022-02-23T04:47:48.779Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:47:48.997Z appoptics:patching patched crypto 
2022-02-23T04:47:49.024Z appoptics:patching patched https 
2022-02-23T04:47:49.025Z appoptics:patching patched http 
2022-02-23T04:47:49.053Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:47:49.054Z appoptics:patching patched fs 
2022-02-23T04:47:49.094Z appoptics:patching patched pino 4.5.1
2022-02-23T04:47:49.100Z appoptics:debug starting runtimeMetrics


  pino v4.5.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (205ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.2
updated 1 package and audited 926 packages in 6.48s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:47:57.121Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:47:57.122Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:47:57.122Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:47:57.122Z appoptics:debug using context provider: ace-context
2022-02-23T04:47:57.214Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:47:57.410Z appoptics:patching patched crypto 
2022-02-23T04:47:57.432Z appoptics:patching patched https 
2022-02-23T04:47:57.432Z appoptics:patching patched http 
2022-02-23T04:47:57.462Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:47:57.462Z appoptics:patching patched fs 
2022-02-23T04:47:57.483Z appoptics:patching patched pino 4.5.2
2022-02-23T04:47:57.488Z appoptics:debug starting runtimeMetrics


  pino v4.5.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.3
updated 1 package and audited 926 packages in 6.064s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:48:05.153Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:48:05.154Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:48:05.154Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:48:05.156Z appoptics:debug using context provider: ace-context
2022-02-23T04:48:05.230Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:48:05.424Z appoptics:patching patched crypto 
2022-02-23T04:48:05.463Z appoptics:patching patched https 
2022-02-23T04:48:05.463Z appoptics:patching patched http 
2022-02-23T04:48:05.486Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:48:05.486Z appoptics:patching patched fs 
2022-02-23T04:48:05.509Z appoptics:patching patched pino 4.5.3
2022-02-23T04:48:05.513Z appoptics:debug starting runtimeMetrics


  pino v4.5.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (216ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.4
updated 1 package and audited 926 packages in 6.256s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:48:13.198Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:48:13.200Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:48:13.200Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:48:13.200Z appoptics:debug using context provider: ace-context
2022-02-23T04:48:13.268Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:48:13.466Z appoptics:patching patched crypto 
2022-02-23T04:48:13.490Z appoptics:patching patched https 
2022-02-23T04:48:13.491Z appoptics:patching patched http 
2022-02-23T04:48:13.523Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:48:13.524Z appoptics:patching patched fs 
2022-02-23T04:48:13.545Z appoptics:patching patched pino 4.5.4
2022-02-23T04:48:13.550Z appoptics:debug starting runtimeMetrics


  pino v4.5.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.6.0
updated 1 package and audited 926 packages in 6.643s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:48:21.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:48:21.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:48:21.659Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:48:21.659Z appoptics:debug using context provider: ace-context
2022-02-23T04:48:21.765Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:48:21.986Z appoptics:patching patched crypto 
2022-02-23T04:48:22.043Z appoptics:patching patched https 
2022-02-23T04:48:22.054Z appoptics:patching patched http 
2022-02-23T04:48:22.078Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:48:22.078Z appoptics:patching patched fs 
2022-02-23T04:48:22.103Z appoptics:patching patched pino 4.6.0
2022-02-23T04:48:22.108Z appoptics:debug starting runtimeMetrics


  pino v4.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.0
removed 6 packages, updated 2 packages and audited 920 packages in 5.613s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:48:29.434Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:48:29.435Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:48:29.435Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:48:29.436Z appoptics:debug using context provider: ace-context
2022-02-23T04:48:29.552Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:48:29.766Z appoptics:patching patched crypto 
2022-02-23T04:48:29.789Z appoptics:patching patched https 
2022-02-23T04:48:29.790Z appoptics:patching patched http 
2022-02-23T04:48:29.821Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:48:29.821Z appoptics:patching patched fs 
2022-02-23T04:48:29.848Z appoptics:patching patched pino 4.7.0
2022-02-23T04:48:29.854Z appoptics:debug starting runtimeMetrics


  pino v4.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (186ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.1
updated 1 package and audited 920 packages in 6.159s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:48:37.408Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:48:37.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:48:37.409Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:48:37.411Z appoptics:debug using context provider: ace-context
2022-02-23T04:48:37.485Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:48:37.675Z appoptics:patching patched crypto 
2022-02-23T04:48:37.713Z appoptics:patching patched https 
2022-02-23T04:48:37.713Z appoptics:patching patched http 
2022-02-23T04:48:37.740Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:48:37.741Z appoptics:patching patched fs 
2022-02-23T04:48:37.765Z appoptics:patching patched pino 4.7.1
2022-02-23T04:48:37.770Z appoptics:debug starting runtimeMetrics


  pino v4.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.2
updated 1 package and audited 920 packages in 6.532s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:48:45.729Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:48:45.729Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:48:45.730Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:48:45.730Z appoptics:debug using context provider: ace-context
2022-02-23T04:48:45.799Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:48:45.990Z appoptics:patching patched crypto 
2022-02-23T04:48:46.025Z appoptics:patching patched https 
2022-02-23T04:48:46.025Z appoptics:patching patched http 
2022-02-23T04:48:46.080Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:48:46.080Z appoptics:patching patched fs 
2022-02-23T04:48:46.118Z appoptics:patching patched pino 4.7.2
2022-02-23T04:48:46.123Z appoptics:debug starting runtimeMetrics


  pino v4.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.3
updated 1 package and audited 920 packages in 5.523s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:48:53.111Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:48:53.112Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:48:53.112Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:48:53.115Z appoptics:debug using context provider: ace-context
2022-02-23T04:48:53.204Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:48:53.423Z appoptics:patching patched crypto 
2022-02-23T04:48:53.443Z appoptics:patching patched https 
2022-02-23T04:48:53.444Z appoptics:patching patched http 
2022-02-23T04:48:53.492Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:48:53.493Z appoptics:patching patched fs 
2022-02-23T04:48:53.522Z appoptics:patching patched pino 4.7.3
2022-02-23T04:48:53.526Z appoptics:debug starting runtimeMetrics


  pino v4.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (193ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.0
updated 1 package and audited 920 packages in 6.048s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:49:01.123Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:49:01.124Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:49:01.124Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:49:01.125Z appoptics:debug using context provider: ace-context
2022-02-23T04:49:01.205Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:49:01.447Z appoptics:patching patched crypto 
2022-02-23T04:49:01.470Z appoptics:patching patched https 
2022-02-23T04:49:01.470Z appoptics:patching patched http 
2022-02-23T04:49:01.501Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:49:01.501Z appoptics:patching patched fs 
2022-02-23T04:49:01.527Z appoptics:patching patched pino 4.8.0
2022-02-23T04:49:01.531Z appoptics:debug starting runtimeMetrics


  pino v4.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.1
updated 1 package and audited 920 packages in 6.461s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:49:09.372Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:49:09.373Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:49:09.373Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:49:09.375Z appoptics:debug using context provider: ace-context
2022-02-23T04:49:09.451Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:49:09.669Z appoptics:patching patched crypto 
2022-02-23T04:49:09.694Z appoptics:patching patched https 
2022-02-23T04:49:09.695Z appoptics:patching patched http 
2022-02-23T04:49:09.733Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:49:09.734Z appoptics:patching patched fs 
2022-02-23T04:49:09.759Z appoptics:patching patched pino 4.8.1
2022-02-23T04:49:09.764Z appoptics:debug starting runtimeMetrics


  pino v4.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (189ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.2
updated 1 package and audited 920 packages in 5.293s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:49:16.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:49:16.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:49:16.647Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:49:16.650Z appoptics:debug using context provider: ace-context
2022-02-23T04:49:16.730Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:49:16.923Z appoptics:patching patched crypto 
2022-02-23T04:49:16.947Z appoptics:patching patched https 
2022-02-23T04:49:16.948Z appoptics:patching patched http 
2022-02-23T04:49:16.978Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:49:16.978Z appoptics:patching patched fs 
2022-02-23T04:49:17.002Z appoptics:patching patched pino 4.8.2
2022-02-23T04:49:17.006Z appoptics:debug starting runtimeMetrics


  pino v4.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (192ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.9.0
updated 1 package and audited 920 packages in 7.008s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:49:25.642Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:49:25.643Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:49:25.643Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:49:25.644Z appoptics:debug using context provider: ace-context
2022-02-23T04:49:25.718Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:49:25.959Z appoptics:patching patched crypto 
2022-02-23T04:49:25.981Z appoptics:patching patched https 
2022-02-23T04:49:25.982Z appoptics:patching patched http 
2022-02-23T04:49:26.011Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:49:26.011Z appoptics:patching patched fs 
2022-02-23T04:49:26.048Z appoptics:patching patched pino 4.9.0
2022-02-23T04:49:26.053Z appoptics:debug starting runtimeMetrics


  pino v4.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.0
updated 1 package and audited 920 packages in 5.943s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:49:33.612Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:49:33.613Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:49:33.613Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:49:33.613Z appoptics:debug using context provider: ace-context
2022-02-23T04:49:33.689Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:49:33.882Z appoptics:patching patched crypto 
2022-02-23T04:49:33.906Z appoptics:patching patched https 
2022-02-23T04:49:33.907Z appoptics:patching patched http 
2022-02-23T04:49:33.942Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:49:33.943Z appoptics:patching patched fs 
2022-02-23T04:49:33.976Z appoptics:patching patched pino 4.10.0
2022-02-23T04:49:33.980Z appoptics:debug starting runtimeMetrics


  pino v4.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.1
updated 1 package and audited 920 packages in 6.007s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:49:41.529Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:49:41.530Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:49:41.530Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:49:41.531Z appoptics:debug using context provider: ace-context
2022-02-23T04:49:41.599Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:49:41.828Z appoptics:patching patched crypto 
2022-02-23T04:49:41.851Z appoptics:patching patched https 
2022-02-23T04:49:41.852Z appoptics:patching patched http 
2022-02-23T04:49:41.883Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:49:41.884Z appoptics:patching patched fs 
2022-02-23T04:49:41.911Z appoptics:patching patched pino 4.10.1
2022-02-23T04:49:41.918Z appoptics:debug starting runtimeMetrics


  pino v4.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.2
updated 1 package and audited 920 packages in 6.315s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:49:49.640Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:49:49.641Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:49:49.641Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:49:49.643Z appoptics:debug using context provider: ace-context
2022-02-23T04:49:49.719Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:49:49.917Z appoptics:patching patched crypto 
2022-02-23T04:49:49.938Z appoptics:patching patched https 
2022-02-23T04:49:49.938Z appoptics:patching patched http 
2022-02-23T04:49:49.972Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:49:49.972Z appoptics:patching patched fs 
2022-02-23T04:49:49.996Z appoptics:patching patched pino 4.10.2
2022-02-23T04:49:50.001Z appoptics:debug starting runtimeMetrics


  pino v4.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (189ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.3
updated 2 packages and audited 920 packages in 6.421s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:49:57.978Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:49:57.978Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:49:57.978Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:49:57.981Z appoptics:debug using context provider: ace-context
2022-02-23T04:49:58.105Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:49:58.398Z appoptics:patching patched crypto 
2022-02-23T04:49:58.456Z appoptics:patching patched https 
2022-02-23T04:49:58.457Z appoptics:patching patched http 
2022-02-23T04:49:58.513Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:49:58.513Z appoptics:patching patched fs 
2022-02-23T04:49:58.540Z appoptics:patching patched pino 4.10.3
2022-02-23T04:49:58.545Z appoptics:debug starting runtimeMetrics


  pino v4.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.4
updated 1 package and audited 920 packages in 5.361s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:50:05.272Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:50:05.273Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:50:05.273Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:50:05.275Z appoptics:debug using context provider: ace-context
2022-02-23T04:50:05.351Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:50:05.541Z appoptics:patching patched crypto 
2022-02-23T04:50:05.573Z appoptics:patching patched https 
2022-02-23T04:50:05.574Z appoptics:patching patched http 
2022-02-23T04:50:05.613Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:50:05.613Z appoptics:patching patched fs 
2022-02-23T04:50:05.640Z appoptics:patching patched pino 4.10.4
2022-02-23T04:50:05.645Z appoptics:debug starting runtimeMetrics


  pino v4.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.11.0
updated 1 package and audited 920 packages in 6.198s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:50:13.341Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:50:13.343Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:50:13.343Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:50:13.344Z appoptics:debug using context provider: ace-context
2022-02-23T04:50:13.495Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:50:13.726Z appoptics:patching patched crypto 
2022-02-23T04:50:13.764Z appoptics:patching patched https 
2022-02-23T04:50:13.765Z appoptics:patching patched http 
2022-02-23T04:50:13.803Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:50:13.803Z appoptics:patching patched fs 
2022-02-23T04:50:13.830Z appoptics:patching patched pino 4.11.0
2022-02-23T04:50:13.836Z appoptics:debug starting runtimeMetrics


  pino v4.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.12.0
added 1 package from 1 contributor, updated 1 package and audited 921 packages in 6.016s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:50:21.359Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:50:21.360Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:50:21.360Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:50:21.361Z appoptics:debug using context provider: ace-context
2022-02-23T04:50:21.444Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:50:21.672Z appoptics:patching patched crypto 
2022-02-23T04:50:21.696Z appoptics:patching patched https 
2022-02-23T04:50:21.697Z appoptics:patching patched http 
2022-02-23T04:50:21.758Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:50:21.758Z appoptics:patching patched fs 
2022-02-23T04:50:21.799Z appoptics:patching patched pino 4.12.0
2022-02-23T04:50:21.803Z appoptics:debug starting runtimeMetrics


  pino v4.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (108ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (290ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.13.0
updated 1 package and audited 921 packages in 6.473s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:50:29.948Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:50:29.949Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:50:29.949Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:50:29.950Z appoptics:debug using context provider: ace-context
2022-02-23T04:50:30.025Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:50:30.227Z appoptics:patching patched crypto 
2022-02-23T04:50:30.253Z appoptics:patching patched https 
2022-02-23T04:50:30.253Z appoptics:patching patched http 
2022-02-23T04:50:30.292Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:50:30.292Z appoptics:patching patched fs 
2022-02-23T04:50:30.318Z appoptics:patching patched pino 4.13.0
2022-02-23T04:50:30.323Z appoptics:debug starting runtimeMetrics


  pino v4.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (186ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.14.0
updated 2 packages and audited 921 packages in 6.783s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:50:38.559Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:50:38.560Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:50:38.560Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:50:38.562Z appoptics:debug using context provider: ace-context
2022-02-23T04:50:38.635Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:50:38.831Z appoptics:patching patched crypto 
2022-02-23T04:50:38.854Z appoptics:patching patched https 
2022-02-23T04:50:38.855Z appoptics:patching patched http 
2022-02-23T04:50:38.890Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:50:38.890Z appoptics:patching patched fs 
2022-02-23T04:50:38.918Z appoptics:patching patched pino 4.14.0
2022-02-23T04:50:38.922Z appoptics:debug starting runtimeMetrics


  pino v4.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.0
updated 1 package and audited 921 packages in 6.416s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:50:46.771Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:50:46.772Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:50:46.773Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:50:46.777Z appoptics:debug using context provider: ace-context
2022-02-23T04:50:46.974Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:50:47.278Z appoptics:patching patched crypto 
2022-02-23T04:50:47.335Z appoptics:patching patched https 
2022-02-23T04:50:47.336Z appoptics:patching patched http 
2022-02-23T04:50:47.414Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:50:47.415Z appoptics:patching patched fs 
2022-02-23T04:50:47.496Z appoptics:patching patched pino 4.15.0
2022-02-23T04:50:47.507Z appoptics:debug starting runtimeMetrics


  pino v4.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (232ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.1
updated 1 package and audited 921 packages in 6.631s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:50:55.706Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:50:55.707Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:50:55.707Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:50:55.709Z appoptics:debug using context provider: ace-context
2022-02-23T04:50:55.782Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:50:55.978Z appoptics:patching patched crypto 
2022-02-23T04:50:56.003Z appoptics:patching patched https 
2022-02-23T04:50:56.004Z appoptics:patching patched http 
2022-02-23T04:50:56.035Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:50:56.036Z appoptics:patching patched fs 
2022-02-23T04:50:56.062Z appoptics:patching patched pino 4.15.1
2022-02-23T04:50:56.067Z appoptics:debug starting runtimeMetrics


  pino v4.15.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.2
updated 1 package and audited 921 packages in 6.672s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:51:04.088Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:51:04.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:51:04.089Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:51:04.090Z appoptics:debug using context provider: ace-context
2022-02-23T04:51:04.169Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:51:04.389Z appoptics:patching patched crypto 
2022-02-23T04:51:04.411Z appoptics:patching patched https 
2022-02-23T04:51:04.411Z appoptics:patching patched http 
2022-02-23T04:51:04.441Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:51:04.442Z appoptics:patching patched fs 
2022-02-23T04:51:04.469Z appoptics:patching patched pino 4.15.2
2022-02-23T04:51:04.473Z appoptics:debug starting runtimeMetrics


  pino v4.15.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.3
updated 2 packages and audited 921 packages in 6.027s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:51:11.922Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:51:11.923Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:51:11.923Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:51:11.924Z appoptics:debug using context provider: ace-context
2022-02-23T04:51:11.998Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:51:12.197Z appoptics:patching patched crypto 
2022-02-23T04:51:12.220Z appoptics:patching patched https 
2022-02-23T04:51:12.220Z appoptics:patching patched http 
2022-02-23T04:51:12.255Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:51:12.255Z appoptics:patching patched fs 
2022-02-23T04:51:12.280Z appoptics:patching patched pino 4.15.3
2022-02-23T04:51:12.284Z appoptics:debug starting runtimeMetrics


  pino v4.15.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.4
updated 1 package and audited 921 packages in 6.865s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:51:20.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:51:20.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:51:20.801Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:51:20.803Z appoptics:debug using context provider: ace-context
2022-02-23T04:51:20.887Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:51:21.089Z appoptics:patching patched crypto 
2022-02-23T04:51:21.117Z appoptics:patching patched https 
2022-02-23T04:51:21.118Z appoptics:patching patched http 
2022-02-23T04:51:21.147Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:51:21.147Z appoptics:patching patched fs 
2022-02-23T04:51:21.172Z appoptics:patching patched pino 4.15.4
2022-02-23T04:51:21.177Z appoptics:debug starting runtimeMetrics


  pino v4.15.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.16.0
updated 1 package and audited 921 packages in 5.942s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:51:28.604Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:51:28.605Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:51:28.605Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:51:28.605Z appoptics:debug using context provider: ace-context
2022-02-23T04:51:28.679Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:51:28.879Z appoptics:patching patched crypto 
2022-02-23T04:51:28.901Z appoptics:patching patched https 
2022-02-23T04:51:28.902Z appoptics:patching patched http 
2022-02-23T04:51:28.930Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:51:28.931Z appoptics:patching patched fs 
2022-02-23T04:51:28.955Z appoptics:patching patched pino 4.16.0
2022-02-23T04:51:28.959Z appoptics:debug starting runtimeMetrics


  pino v4.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.16.1
updated 1 package and audited 921 packages in 5.639s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:51:35.994Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:51:35.994Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:51:35.995Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:51:35.995Z appoptics:debug using context provider: ace-context
2022-02-23T04:51:36.073Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:51:36.276Z appoptics:patching patched crypto 
2022-02-23T04:51:36.298Z appoptics:patching patched https 
2022-02-23T04:51:36.299Z appoptics:patching patched http 
2022-02-23T04:51:36.328Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:51:36.328Z appoptics:patching patched fs 
2022-02-23T04:51:36.355Z appoptics:patching patched pino 4.16.1
2022-02-23T04:51:36.359Z appoptics:debug starting runtimeMetrics


  pino v4.16.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.0
updated 1 package and audited 921 packages in 6.329s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:51:44.184Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:51:44.185Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:51:44.185Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:51:44.186Z appoptics:debug using context provider: ace-context
2022-02-23T04:51:44.266Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:51:44.477Z appoptics:patching patched crypto 
2022-02-23T04:51:44.501Z appoptics:patching patched https 
2022-02-23T04:51:44.502Z appoptics:patching patched http 
2022-02-23T04:51:44.535Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:51:44.536Z appoptics:patching patched fs 
2022-02-23T04:51:44.562Z appoptics:patching patched pino 4.17.0
2022-02-23T04:51:44.567Z appoptics:debug starting runtimeMetrics


  pino v4.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.1
updated 1 package and audited 921 packages in 5.915s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:51:52.075Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:51:52.075Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:51:52.076Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:51:52.081Z appoptics:debug using context provider: ace-context
2022-02-23T04:51:52.171Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:51:52.404Z appoptics:patching patched crypto 
2022-02-23T04:51:52.429Z appoptics:patching patched https 
2022-02-23T04:51:52.429Z appoptics:patching patched http 
2022-02-23T04:51:52.459Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:51:52.460Z appoptics:patching patched fs 
2022-02-23T04:51:52.504Z appoptics:patching patched pino 4.17.1
2022-02-23T04:51:52.510Z appoptics:debug starting runtimeMetrics


  pino v4.17.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (209ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.2
updated 1 package and audited 921 packages in 5.408s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:51:59.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:51:59.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:51:59.647Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:51:59.650Z appoptics:debug using context provider: ace-context
2022-02-23T04:51:59.728Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:51:59.943Z appoptics:patching patched crypto 
2022-02-23T04:51:59.966Z appoptics:patching patched https 
2022-02-23T04:51:59.966Z appoptics:patching patched http 
2022-02-23T04:51:59.999Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:51:59.999Z appoptics:patching patched fs 
2022-02-23T04:52:00.024Z appoptics:patching patched pino 4.17.2
2022-02-23T04:52:00.029Z appoptics:debug starting runtimeMetrics


  pino v4.17.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.3
updated 1 package and audited 921 packages in 6.459s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:52:07.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:52:07.979Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:52:07.979Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:52:07.980Z appoptics:debug using context provider: ace-context
2022-02-23T04:52:08.052Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:52:08.258Z appoptics:patching patched crypto 
2022-02-23T04:52:08.284Z appoptics:patching patched https 
2022-02-23T04:52:08.285Z appoptics:patching patched http 
2022-02-23T04:52:08.338Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:52:08.351Z appoptics:patching patched fs 
2022-02-23T04:52:08.395Z appoptics:patching patched pino 4.17.3
2022-02-23T04:52:08.403Z appoptics:debug starting runtimeMetrics


  pino v4.17.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.5
updated 1 package and audited 921 packages in 5.237s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:52:15.125Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:52:15.126Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:52:15.126Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:52:15.126Z appoptics:debug using context provider: ace-context
2022-02-23T04:52:15.205Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:52:15.420Z appoptics:patching patched crypto 
2022-02-23T04:52:15.447Z appoptics:patching patched https 
2022-02-23T04:52:15.448Z appoptics:patching patched http 
2022-02-23T04:52:15.515Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:52:15.516Z appoptics:patching patched fs 
2022-02-23T04:52:15.584Z appoptics:patching patched pino 4.17.5
2022-02-23T04:52:15.593Z appoptics:debug starting runtimeMetrics


  pino v4.17.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (201ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.6
updated 1 package and audited 921 packages in 6.113s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:52:23.167Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:52:23.168Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:52:23.168Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:52:23.170Z appoptics:debug using context provider: ace-context
2022-02-23T04:52:23.246Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:52:23.435Z appoptics:patching patched crypto 
2022-02-23T04:52:23.465Z appoptics:patching patched https 
2022-02-23T04:52:23.466Z appoptics:patching patched http 
2022-02-23T04:52:23.499Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:52:23.499Z appoptics:patching patched fs 
2022-02-23T04:52:23.526Z appoptics:patching patched pino 4.17.6
2022-02-23T04:52:23.531Z appoptics:debug starting runtimeMetrics


  pino v4.17.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.0
added 2 packages from 2 contributors, removed 8 packages, updated 3 packages and audited 915 packages in 6.114s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:52:31.202Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:52:31.207Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:52:31.207Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:52:31.208Z appoptics:debug using context provider: ace-context
2022-02-23T04:52:31.302Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:52:31.525Z appoptics:patching patched crypto 
2022-02-23T04:52:31.548Z appoptics:patching patched https 
2022-02-23T04:52:31.548Z appoptics:patching patched http 
2022-02-23T04:52:31.619Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:52:31.620Z appoptics:patching patched fs 
2022-02-23T04:52:31.642Z appoptics:patching patched pino 5.0.0
2022-02-23T04:52:31.650Z appoptics:debug starting runtimeMetrics


  pino v5.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (106ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (205ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.1
updated 2 packages and audited 915 packages in 5.991s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:52:39.115Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:52:39.116Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:52:39.117Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:52:39.117Z appoptics:debug using context provider: ace-context
2022-02-23T04:52:39.202Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:52:39.406Z appoptics:patching patched crypto 
2022-02-23T04:52:39.430Z appoptics:patching patched https 
2022-02-23T04:52:39.431Z appoptics:patching patched http 
2022-02-23T04:52:39.463Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:52:39.463Z appoptics:patching patched fs 
2022-02-23T04:52:39.473Z appoptics:patching patched pino 5.0.1
2022-02-23T04:52:39.479Z appoptics:debug starting runtimeMetrics


  pino v5.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.2
updated 1 package and audited 915 packages in 6.005s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:52:46.876Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:52:46.877Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:52:46.877Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:52:46.879Z appoptics:debug using context provider: ace-context
2022-02-23T04:52:46.952Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:52:47.156Z appoptics:patching patched crypto 
2022-02-23T04:52:47.178Z appoptics:patching patched https 
2022-02-23T04:52:47.179Z appoptics:patching patched http 
2022-02-23T04:52:47.213Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:52:47.214Z appoptics:patching patched fs 
2022-02-23T04:52:47.224Z appoptics:patching patched pino 5.0.2
2022-02-23T04:52:47.229Z appoptics:debug starting runtimeMetrics


  pino v5.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.3
updated 1 package and audited 915 packages in 6.082s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:52:54.748Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:52:54.749Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:52:54.749Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:52:54.750Z appoptics:debug using context provider: ace-context
2022-02-23T04:52:54.838Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:52:55.056Z appoptics:patching patched crypto 
2022-02-23T04:52:55.083Z appoptics:patching patched https 
2022-02-23T04:52:55.110Z appoptics:patching patched http 
2022-02-23T04:52:55.147Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:52:55.147Z appoptics:patching patched fs 
2022-02-23T04:52:55.159Z appoptics:patching patched pino 5.0.3
2022-02-23T04:52:55.164Z appoptics:debug starting runtimeMetrics


  pino v5.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (109ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (194ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.4
updated 1 package and audited 915 packages in 5.706s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:53:02.547Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:53:02.547Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:53:02.547Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:53:02.548Z appoptics:debug using context provider: ace-context
2022-02-23T04:53:02.622Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:53:02.814Z appoptics:patching patched crypto 
2022-02-23T04:53:02.837Z appoptics:patching patched https 
2022-02-23T04:53:02.838Z appoptics:patching patched http 
2022-02-23T04:53:02.870Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:53:02.871Z appoptics:patching patched fs 
2022-02-23T04:53:02.882Z appoptics:patching patched pino 5.0.4
2022-02-23T04:53:02.886Z appoptics:debug starting runtimeMetrics


  pino v5.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.5
updated 1 package and audited 915 packages in 5.762s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:53:10.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:53:10.201Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:53:10.201Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:53:10.201Z appoptics:debug using context provider: ace-context
2022-02-23T04:53:10.286Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:53:10.508Z appoptics:patching patched crypto 
2022-02-23T04:53:10.533Z appoptics:patching patched https 
2022-02-23T04:53:10.533Z appoptics:patching patched http 
2022-02-23T04:53:10.567Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:53:10.568Z appoptics:patching patched fs 
2022-02-23T04:53:10.579Z appoptics:patching patched pino 5.0.5
2022-02-23T04:53:10.586Z appoptics:debug starting runtimeMetrics


  pino v5.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.1.0
updated 1 package and audited 915 packages in 5.244s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:53:17.287Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:53:17.288Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:53:17.288Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:53:17.290Z appoptics:debug using context provider: ace-context
2022-02-23T04:53:17.364Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:53:17.567Z appoptics:patching patched crypto 
2022-02-23T04:53:17.590Z appoptics:patching patched https 
2022-02-23T04:53:17.591Z appoptics:patching patched http 
2022-02-23T04:53:17.622Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:53:17.622Z appoptics:patching patched fs 
2022-02-23T04:53:17.633Z appoptics:patching patched pino 5.1.0
2022-02-23T04:53:17.638Z appoptics:debug starting runtimeMetrics


  pino v5.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.1.1
updated 1 package and audited 915 packages in 7.569s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:53:26.666Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:53:26.666Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:53:26.666Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:53:26.669Z appoptics:debug using context provider: ace-context
2022-02-23T04:53:26.767Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:53:26.973Z appoptics:patching patched crypto 
2022-02-23T04:53:26.995Z appoptics:patching patched https 
2022-02-23T04:53:26.995Z appoptics:patching patched http 
2022-02-23T04:53:27.029Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:53:27.029Z appoptics:patching patched fs 
2022-02-23T04:53:27.040Z appoptics:patching patched pino 5.1.1
2022-02-23T04:53:27.045Z appoptics:debug starting runtimeMetrics


  pino v5.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.2.0
updated 1 package and audited 915 packages in 5.439s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:53:34.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:53:34.388Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:53:34.388Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:53:34.408Z appoptics:debug using context provider: ace-context
2022-02-23T04:53:34.549Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:53:34.776Z appoptics:patching patched crypto 
2022-02-23T04:53:34.819Z appoptics:patching patched https 
2022-02-23T04:53:34.819Z appoptics:patching patched http 
2022-02-23T04:53:34.854Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:53:34.854Z appoptics:patching patched fs 
2022-02-23T04:53:34.865Z appoptics:patching patched pino 5.2.0
2022-02-23T04:53:34.870Z appoptics:debug starting runtimeMetrics


  pino v5.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.3.0
updated 1 package and audited 915 packages in 5.911s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:53:42.274Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:53:42.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:53:42.275Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:53:42.278Z appoptics:debug using context provider: ace-context
2022-02-23T04:53:42.351Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:53:42.548Z appoptics:patching patched crypto 
2022-02-23T04:53:42.571Z appoptics:patching patched https 
2022-02-23T04:53:42.573Z appoptics:patching patched http 
2022-02-23T04:53:42.606Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:53:42.607Z appoptics:patching patched fs 
2022-02-23T04:53:42.618Z appoptics:patching patched pino 5.3.0
2022-02-23T04:53:42.622Z appoptics:debug starting runtimeMetrics


  pino v5.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.3.1
updated 1 package and audited 915 packages in 6.303s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:53:50.399Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:53:50.399Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:53:50.399Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:53:50.400Z appoptics:debug using context provider: ace-context
2022-02-23T04:53:50.468Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:53:50.667Z appoptics:patching patched crypto 
2022-02-23T04:53:50.691Z appoptics:patching patched https 
2022-02-23T04:53:50.692Z appoptics:patching patched http 
2022-02-23T04:53:50.727Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:53:50.727Z appoptics:patching patched fs 
2022-02-23T04:53:50.738Z appoptics:patching patched pino 5.3.1
2022-02-23T04:53:50.742Z appoptics:debug starting runtimeMetrics


  pino v5.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.4.0
updated 1 package and audited 915 packages in 5.412s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:53:57.558Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:53:57.559Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:53:57.559Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:53:57.560Z appoptics:debug using context provider: ace-context
2022-02-23T04:53:57.635Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:53:57.813Z appoptics:patching patched crypto 
2022-02-23T04:53:57.835Z appoptics:patching patched https 
2022-02-23T04:53:57.835Z appoptics:patching patched http 
2022-02-23T04:53:57.864Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:53:57.865Z appoptics:patching patched fs 
2022-02-23T04:53:57.878Z appoptics:patching patched pino 5.4.0
2022-02-23T04:53:57.884Z appoptics:debug starting runtimeMetrics


  pino v5.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.4.1
updated 1 package and audited 915 packages in 6.121s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:54:05.482Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:54:05.483Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:54:05.483Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:54:05.483Z appoptics:debug using context provider: ace-context
2022-02-23T04:54:05.557Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:54:05.754Z appoptics:patching patched crypto 
2022-02-23T04:54:05.776Z appoptics:patching patched https 
2022-02-23T04:54:05.777Z appoptics:patching patched http 
2022-02-23T04:54:05.808Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:54:05.808Z appoptics:patching patched fs 
2022-02-23T04:54:05.821Z appoptics:patching patched pino 5.4.1
2022-02-23T04:54:05.825Z appoptics:debug starting runtimeMetrics


  pino v5.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.5.0
updated 1 package and audited 915 packages in 7.633s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:54:14.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:54:14.859Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:54:14.859Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:54:14.860Z appoptics:debug using context provider: ace-context
2022-02-23T04:54:14.963Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:54:15.159Z appoptics:patching patched crypto 
2022-02-23T04:54:15.183Z appoptics:patching patched https 
2022-02-23T04:54:15.184Z appoptics:patching patched http 
2022-02-23T04:54:15.220Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:54:15.220Z appoptics:patching patched fs 
2022-02-23T04:54:15.231Z appoptics:patching patched pino 5.5.0
2022-02-23T04:54:15.237Z appoptics:debug starting runtimeMetrics


  pino v5.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.0
updated 1 package and audited 915 packages in 5.693s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:54:22.328Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:54:22.329Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:54:22.329Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:54:22.330Z appoptics:debug using context provider: ace-context
2022-02-23T04:54:22.407Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:54:22.608Z appoptics:patching patched crypto 
2022-02-23T04:54:22.641Z appoptics:patching patched https 
2022-02-23T04:54:22.642Z appoptics:patching patched http 
2022-02-23T04:54:22.669Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:54:22.670Z appoptics:patching patched fs 
2022-02-23T04:54:22.682Z appoptics:patching patched pino 5.6.0
2022-02-23T04:54:22.686Z appoptics:debug starting runtimeMetrics


  pino v5.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.1
updated 1 package and audited 915 packages in 6.445s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:54:30.529Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:54:30.530Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:54:30.530Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:54:30.531Z appoptics:debug using context provider: ace-context
2022-02-23T04:54:30.608Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:54:30.805Z appoptics:patching patched crypto 
2022-02-23T04:54:30.830Z appoptics:patching patched https 
2022-02-23T04:54:30.831Z appoptics:patching patched http 
2022-02-23T04:54:30.886Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:54:30.886Z appoptics:patching patched fs 
2022-02-23T04:54:30.904Z appoptics:patching patched pino 5.6.1
2022-02-23T04:54:30.913Z appoptics:debug starting runtimeMetrics


  pino v5.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (256ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.2
updated 1 package and audited 915 packages in 5.363s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:54:38.158Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:54:38.158Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:54:38.158Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:54:38.161Z appoptics:debug using context provider: ace-context
2022-02-23T04:54:38.247Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:54:38.476Z appoptics:patching patched crypto 
2022-02-23T04:54:38.516Z appoptics:patching patched https 
2022-02-23T04:54:38.516Z appoptics:patching patched http 
2022-02-23T04:54:38.565Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:54:38.566Z appoptics:patching patched fs 
2022-02-23T04:54:38.579Z appoptics:patching patched pino 5.6.2
2022-02-23T04:54:38.583Z appoptics:debug starting runtimeMetrics


  pino v5.6.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (200ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.3
updated 1 package and audited 915 packages in 5.712s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:54:45.804Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:54:45.805Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:54:45.805Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:54:45.807Z appoptics:debug using context provider: ace-context
2022-02-23T04:54:45.883Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:54:46.075Z appoptics:patching patched crypto 
2022-02-23T04:54:46.106Z appoptics:patching patched https 
2022-02-23T04:54:46.107Z appoptics:patching patched http 
2022-02-23T04:54:46.139Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:54:46.140Z appoptics:patching patched fs 
2022-02-23T04:54:46.151Z appoptics:patching patched pino 5.6.3
2022-02-23T04:54:46.157Z appoptics:debug starting runtimeMetrics


  pino v5.6.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.4
updated 1 package and audited 915 packages in 6.299s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:54:53.893Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:54:53.894Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:54:53.894Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:54:53.896Z appoptics:debug using context provider: ace-context
2022-02-23T04:54:53.974Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:54:54.168Z appoptics:patching patched crypto 
2022-02-23T04:54:54.191Z appoptics:patching patched https 
2022-02-23T04:54:54.192Z appoptics:patching patched http 
2022-02-23T04:54:54.225Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:54:54.226Z appoptics:patching patched fs 
2022-02-23T04:54:54.237Z appoptics:patching patched pino 5.6.4
2022-02-23T04:54:54.242Z appoptics:debug starting runtimeMetrics


  pino v5.6.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.7.0
updated 1 package and audited 915 packages in 5.275s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:55:00.869Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:55:00.869Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:55:00.869Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:55:00.870Z appoptics:debug using context provider: ace-context
2022-02-23T04:55:00.943Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:55:01.152Z appoptics:patching patched crypto 
2022-02-23T04:55:01.183Z appoptics:patching patched https 
2022-02-23T04:55:01.183Z appoptics:patching patched http 
2022-02-23T04:55:01.219Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:55:01.220Z appoptics:patching patched fs 
2022-02-23T04:55:01.230Z appoptics:patching patched pino 5.7.0
2022-02-23T04:55:01.235Z appoptics:debug starting runtimeMetrics


  pino v5.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.8.0
updated 1 package and audited 915 packages in 7.076s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:55:09.911Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:55:09.911Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:55:09.912Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:55:09.912Z appoptics:debug using context provider: ace-context
2022-02-23T04:55:09.999Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:55:10.264Z appoptics:patching patched crypto 
2022-02-23T04:55:10.297Z appoptics:patching patched https 
2022-02-23T04:55:10.298Z appoptics:patching patched http 
2022-02-23T04:55:10.337Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:55:10.338Z appoptics:patching patched fs 
2022-02-23T04:55:10.349Z appoptics:patching patched pino 5.8.0
2022-02-23T04:55:10.355Z appoptics:debug starting runtimeMetrics


  pino v5.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (186ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.8.1
updated 1 package and audited 915 packages in 6.205s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:55:18.236Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:55:18.237Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:55:18.237Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:55:18.238Z appoptics:debug using context provider: ace-context
2022-02-23T04:55:18.311Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:55:18.512Z appoptics:patching patched crypto 
2022-02-23T04:55:18.551Z appoptics:patching patched https 
2022-02-23T04:55:18.552Z appoptics:patching patched http 
2022-02-23T04:55:18.609Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:55:18.610Z appoptics:patching patched fs 
2022-02-23T04:55:18.617Z appoptics:patching patched pino 5.8.1
2022-02-23T04:55:18.627Z appoptics:debug starting runtimeMetrics


  pino v5.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (203ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.9.0
updated 1 package and audited 915 packages in 5.419s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:55:25.523Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:55:25.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:55:25.524Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:55:25.527Z appoptics:debug using context provider: ace-context
2022-02-23T04:55:25.620Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:55:25.895Z appoptics:patching patched crypto 
2022-02-23T04:55:25.948Z appoptics:patching patched https 
2022-02-23T04:55:25.948Z appoptics:patching patched http 
2022-02-23T04:55:25.989Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:55:25.990Z appoptics:patching patched fs 
2022-02-23T04:55:25.997Z appoptics:patching patched pino 5.9.0
2022-02-23T04:55:26.005Z appoptics:debug starting runtimeMetrics


  pino v5.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (191ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.1
added 1 package from 1 contributor, updated 2 packages and audited 916 packages in 6.381s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:55:33.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:55:33.820Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:55:33.821Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:55:33.821Z appoptics:debug using context provider: ace-context
2022-02-23T04:55:33.898Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:55:34.103Z appoptics:patching patched crypto 
2022-02-23T04:55:34.124Z appoptics:patching patched https 
2022-02-23T04:55:34.125Z appoptics:patching patched http 
2022-02-23T04:55:34.164Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:55:34.164Z appoptics:patching patched fs 
2022-02-23T04:55:34.171Z appoptics:patching patched pino 5.10.1
2022-02-23T04:55:34.176Z appoptics:debug starting runtimeMetrics


  pino v5.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.2
updated 1 package and audited 916 packages in 5.683s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:55:41.506Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:55:41.507Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:55:41.507Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:55:41.510Z appoptics:debug using context provider: ace-context
2022-02-23T04:55:41.608Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:55:41.823Z appoptics:patching patched crypto 
2022-02-23T04:55:41.880Z appoptics:patching patched https 
2022-02-23T04:55:41.880Z appoptics:patching patched http 
2022-02-23T04:55:41.921Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:55:41.922Z appoptics:patching patched fs 
2022-02-23T04:55:41.931Z appoptics:patching patched pino 5.10.2
2022-02-23T04:55:41.936Z appoptics:debug starting runtimeMetrics


  pino v5.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.3
updated 1 package and audited 916 packages in 5.599s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:55:49.172Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:55:49.172Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:55:49.175Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:55:49.176Z appoptics:debug using context provider: ace-context
2022-02-23T04:55:49.275Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:55:49.553Z appoptics:patching patched crypto 
2022-02-23T04:55:49.574Z appoptics:patching patched https 
2022-02-23T04:55:49.575Z appoptics:patching patched http 
2022-02-23T04:55:49.609Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:55:49.610Z appoptics:patching patched fs 
2022-02-23T04:55:49.616Z appoptics:patching patched pino 5.10.3
2022-02-23T04:55:49.621Z appoptics:debug starting runtimeMetrics


  pino v5.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.4
updated 1 package and audited 916 packages in 5.619s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:55:56.678Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:55:56.679Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:55:56.679Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:55:56.680Z appoptics:debug using context provider: ace-context
2022-02-23T04:55:56.763Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:55:56.958Z appoptics:patching patched crypto 
2022-02-23T04:55:56.981Z appoptics:patching patched https 
2022-02-23T04:55:56.981Z appoptics:patching patched http 
2022-02-23T04:55:57.016Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:55:57.017Z appoptics:patching patched fs 
2022-02-23T04:55:57.025Z appoptics:patching patched pino 5.10.4
2022-02-23T04:55:57.030Z appoptics:debug starting runtimeMetrics


  pino v5.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.5
removed 3 packages, updated 1 package and audited 913 packages in 5.597s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:56:03.974Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:56:03.975Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:56:03.975Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:56:03.977Z appoptics:debug using context provider: ace-context
2022-02-23T04:56:04.050Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:56:04.247Z appoptics:patching patched crypto 
2022-02-23T04:56:04.270Z appoptics:patching patched https 
2022-02-23T04:56:04.270Z appoptics:patching patched http 
2022-02-23T04:56:04.308Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:56:04.309Z appoptics:patching patched fs 
2022-02-23T04:56:04.315Z appoptics:patching patched pino 5.10.5
2022-02-23T04:56:04.320Z appoptics:debug starting runtimeMetrics


  pino v5.10.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.6
updated 1 package and audited 913 packages in 6.381s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:56:12.091Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:56:12.091Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:56:12.092Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:56:12.092Z appoptics:debug using context provider: ace-context
2022-02-23T04:56:12.170Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:56:12.367Z appoptics:patching patched crypto 
2022-02-23T04:56:12.392Z appoptics:patching patched https 
2022-02-23T04:56:12.393Z appoptics:patching patched http 
2022-02-23T04:56:12.433Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:56:12.434Z appoptics:patching patched fs 
2022-02-23T04:56:12.443Z appoptics:patching patched pino 5.10.6
2022-02-23T04:56:12.450Z appoptics:debug starting runtimeMetrics


  pino v5.10.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.7
updated 1 package and audited 913 packages in 5.209s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:56:19.285Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:56:19.286Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:56:19.286Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:56:19.288Z appoptics:debug using context provider: ace-context
2022-02-23T04:56:19.387Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:56:19.640Z appoptics:patching patched crypto 
2022-02-23T04:56:19.701Z appoptics:patching patched https 
2022-02-23T04:56:19.702Z appoptics:patching patched http 
2022-02-23T04:56:19.785Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:56:19.785Z appoptics:patching patched fs 
2022-02-23T04:56:19.792Z appoptics:patching patched pino 5.10.7
2022-02-23T04:56:19.798Z appoptics:debug starting runtimeMetrics


  pino v5.10.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (186ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.8
updated 1 package and audited 913 packages in 5.847s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:56:27.411Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:56:27.412Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:56:27.412Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:56:27.413Z appoptics:debug using context provider: ace-context
2022-02-23T04:56:27.489Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:56:27.683Z appoptics:patching patched crypto 
2022-02-23T04:56:27.706Z appoptics:patching patched https 
2022-02-23T04:56:27.707Z appoptics:patching patched http 
2022-02-23T04:56:27.745Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:56:27.745Z appoptics:patching patched fs 
2022-02-23T04:56:27.751Z appoptics:patching patched pino 5.10.8
2022-02-23T04:56:27.756Z appoptics:debug starting runtimeMetrics


  pino v5.10.8
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.9
updated 1 package and audited 913 packages in 6.311s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:56:35.441Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:56:35.441Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:56:35.442Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:56:35.442Z appoptics:debug using context provider: ace-context
2022-02-23T04:56:35.513Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:56:35.713Z appoptics:patching patched crypto 
2022-02-23T04:56:35.735Z appoptics:patching patched https 
2022-02-23T04:56:35.735Z appoptics:patching patched http 
2022-02-23T04:56:35.772Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:56:35.773Z appoptics:patching patched fs 
2022-02-23T04:56:35.780Z appoptics:patching patched pino 5.10.9
2022-02-23T04:56:35.784Z appoptics:debug starting runtimeMetrics


  pino v5.10.9
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.10
updated 1 package and audited 913 packages in 5.262s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:56:42.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:56:42.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:56:42.418Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:56:42.420Z appoptics:debug using context provider: ace-context
2022-02-23T04:56:42.499Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:56:42.702Z appoptics:patching patched crypto 
2022-02-23T04:56:42.731Z appoptics:patching patched https 
2022-02-23T04:56:42.732Z appoptics:patching patched http 
2022-02-23T04:56:42.767Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:56:42.768Z appoptics:patching patched fs 
2022-02-23T04:56:42.774Z appoptics:patching patched pino 5.10.10
2022-02-23T04:56:42.779Z appoptics:debug starting runtimeMetrics


  pino v5.10.10
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.0
updated 1 package and audited 913 packages in 6.827s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:56:51.124Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:56:51.125Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:56:51.125Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:56:51.126Z appoptics:debug using context provider: ace-context
2022-02-23T04:56:51.202Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:56:51.420Z appoptics:patching patched crypto 
2022-02-23T04:56:51.441Z appoptics:patching patched https 
2022-02-23T04:56:51.441Z appoptics:patching patched http 
2022-02-23T04:56:51.478Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:56:51.479Z appoptics:patching patched fs 
2022-02-23T04:56:51.484Z appoptics:patching patched pino 5.11.0
2022-02-23T04:56:51.490Z appoptics:debug starting runtimeMetrics


  pino v5.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.1
updated 1 package and audited 913 packages in 5.461s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:56:58.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:56:58.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:56:58.472Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:56:58.475Z appoptics:debug using context provider: ace-context
2022-02-23T04:56:58.567Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:56:58.781Z appoptics:patching patched crypto 
2022-02-23T04:56:58.829Z appoptics:patching patched https 
2022-02-23T04:56:58.830Z appoptics:patching patched http 
2022-02-23T04:56:58.888Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:56:58.893Z appoptics:patching patched fs 
2022-02-23T04:56:58.901Z appoptics:patching patched pino 5.11.1
2022-02-23T04:56:58.906Z appoptics:debug starting runtimeMetrics


  pino v5.11.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.2
updated 1 package and audited 913 packages in 5.407s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:57:05.873Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:57:05.874Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:57:05.874Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:57:05.876Z appoptics:debug using context provider: ace-context
2022-02-23T04:57:05.955Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:57:06.151Z appoptics:patching patched crypto 
2022-02-23T04:57:06.172Z appoptics:patching patched https 
2022-02-23T04:57:06.172Z appoptics:patching patched http 
2022-02-23T04:57:06.236Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:57:06.237Z appoptics:patching patched fs 
2022-02-23T04:57:06.245Z appoptics:patching patched pino 5.11.2
2022-02-23T04:57:06.254Z appoptics:debug starting runtimeMetrics


  pino v5.11.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (197ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.3
updated 1 package and audited 913 packages in 6.045s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:57:13.870Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:57:13.871Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:57:13.871Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:57:13.872Z appoptics:debug using context provider: ace-context
2022-02-23T04:57:13.950Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:57:14.159Z appoptics:patching patched crypto 
2022-02-23T04:57:14.218Z appoptics:patching patched https 
2022-02-23T04:57:14.223Z appoptics:patching patched http 
2022-02-23T04:57:14.308Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:57:14.309Z appoptics:patching patched fs 
2022-02-23T04:57:14.326Z appoptics:patching patched pino 5.11.3
2022-02-23T04:57:14.334Z appoptics:debug starting runtimeMetrics


  pino v5.11.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (186ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.0
updated 1 package and audited 913 packages in 5.187s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:57:20.916Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:57:20.917Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:57:20.917Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:57:20.920Z appoptics:debug using context provider: ace-context
2022-02-23T04:57:20.992Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:57:21.187Z appoptics:patching patched crypto 
2022-02-23T04:57:21.209Z appoptics:patching patched https 
2022-02-23T04:57:21.210Z appoptics:patching patched http 
2022-02-23T04:57:21.248Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:57:21.248Z appoptics:patching patched fs 
2022-02-23T04:57:21.255Z appoptics:patching patched pino 5.12.0
2022-02-23T04:57:21.259Z appoptics:debug starting runtimeMetrics


  pino v5.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.1
updated 1 package and audited 913 packages in 6.062s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:57:28.969Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:57:28.969Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:57:28.970Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:57:28.973Z appoptics:debug using context provider: ace-context
2022-02-23T04:57:29.084Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:57:29.291Z appoptics:patching patched crypto 
2022-02-23T04:57:29.320Z appoptics:patching patched https 
2022-02-23T04:57:29.320Z appoptics:patching patched http 
2022-02-23T04:57:29.355Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:57:29.355Z appoptics:patching patched fs 
2022-02-23T04:57:29.361Z appoptics:patching patched pino 5.12.1
2022-02-23T04:57:29.365Z appoptics:debug starting runtimeMetrics


  pino v5.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.2
updated 1 package and audited 913 packages in 5.555s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:57:36.393Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:57:36.394Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:57:36.394Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:57:36.396Z appoptics:debug using context provider: ace-context
2022-02-23T04:57:36.487Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:57:36.710Z appoptics:patching patched crypto 
2022-02-23T04:57:36.762Z appoptics:patching patched https 
2022-02-23T04:57:36.763Z appoptics:patching patched http 
2022-02-23T04:57:36.805Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:57:36.806Z appoptics:patching patched fs 
2022-02-23T04:57:36.812Z appoptics:patching patched pino 5.12.2
2022-02-23T04:57:36.818Z appoptics:debug starting runtimeMetrics


  pino v5.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.3
updated 1 package and audited 913 packages in 5.563s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:57:44.005Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:57:44.006Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:57:44.006Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:57:44.007Z appoptics:debug using context provider: ace-context
2022-02-23T04:57:44.087Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:57:44.282Z appoptics:patching patched crypto 
2022-02-23T04:57:44.301Z appoptics:patching patched https 
2022-02-23T04:57:44.302Z appoptics:patching patched http 
2022-02-23T04:57:44.343Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:57:44.343Z appoptics:patching patched fs 
2022-02-23T04:57:44.350Z appoptics:patching patched pino 5.12.3
2022-02-23T04:57:44.354Z appoptics:debug starting runtimeMetrics


  pino v5.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.4
updated 1 package and audited 913 packages in 5.72s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:57:51.684Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:57:51.685Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:57:51.685Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:57:51.687Z appoptics:debug using context provider: ace-context
2022-02-23T04:57:51.763Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:57:51.954Z appoptics:patching patched crypto 
2022-02-23T04:57:51.978Z appoptics:patching patched https 
2022-02-23T04:57:51.978Z appoptics:patching patched http 
2022-02-23T04:57:52.019Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:57:52.019Z appoptics:patching patched fs 
2022-02-23T04:57:52.026Z appoptics:patching patched pino 5.12.4
2022-02-23T04:57:52.030Z appoptics:debug starting runtimeMetrics


  pino v5.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.5
updated 1 package and audited 913 packages in 5.308s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:57:58.851Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:57:58.852Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:57:58.852Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:57:58.854Z appoptics:debug using context provider: ace-context
2022-02-23T04:57:58.927Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:57:59.115Z appoptics:patching patched crypto 
2022-02-23T04:57:59.136Z appoptics:patching patched https 
2022-02-23T04:57:59.136Z appoptics:patching patched http 
2022-02-23T04:57:59.169Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:57:59.169Z appoptics:patching patched fs 
2022-02-23T04:57:59.175Z appoptics:patching patched pino 5.12.5
2022-02-23T04:57:59.180Z appoptics:debug starting runtimeMetrics


  pino v5.12.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.6
updated 1 package and audited 913 packages in 6.718s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:58:07.299Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:58:07.300Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:58:07.300Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:58:07.301Z appoptics:debug using context provider: ace-context
2022-02-23T04:58:07.375Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:58:07.569Z appoptics:patching patched crypto 
2022-02-23T04:58:07.592Z appoptics:patching patched https 
2022-02-23T04:58:07.593Z appoptics:patching patched http 
2022-02-23T04:58:07.654Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:58:07.654Z appoptics:patching patched fs 
2022-02-23T04:58:07.661Z appoptics:patching patched pino 5.12.6
2022-02-23T04:58:07.666Z appoptics:debug starting runtimeMetrics


  pino v5.12.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.0
updated 1 package and audited 913 packages in 6.013s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:58:15.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:58:15.242Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:58:15.242Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:58:15.243Z appoptics:debug using context provider: ace-context
2022-02-23T04:58:15.338Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:58:15.743Z appoptics:patching patched crypto 
2022-02-23T04:58:15.775Z appoptics:patching patched https 
2022-02-23T04:58:15.776Z appoptics:patching patched http 
2022-02-23T04:58:15.825Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:58:15.826Z appoptics:patching patched fs 
2022-02-23T04:58:15.836Z appoptics:patching patched pino 5.13.0
2022-02-23T04:58:15.842Z appoptics:debug starting runtimeMetrics


  pino v5.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (185ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.1
updated 1 package and audited 913 packages in 4.996s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:58:22.337Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:58:22.338Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:58:22.338Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:58:22.340Z appoptics:debug using context provider: ace-context
2022-02-23T04:58:22.412Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:58:22.618Z appoptics:patching patched crypto 
2022-02-23T04:58:22.640Z appoptics:patching patched https 
2022-02-23T04:58:22.641Z appoptics:patching patched http 
2022-02-23T04:58:22.681Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:58:22.681Z appoptics:patching patched fs 
2022-02-23T04:58:22.698Z appoptics:patching patched pino 5.13.1
2022-02-23T04:58:22.704Z appoptics:debug starting runtimeMetrics


  pino v5.13.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.2
updated 1 package and audited 913 packages in 6.348s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:58:30.579Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:58:30.580Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:58:30.580Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:58:30.581Z appoptics:debug using context provider: ace-context
2022-02-23T04:58:30.665Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:58:30.863Z appoptics:patching patched crypto 
2022-02-23T04:58:30.885Z appoptics:patching patched https 
2022-02-23T04:58:30.886Z appoptics:patching patched http 
2022-02-23T04:58:30.929Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:58:30.930Z appoptics:patching patched fs 
2022-02-23T04:58:30.936Z appoptics:patching patched pino 5.13.2
2022-02-23T04:58:30.941Z appoptics:debug starting runtimeMetrics


  pino v5.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.3
updated 1 package and audited 913 packages in 7.6s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:58:40.161Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:58:40.162Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:58:40.162Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:58:40.165Z appoptics:debug using context provider: ace-context
2022-02-23T04:58:40.264Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:58:40.489Z appoptics:patching patched crypto 
2022-02-23T04:58:40.559Z appoptics:patching patched https 
2022-02-23T04:58:40.560Z appoptics:patching patched http 
2022-02-23T04:58:40.602Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:58:40.602Z appoptics:patching patched fs 
2022-02-23T04:58:40.610Z appoptics:patching patched pino 5.13.3
2022-02-23T04:58:40.615Z appoptics:debug starting runtimeMetrics


  pino v5.13.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.4
updated 2 packages and audited 913 packages in 5.603s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:58:47.842Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:58:47.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:58:47.842Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:58:47.844Z appoptics:debug using context provider: ace-context
2022-02-23T04:58:47.920Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:58:48.148Z appoptics:patching patched crypto 
2022-02-23T04:58:48.170Z appoptics:patching patched https 
2022-02-23T04:58:48.171Z appoptics:patching patched http 
2022-02-23T04:58:48.208Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:58:48.208Z appoptics:patching patched fs 
2022-02-23T04:58:48.216Z appoptics:patching patched pino 5.13.4
2022-02-23T04:58:48.221Z appoptics:debug starting runtimeMetrics


  pino v5.13.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.5
updated 1 package and audited 913 packages in 5.768s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:58:55.338Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:58:55.340Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:58:55.340Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:58:55.341Z appoptics:debug using context provider: ace-context
2022-02-23T04:58:55.415Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:58:55.617Z appoptics:patching patched crypto 
2022-02-23T04:58:55.640Z appoptics:patching patched https 
2022-02-23T04:58:55.641Z appoptics:patching patched http 
2022-02-23T04:58:55.675Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:58:55.676Z appoptics:patching patched fs 
2022-02-23T04:58:55.682Z appoptics:patching patched pino 5.13.5
2022-02-23T04:58:55.686Z appoptics:debug starting runtimeMetrics


  pino v5.13.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.6
updated 1 package and audited 913 packages in 5.378s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:59:02.562Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:59:02.563Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:59:02.563Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:59:02.563Z appoptics:debug using context provider: ace-context
2022-02-23T04:59:02.632Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:59:02.827Z appoptics:patching patched crypto 
2022-02-23T04:59:02.850Z appoptics:patching patched https 
2022-02-23T04:59:02.850Z appoptics:patching patched http 
2022-02-23T04:59:02.884Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:59:02.885Z appoptics:patching patched fs 
2022-02-23T04:59:02.892Z appoptics:patching patched pino 5.13.6
2022-02-23T04:59:02.896Z appoptics:debug starting runtimeMetrics


  pino v5.13.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.14.0
updated 1 package and audited 913 packages in 6.58s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:59:10.940Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:59:10.941Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:59:10.941Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:59:10.943Z appoptics:debug using context provider: ace-context
2022-02-23T04:59:11.022Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:59:11.227Z appoptics:patching patched crypto 
2022-02-23T04:59:11.254Z appoptics:patching patched https 
2022-02-23T04:59:11.254Z appoptics:patching patched http 
2022-02-23T04:59:11.291Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:59:11.292Z appoptics:patching patched fs 
2022-02-23T04:59:11.299Z appoptics:patching patched pino 5.14.0
2022-02-23T04:59:11.303Z appoptics:debug starting runtimeMetrics


  pino v5.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (184ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.15.0
updated 1 package and audited 913 packages in 5.617s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:59:18.510Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:59:18.511Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:59:18.511Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:59:18.515Z appoptics:debug using context provider: ace-context
2022-02-23T04:59:18.633Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:59:18.909Z appoptics:patching patched crypto 
2022-02-23T04:59:18.977Z appoptics:patching patched https 
2022-02-23T04:59:18.978Z appoptics:patching patched http 
2022-02-23T04:59:19.021Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:59:19.022Z appoptics:patching patched fs 
2022-02-23T04:59:19.027Z appoptics:patching patched pino 5.15.0
2022-02-23T04:59:19.036Z appoptics:debug starting runtimeMetrics


  pino v5.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.16.0
updated 1 package and audited 913 packages in 5.437s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:59:25.977Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:59:25.977Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:59:25.978Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:59:25.980Z appoptics:debug using context provider: ace-context
2022-02-23T04:59:26.060Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:59:26.261Z appoptics:patching patched crypto 
2022-02-23T04:59:26.284Z appoptics:patching patched https 
2022-02-23T04:59:26.284Z appoptics:patching patched http 
2022-02-23T04:59:26.321Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:59:26.322Z appoptics:patching patched fs 
2022-02-23T04:59:26.329Z appoptics:patching patched pino 5.16.0
2022-02-23T04:59:26.335Z appoptics:debug starting runtimeMetrics


  pino v5.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.17.0
updated 1 package and audited 913 packages in 6.199s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:59:34.064Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:59:34.066Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:59:34.066Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:59:34.069Z appoptics:debug using context provider: ace-context
2022-02-23T04:59:34.143Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:59:34.347Z appoptics:patching patched crypto 
2022-02-23T04:59:34.375Z appoptics:patching patched https 
2022-02-23T04:59:34.376Z appoptics:patching patched http 
2022-02-23T04:59:34.413Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:59:34.413Z appoptics:patching patched fs 
2022-02-23T04:59:34.421Z appoptics:patching patched pino 5.17.0
2022-02-23T04:59:34.426Z appoptics:debug starting runtimeMetrics


  pino v5.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.0.0
updated 3 packages and audited 913 packages in 5.228s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:59:41.091Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:59:41.091Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:59:41.092Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:59:41.094Z appoptics:debug using context provider: ace-context
2022-02-23T04:59:41.165Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:59:41.353Z appoptics:patching patched crypto 
2022-02-23T04:59:41.375Z appoptics:patching patched https 
2022-02-23T04:59:41.376Z appoptics:patching patched http 
2022-02-23T04:59:41.417Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:59:41.418Z appoptics:patching patched fs 
2022-02-23T04:59:41.425Z appoptics:patching patched pino 6.0.0
2022-02-23T04:59:41.430Z appoptics:debug starting runtimeMetrics


  pino v6.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (195ms)
  14 failing

  1) pino v6.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4018
         "time": 1645592381460
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4018
         "time": 1645592381468
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4018
         "time": 1645592381471
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4018
         "time": 1645592381474
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4018
         "time": 1645592381477
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4018
         "time": 1645592381480
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4018
         "time": 1645592381482
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4018
         "time": 1645592381484
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4018
         "time": 1645592381486
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4018
         "time": 1645592381488
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4018
         "time": 1645592381489
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4018
         "time": 1645592381492
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4018
         "time": 1645592381597
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 7121E63642ACE4F9A0B4C9CE443E549BB09F64D8-1"
         "pid": 4018
         "time": 1645592381627
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.1.0
updated 1 package and audited 913 packages in 6.372s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:59:49.351Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:59:49.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:59:49.352Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:59:49.355Z appoptics:debug using context provider: ace-context
2022-02-23T04:59:49.431Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:59:49.618Z appoptics:patching patched crypto 
2022-02-23T04:59:49.649Z appoptics:patching patched https 
2022-02-23T04:59:49.650Z appoptics:patching patched http 
2022-02-23T04:59:49.689Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:59:49.689Z appoptics:patching patched fs 
2022-02-23T04:59:49.696Z appoptics:patching patched pino 6.1.0
2022-02-23T04:59:49.701Z appoptics:debug starting runtimeMetrics


  pino v6.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (192ms)
  14 failing

  1) pino v6.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4041
         "time": 1645592389731
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4041
         "time": 1645592389740
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4041
         "time": 1645592389743
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4041
         "time": 1645592389746
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4041
         "time": 1645592389753
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4041
         "time": 1645592389756
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4041
         "time": 1645592389757
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4041
         "time": 1645592389759
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4041
         "time": 1645592389761
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4041
         "time": 1645592389763
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4041
         "time": 1645592389764
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4041
         "time": 1645592389766
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4041
         "time": 1645592389870
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6816285E2C728D6D60797ADF6DDF8EED70489CD7-1"
         "pid": 4041
         "time": 1645592389898
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.1.1
updated 1 package and audited 913 packages in 5.772s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T04:59:56.945Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T04:59:56.946Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T04:59:56.946Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T04:59:56.949Z appoptics:debug using context provider: ace-context
2022-02-23T04:59:57.050Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T04:59:57.321Z appoptics:patching patched crypto 
2022-02-23T04:59:57.387Z appoptics:patching patched https 
2022-02-23T04:59:57.388Z appoptics:patching patched http 
2022-02-23T04:59:57.497Z appoptics:patching fs.realpath - adding native method
2022-02-23T04:59:57.498Z appoptics:patching patched fs 
2022-02-23T04:59:57.515Z appoptics:patching patched pino 6.1.1
2022-02-23T04:59:57.530Z appoptics:debug starting runtimeMetrics


  pino v6.1.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (276ms)
  14 failing

  1) pino v6.1.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4064
         "time": 1645592397609
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.1.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4064
         "time": 1645592397629
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.1.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4064
         "time": 1645592397638
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.1.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4064
         "time": 1645592397646
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.1.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4064
         "time": 1645592397654
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.1.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4064
         "time": 1645592397667
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.1.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4064
         "time": 1645592397674
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.1.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4064
         "time": 1645592397676
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.1.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4064
         "time": 1645592397684
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.1.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4064
         "time": 1645592397685
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.1.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4064
         "time": 1645592397687
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.1.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4064
         "time": 1645592397690
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.1.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4064
         "time": 1645592397795
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.1.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F1B80672D68CB30A1F5721CF368FA02264EB0116-1"
         "pid": 4064
         "time": 1645592397823
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.2.0
updated 1 package and audited 913 packages in 5.651s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:00:04.932Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:00:04.933Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:00:04.933Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:00:04.934Z appoptics:debug using context provider: ace-context
2022-02-23T05:00:05.008Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:00:05.215Z appoptics:patching patched crypto 
2022-02-23T05:00:05.236Z appoptics:patching patched https 
2022-02-23T05:00:05.237Z appoptics:patching patched http 
2022-02-23T05:00:05.276Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:00:05.277Z appoptics:patching patched fs 
2022-02-23T05:00:05.284Z appoptics:patching patched pino 6.2.0
2022-02-23T05:00:05.289Z appoptics:debug starting runtimeMetrics


  pino v6.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (189ms)
  14 failing

  1) pino v6.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4087
         "time": 1645592405319
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4087
         "time": 1645592405327
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4087
         "time": 1645592405331
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4087
         "time": 1645592405335
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4087
         "time": 1645592405338
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4087
         "time": 1645592405342
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4087
         "time": 1645592405344
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4087
         "time": 1645592405346
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4087
         "time": 1645592405347
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4087
         "time": 1645592405349
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4087
         "time": 1645592405350
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4087
         "time": 1645592405353
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4087
         "time": 1645592405457
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 572325EEC284414D8C0B771F0036AFCBC818D90A-1"
         "pid": 4087
         "time": 1645592405486
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.2.1
updated 1 package and audited 913 packages in 5.894s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:00:12.669Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:00:12.670Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:00:12.670Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:00:12.673Z appoptics:debug using context provider: ace-context
2022-02-23T05:00:12.746Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:00:12.933Z appoptics:patching patched crypto 
2022-02-23T05:00:12.956Z appoptics:patching patched https 
2022-02-23T05:00:12.956Z appoptics:patching patched http 
2022-02-23T05:00:12.995Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:00:12.995Z appoptics:patching patched fs 
2022-02-23T05:00:13.003Z appoptics:patching patched pino 6.2.1
2022-02-23T05:00:13.008Z appoptics:debug starting runtimeMetrics


  pino v6.2.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (190ms)
  14 failing

  1) pino v6.2.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4110
         "time": 1645592413036
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.2.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4110
         "time": 1645592413044
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.2.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4110
         "time": 1645592413048
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.2.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4110
         "time": 1645592413051
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.2.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4110
         "time": 1645592413053
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.2.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4110
         "time": 1645592413060
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.2.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4110
         "time": 1645592413061
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.2.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4110
         "time": 1645592413063
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.2.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4110
         "time": 1645592413065
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.2.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4110
         "time": 1645592413066
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.2.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4110
         "time": 1645592413068
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.2.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4110
         "time": 1645592413070
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.2.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4110
         "time": 1645592413175
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.2.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 37B508BC38668B8EEF6DF048E57ACB0E31263629-1"
         "pid": 4110
         "time": 1645592413203
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.0
updated 1 package and audited 913 packages in 6.02s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:00:20.534Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:00:20.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:00:20.540Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:00:20.547Z appoptics:debug using context provider: ace-context
2022-02-23T05:00:20.634Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:00:20.851Z appoptics:patching patched crypto 
2022-02-23T05:00:20.871Z appoptics:patching patched https 
2022-02-23T05:00:20.872Z appoptics:patching patched http 
2022-02-23T05:00:20.905Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:00:20.906Z appoptics:patching patched fs 
2022-02-23T05:00:20.937Z appoptics:patching patched pino 6.3.0
2022-02-23T05:00:20.944Z appoptics:debug starting runtimeMetrics


  pino v6.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (197ms)
  14 failing

  1) pino v6.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4133
         "time": 1645592420974
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4133
         "time": 1645592420983
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4133
         "time": 1645592420988
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4133
         "time": 1645592420991
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4133
         "time": 1645592420993
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4133
         "time": 1645592420997
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4133
         "time": 1645592420999
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4133
         "time": 1645592421000
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4133
         "time": 1645592421002
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4133
         "time": 1645592421004
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4133
         "time": 1645592421006
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4133
         "time": 1645592421008
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4133
         "time": 1645592421113
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous AEED262C215BF6C257FFB9BDDAC8F398833AB238-1"
         "pid": 4133
         "time": 1645592421143
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.1
updated 1 package and audited 913 packages in 6.139s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:00:28.687Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:00:28.688Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:00:28.688Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:00:28.689Z appoptics:debug using context provider: ace-context
2022-02-23T05:00:28.766Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:00:28.971Z appoptics:patching patched crypto 
2022-02-23T05:00:28.993Z appoptics:patching patched https 
2022-02-23T05:00:28.994Z appoptics:patching patched http 
2022-02-23T05:00:29.031Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:00:29.031Z appoptics:patching patched fs 
2022-02-23T05:00:29.038Z appoptics:patching patched pino 6.3.1
2022-02-23T05:00:29.043Z appoptics:debug starting runtimeMetrics


  pino v6.3.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (211ms)
  14 failing

  1) pino v6.3.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4156
         "time": 1645592429080
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.3.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4156
         "time": 1645592429090
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.3.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4156
         "time": 1645592429093
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.3.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4156
         "time": 1645592429098
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.3.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4156
         "time": 1645592429103
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.3.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4156
         "time": 1645592429109
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.3.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4156
         "time": 1645592429112
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.3.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4156
         "time": 1645592429114
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.3.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4156
         "time": 1645592429116
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.3.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4156
         "time": 1645592429120
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.3.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4156
         "time": 1645592429121
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.3.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4156
         "time": 1645592429127
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.3.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4156
         "time": 1645592429232
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.3.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 3C5954C65E0FC254D2C4B7B6930A360AF65EAC2A-1"
         "pid": 4156
         "time": 1645592429261
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.2
updated 1 package and audited 913 packages in 6.406s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:00:37.006Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:00:37.007Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:00:37.007Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:00:37.011Z appoptics:debug using context provider: ace-context
2022-02-23T05:00:37.104Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:00:37.317Z appoptics:patching patched crypto 
2022-02-23T05:00:37.357Z appoptics:patching patched https 
2022-02-23T05:00:37.358Z appoptics:patching patched http 
2022-02-23T05:00:37.398Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:00:37.399Z appoptics:patching patched fs 
2022-02-23T05:00:37.406Z appoptics:patching patched pino 6.3.2
2022-02-23T05:00:37.411Z appoptics:debug starting runtimeMetrics


  pino v6.3.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (192ms)
  14 failing

  1) pino v6.3.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4179
         "time": 1645592437445
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.3.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4179
         "time": 1645592437453
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.3.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4179
         "time": 1645592437457
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.3.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4179
         "time": 1645592437460
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.3.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4179
         "time": 1645592437462
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.3.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4179
         "time": 1645592437465
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.3.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4179
         "time": 1645592437467
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.3.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4179
         "time": 1645592437469
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.3.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4179
         "time": 1645592437470
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.3.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4179
         "time": 1645592437472
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.3.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4179
         "time": 1645592437473
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.3.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4179
         "time": 1645592437475
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.3.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4179
         "time": 1645592437580
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.3.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 55D8DFA332DD21488E45C2496AAABC708ABE5192-1"
         "pid": 4179
         "time": 1645592437609
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.4.0
updated 1 package and audited 913 packages in 5.287s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:00:44.116Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:00:44.117Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:00:44.117Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:00:44.120Z appoptics:debug using context provider: ace-context
2022-02-23T05:00:44.260Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:00:44.468Z appoptics:patching patched crypto 
2022-02-23T05:00:44.494Z appoptics:patching patched https 
2022-02-23T05:00:44.494Z appoptics:patching patched http 
2022-02-23T05:00:44.538Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:00:44.539Z appoptics:patching patched fs 
2022-02-23T05:00:44.547Z appoptics:patching patched pino 6.4.0
2022-02-23T05:00:44.552Z appoptics:debug starting runtimeMetrics


  pino v6.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (218ms)
  14 failing

  1) pino v6.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4202
         "time": 1645592444595
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F38D991023B85E9145760D180FB65EC8DEA9413E-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4202
         "time": 1645592444604
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A2F9F7014AC1A1CD3A6AEDC3A5A0F883F3FD4647-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4202
         "time": 1645592444609
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "99461C043FF55791332DDD691725F9E057E4B324-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4202
         "time": 1645592444617
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7BBBF955755CA3DFFACF05187C069F9F88041694-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4202
         "time": 1645592444620
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4202
         "time": 1645592444624
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AF409D73F20347FEFB3B600ED65A24E21C06B3B7-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4202
         "time": 1645592444626
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A7F23FFC0F7022FBC8D8B41956E4D8BA28A85060-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4202
         "time": 1645592444628
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4202
         "time": 1645592444632
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2B8B84F0C623CCECA82B58BBB37C93BBDF5FC0DD-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4202
         "time": 1645592444640
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4202
         "time": 1645592444641
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "87B55DE52CA445091D9C9E347EA37144BD37B646-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4202
         "time": 1645592444644
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "851861023AFA1160B384DE941D4BE57264814759-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4202
         "time": 1645592444748
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous DB68BDA5660301B62A202AC906735901C2DE6422-1"
         "pid": 4202
         "time": 1645592444776
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.4.1
updated 1 package and audited 913 packages in 6.8s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:00:52.804Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:00:52.805Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:00:52.805Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:00:52.805Z appoptics:debug using context provider: ace-context
2022-02-23T05:00:52.882Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:00:53.078Z appoptics:patching patched crypto 
2022-02-23T05:00:53.099Z appoptics:patching patched https 
2022-02-23T05:00:53.100Z appoptics:patching patched http 
2022-02-23T05:00:53.146Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:00:53.146Z appoptics:patching patched fs 
2022-02-23T05:00:53.154Z appoptics:patching patched pino 6.4.1
2022-02-23T05:00:53.159Z appoptics:debug starting runtimeMetrics


  pino v6.4.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (190ms)
  14 failing

  1) pino v6.4.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4225
         "time": 1645592453190
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.4.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9528437CE5F2779BFBF519733152D74007667A49-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4225
         "time": 1645592453198
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.4.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "66510B5B412FF63B32CBF8F6C662D44381CC53AD-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4225
         "time": 1645592453203
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.4.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "75F86CCDB483BC5AB5D8695161536BFD6082FD19-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4225
         "time": 1645592453206
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.4.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "33DFD524EAB257DEC24691652D2DE10F1F467A4B-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4225
         "time": 1645592453209
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.4.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4225
         "time": 1645592453212
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.4.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DB7989C9815A327206317DF5D2D803B33D05B061-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4225
         "time": 1645592453214
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.4.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8003715DB43EACDA8546655AAEC2CA24B48F64C0-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4225
         "time": 1645592453215
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.4.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4225
         "time": 1645592453217
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.4.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3BDAA937898DD563371BA400E5F0C8EDE1693780-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4225
         "time": 1645592453220
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.4.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4225
         "time": 1645592453221
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.4.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D89C5D5DDD039BE540C5144E0472EA34C5FA0257-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4225
         "time": 1645592453224
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.4.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7E65D3C2FE064D4FB5BB06DFC42D15FD020F7353-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4225
         "time": 1645592453328
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.4.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 5ECC9F4F5006D3A338E604F3110498D2B7A309C9-1"
         "pid": 4225
         "time": 1645592453356
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.5.0
updated 1 package and audited 913 packages in 5.464s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:01:00.371Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:01:00.372Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:01:00.372Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:01:00.375Z appoptics:debug using context provider: ace-context
2022-02-23T05:01:00.458Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:01:00.818Z appoptics:patching patched crypto 
2022-02-23T05:01:00.873Z appoptics:patching patched https 
2022-02-23T05:01:00.874Z appoptics:patching patched http 
2022-02-23T05:01:00.919Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:01:00.919Z appoptics:patching patched fs 
2022-02-23T05:01:00.926Z appoptics:patching patched pino 6.5.0
2022-02-23T05:01:00.932Z appoptics:debug starting runtimeMetrics


  pino v6.5.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (192ms)
  14 failing

  1) pino v6.5.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4248
         "time": 1645592460963
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.5.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F222C2A8E4F24299F5213E3C03F1C34F68B6258A-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4248
         "time": 1645592460971
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.5.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "94CAA64FB104BA43BD5890B2A0B6640940F6D6B0-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4248
         "time": 1645592460974
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.5.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D48D366C14FCF899FB371D4ECDB3565805B29DDD-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4248
         "time": 1645592460977
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.5.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "828BCA3212FD204840820DDBDD7D29457AAF5FD6-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4248
         "time": 1645592460982
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.5.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4248
         "time": 1645592460986
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.5.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "77107FE72A3A897A5F25D01298B09E1B773CE01E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4248
         "time": 1645592460988
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.5.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AF31F27895CC429E01DE7E94C342310F2AFF599D-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4248
         "time": 1645592460990
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.5.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4248
         "time": 1645592460992
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.5.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E1ED7F9002ECBEF4D25B573AB3CFC00FF3F3B473-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4248
         "time": 1645592460994
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.5.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4248
         "time": 1645592460995
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.5.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F410620DD6F8F447598FEF92379F60F2FA96B498-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4248
         "time": 1645592460997
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.5.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5650BB10387309392A285B4357BD5658BD8D5C9C-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4248
         "time": 1645592461101
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.5.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B5B7F40720AEA2459D0844B4BB616FE664CD0F26-1"
         "pid": 4248
         "time": 1645592461130
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.5.1
updated 1 package and audited 913 packages in 5.456s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:01:07.940Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:01:07.941Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:01:07.941Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:01:07.944Z appoptics:debug using context provider: ace-context
2022-02-23T05:01:08.015Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:01:08.210Z appoptics:patching patched crypto 
2022-02-23T05:01:08.235Z appoptics:patching patched https 
2022-02-23T05:01:08.236Z appoptics:patching patched http 
2022-02-23T05:01:08.273Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:01:08.273Z appoptics:patching patched fs 
2022-02-23T05:01:08.281Z appoptics:patching patched pino 6.5.1
2022-02-23T05:01:08.286Z appoptics:debug starting runtimeMetrics


  pino v6.5.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (197ms)
  14 failing

  1) pino v6.5.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4271
         "time": 1645592468322
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.5.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FD9837FC74481E6C3F6DC1112EF0F5D1B196EF3E-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4271
         "time": 1645592468331
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.5.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E73A40A9142E368630F6828D2C23DEAF6CB04B98-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4271
         "time": 1645592468334
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.5.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DD50650F80264F68DFAC92B16FF3FCD5E9864DF9-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4271
         "time": 1645592468337
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.5.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "04CD0E72A9508E6501428961E1926544801605F4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4271
         "time": 1645592468340
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.5.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4271
         "time": 1645592468343
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.5.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "37DBAC4FCBE1DC6505D97482608D045924BC7288-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4271
         "time": 1645592468345
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.5.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E3AE0DD049B846A10FD418F46A9D0CB0A4912812-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4271
         "time": 1645592468347
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.5.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4271
         "time": 1645592468350
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.5.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2EB000ADD272BA742AB13CE726CCA9738BCD1AE5-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4271
         "time": 1645592468351
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.5.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4271
         "time": 1645592468354
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.5.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2C5B2DC0BC0E74A18ACC1252D7AFE8B8D1535B9C-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4271
         "time": 1645592468356
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.5.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "37FFE7C1819704FBE50BB6FF0D4A721AEDC9AF23-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4271
         "time": 1645592468459
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.5.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 0F7E893D689D92C25A79D1F40448711CF445EDB5-1"
         "pid": 4271
         "time": 1645592468488
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.6.0
updated 1 package and audited 913 packages in 6.131s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:01:15.872Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:01:15.872Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:01:15.872Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:01:15.874Z appoptics:debug using context provider: ace-context
2022-02-23T05:01:15.952Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:01:16.147Z appoptics:patching patched crypto 
2022-02-23T05:01:16.173Z appoptics:patching patched https 
2022-02-23T05:01:16.173Z appoptics:patching patched http 
2022-02-23T05:01:16.211Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:01:16.212Z appoptics:patching patched fs 
2022-02-23T05:01:16.219Z appoptics:patching patched pino 6.6.0
2022-02-23T05:01:16.223Z appoptics:debug starting runtimeMetrics


  pino v6.6.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (189ms)
  14 failing

  1) pino v6.6.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4294
         "time": 1645592476253
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.6.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "23ABD957F1A4B3D4A402A0D35EA7CF2810B7F74B-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4294
         "time": 1645592476261
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.6.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3A14CE47ADA6DDB18486DF65ED6F64BC2853BCB1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4294
         "time": 1645592476264
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.6.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BE1CF4B382A41DF1659C995B51C74792917125B6-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4294
         "time": 1645592476267
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.6.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C1E59BA3F6B796A9D0F1F9143A2465C11E5D0DD9-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4294
         "time": 1645592476269
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.6.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4294
         "time": 1645592476277
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.6.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7432056B221A91A1A41D10FCC542B360B8EFB17F-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4294
         "time": 1645592476279
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.6.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A7629A7B83F9ED5B8E34C5E5063E88FFAA931ECD-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4294
         "time": 1645592476281
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.6.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4294
         "time": 1645592476282
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.6.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0792005855985122F03C82F2CAA9B31CA74DF8E1-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4294
         "time": 1645592476284
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.6.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4294
         "time": 1645592476285
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.6.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FEA96D54520528DE4856A0A47EDB8281F14D6928-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4294
         "time": 1645592476287
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.6.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "28B837D0540784CD03BF9AFABBDC034A5D2F3A3A-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4294
         "time": 1645592476391
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.6.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous BEE944CCD85BC31FAB6552B6FAF10E9363D0AC04-1"
         "pid": 4294
         "time": 1645592476420
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.6.1
updated 1 package and audited 913 packages in 5.448s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:01:23.139Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:01:23.140Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:01:23.140Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:01:23.142Z appoptics:debug using context provider: ace-context
2022-02-23T05:01:23.218Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:01:23.408Z appoptics:patching patched crypto 
2022-02-23T05:01:23.429Z appoptics:patching patched https 
2022-02-23T05:01:23.430Z appoptics:patching patched http 
2022-02-23T05:01:23.465Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:01:23.465Z appoptics:patching patched fs 
2022-02-23T05:01:23.472Z appoptics:patching patched pino 6.6.1
2022-02-23T05:01:23.476Z appoptics:debug starting runtimeMetrics


  pino v6.6.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (185ms)
  14 failing

  1) pino v6.6.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4317
         "time": 1645592483510
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.6.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A25C1BA490A503CC3A4E31DFEE85116501D8000A-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4317
         "time": 1645592483517
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.6.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "14236A4886FC8A53E4843E9C1BF3F693A445611F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4317
         "time": 1645592483521
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.6.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "708304099E7F1E31B0F4BE2F738902757D42B637-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4317
         "time": 1645592483523
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.6.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6C3C28C279E17BF4A675C504062CDC159A653681-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4317
         "time": 1645592483526
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.6.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4317
         "time": 1645592483529
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.6.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EB9CF06CD3B5C81A9FCE3E8CB9100878459EA2BC-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4317
         "time": 1645592483530
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.6.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7E6BA3F6A408628F141D031EE242EA1779B18AC4-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4317
         "time": 1645592483532
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.6.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4317
         "time": 1645592483534
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.6.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "30EB27B3C34AC243928FA14BB736503FF1C45186-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4317
         "time": 1645592483535
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.6.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4317
         "time": 1645592483537
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.6.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FC60114F9E2C67D1DC7C61748C2248D91FFC0C06-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4317
         "time": 1645592483539
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.6.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "87E9C39B637CCEFEF495DCD67734E13AA5A5A6FD-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4317
         "time": 1645592483642
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.6.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6AC7E641AAA8146817F186E88B75AD757B7BB0F0-1"
         "pid": 4317
         "time": 1645592483670
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.7.0
updated 2 packages and audited 913 packages in 6.345s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:01:31.216Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:01:31.218Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:01:31.218Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:01:31.219Z appoptics:debug using context provider: ace-context
2022-02-23T05:01:31.295Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:01:31.487Z appoptics:patching patched crypto 
2022-02-23T05:01:31.509Z appoptics:patching patched https 
2022-02-23T05:01:31.509Z appoptics:patching patched http 
2022-02-23T05:01:31.547Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:01:31.547Z appoptics:patching patched fs 
2022-02-23T05:01:31.554Z appoptics:patching patched pino 6.7.0
2022-02-23T05:01:31.559Z appoptics:debug starting runtimeMetrics


  pino v6.7.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (189ms)
  14 failing

  1) pino v6.7.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4340
         "time": 1645592491589
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.7.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EF1A28A953068245ADDD63E63DD811AC4606E205-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4340
         "time": 1645592491597
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.7.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8AA11F78B8FA1EBB142A3556E677E1FD8FB814BE-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4340
         "time": 1645592491600
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.7.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1FD3647DB84907CB2E376FFA0B9396235AA56165-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4340
         "time": 1645592491604
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.7.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2B3659ED7F7B00A44CD0FE32C20C5389A17A6232-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4340
         "time": 1645592491607
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.7.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4340
         "time": 1645592491611
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.7.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8460DC722E9B693C2AED34FCE8A6F76E2935616E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4340
         "time": 1645592491612
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.7.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B9AA57A2C6EE90AAAB54426C46FBD77EE64551E5-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4340
         "time": 1645592491614
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.7.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4340
         "time": 1645592491616
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.7.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "57DDE07CD661B46F840D7EE82B162AF88D9F5509-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4340
         "time": 1645592491617
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.7.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4340
         "time": 1645592491619
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.7.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CF6AA11A4B027C37FB6BA11265E97BA1E4FB05F5-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4340
         "time": 1645592491622
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.7.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3DE777C7C99F915DAF02322BAFD366BB614EDEA0-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4340
         "time": 1645592491725
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.7.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 45321ED59A2CBE96382DAF21A17FC11FB31FE55D-1"
         "pid": 4340
         "time": 1645592491754
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.8.0
updated 1 package and audited 913 packages in 5.808s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:01:38.972Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:01:38.973Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:01:38.973Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:01:38.977Z appoptics:debug using context provider: ace-context
2022-02-23T05:01:39.071Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:01:39.408Z appoptics:patching patched crypto 
2022-02-23T05:01:39.479Z appoptics:patching patched https 
2022-02-23T05:01:39.479Z appoptics:patching patched http 
2022-02-23T05:01:39.560Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:01:39.560Z appoptics:patching patched fs 
2022-02-23T05:01:39.574Z appoptics:patching patched pino 6.8.0
2022-02-23T05:01:39.580Z appoptics:debug starting runtimeMetrics


  pino v6.8.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (218ms)
  14 failing

  1) pino v6.8.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4363
         "time": 1645592499631
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.8.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A5FABFCD21B7E1D0CAFD690C8AD9309B81E3D6E3-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4363
         "time": 1645592499645
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.8.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "27C430855405FFB2E5C4BB72EE5E621C28F380F4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4363
         "time": 1645592499650
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.8.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "53358579694D304549F466926BC742318EFF3B8E-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4363
         "time": 1645592499656
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.8.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7DECCEBFFF64A205BD89A5307FA3B5A65024D0D5-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4363
         "time": 1645592499659
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.8.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4363
         "time": 1645592499662
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.8.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3388FDE41F66BD797A0388AC224EC9B55999177C-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4363
         "time": 1645592499665
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.8.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7A65B06D74CDDEA732B127AB8D42A36A00F03A3E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4363
         "time": 1645592499667
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.8.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4363
         "time": 1645592499669
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.8.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "75463D73E73C7D002F5F0D1DECC9251453F9CC78-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4363
         "time": 1645592499670
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.8.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4363
         "time": 1645592499671
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.8.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E27E654EE8C7BF32F3BCFA0BF235DAC21CE7B3D7-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4363
         "time": 1645592499674
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.8.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F28864E57DCA9EAA8B4F6E01F7108F7940CF4FC6-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4363
         "time": 1645592499780
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.8.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 51C46238208078A0D98852236A8A70BF286A4146-1"
         "pid": 4363
         "time": 1645592499810
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.9.0
updated 1 package and audited 913 packages in 5.326s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:01:46.463Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:01:46.464Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:01:46.464Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:01:46.466Z appoptics:debug using context provider: ace-context
2022-02-23T05:01:46.537Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:01:46.723Z appoptics:patching patched crypto 
2022-02-23T05:01:46.749Z appoptics:patching patched https 
2022-02-23T05:01:46.750Z appoptics:patching patched http 
2022-02-23T05:01:46.786Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:01:46.786Z appoptics:patching patched fs 
2022-02-23T05:01:46.794Z appoptics:patching patched pino 6.9.0
2022-02-23T05:01:46.799Z appoptics:debug starting runtimeMetrics


  pino v6.9.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (192ms)
  14 failing

  1) pino v6.9.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4386
         "time": 1645592506827
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.9.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3A6D6509EBA089EC237C47AF405C3F75360A07F2-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4386
         "time": 1645592506840
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.9.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8EC975DC9D64A3D1B8CD6C5FA360CC086C7873E5-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4386
         "time": 1645592506843
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.9.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E91B8A48504DBD4FDA0B79867F552C6EE461C059-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4386
         "time": 1645592506846
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.9.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "117EAF5C8200266D1F9246F9364499BAB78DB84E-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4386
         "time": 1645592506849
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.9.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4386
         "time": 1645592506852
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.9.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0C291FA0036BE60D354672B4298FCD0F85867968-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4386
         "time": 1645592506854
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.9.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1123FFEA4521F6162AE80F68B454A20C4D456E15-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4386
         "time": 1645592506855
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.9.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4386
         "time": 1645592506857
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.9.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2996791CBCEF13A7634D543ED48B231B6AA71709-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4386
         "time": 1645592506858
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.9.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4386
         "time": 1645592506860
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.9.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F1DE49F94C523EB444D822896F6B50123288BDFD-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4386
         "time": 1645592506862
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.9.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "775BBF3FC39F4A1DD2108ADBA6D61E02743CDA82-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4386
         "time": 1645592506968
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.9.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 9FEF1D88DD7BA35762AE4928352EBD6CB9C47B78-1"
         "pid": 4386
         "time": 1645592506997
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.10.0
updated 2 packages and audited 913 packages in 5.997s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:01:54.234Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:01:54.236Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:01:54.236Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:01:54.239Z appoptics:debug using context provider: ace-context
2022-02-23T05:01:54.313Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:01:54.508Z appoptics:patching patched crypto 
2022-02-23T05:01:54.530Z appoptics:patching patched https 
2022-02-23T05:01:54.531Z appoptics:patching patched http 
2022-02-23T05:01:54.568Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:01:54.568Z appoptics:patching patched fs 
2022-02-23T05:01:54.574Z appoptics:patching patched pino 6.10.0
2022-02-23T05:01:54.579Z appoptics:debug starting runtimeMetrics


  pino v6.10.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (187ms)
  14 failing

  1) pino v6.10.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4409
         "time": 1645592514607
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.10.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FCD4A7300C318CECF42B8E16DCF94AC7697EDB94-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4409
         "time": 1645592514615
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.10.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A6D946C0AD5ED9398C095B29771EB26044A9CCDC-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4409
         "time": 1645592514618
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.10.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "168FCB0D3933264765ABC1391B6E1F3C3BF0E94B-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4409
         "time": 1645592514622
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.10.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B021BC7C712A52F103E4AA372FE14628C6D09A8C-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4409
         "time": 1645592514624
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.10.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4409
         "time": 1645592514627
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.10.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4EBF714931CA14BEF29F1385F9B2BA0784C74CFF-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4409
         "time": 1645592514629
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.10.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "57E8D7EBF0B304F86EF332B6170A8441D5B3527A-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4409
         "time": 1645592514631
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.10.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4409
         "time": 1645592514632
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.10.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C8349C3A813BAA51DFC41416A0BFB7EF535F93EF-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4409
         "time": 1645592514634
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.10.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4409
         "time": 1645592514635
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.10.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A9793641F2F1906F4E4C7F1892B429585B93AF51-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4409
         "time": 1645592514637
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.10.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5D44536217B19679BDF9D0C200087F78898D9309-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4409
         "time": 1645592514742
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.10.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 3973EB5EDB4DFB6A2C46E89AF3B03CEF5054CD9F-1"
         "pid": 4409
         "time": 1645592514771
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.0
updated 1 package and audited 913 packages in 5.412s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:02:01.589Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:02:01.590Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:02:01.590Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:02:01.593Z appoptics:debug using context provider: ace-context
2022-02-23T05:02:01.670Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:02:01.877Z appoptics:patching patched crypto 
2022-02-23T05:02:01.899Z appoptics:patching patched https 
2022-02-23T05:02:01.899Z appoptics:patching patched http 
2022-02-23T05:02:01.938Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:02:01.939Z appoptics:patching patched fs 
2022-02-23T05:02:01.946Z appoptics:patching patched pino 6.11.0
2022-02-23T05:02:01.951Z appoptics:debug starting runtimeMetrics


  pino v6.11.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (195ms)
  14 failing

  1) pino v6.11.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4432
         "time": 1645592521983
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.11.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "61E8766045F2CC20D07B151E4F1A8F8566FA30F2-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4432
         "time": 1645592521992
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.11.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "50653362C4699997688E9A8CF1697915D082471E-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4432
         "time": 1645592521995
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.11.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4EB48553F554219AB342C8A6FA95BCE87EF5FDA8-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4432
         "time": 1645592521999
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.11.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CBF8D8633F588E29B4BACE6448DAC13AB97C3DFB-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4432
         "time": 1645592522002
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.11.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4432
         "time": 1645592522005
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D9BAC5AFFD1233D04F58C298A26465B43E0B6005-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4432
         "time": 1645592522006
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EA481E552D95AD98CD35DEB89577E8C00E28F352-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4432
         "time": 1645592522008
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4432
         "time": 1645592522010
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "97A63D52EF81AC8EF666ED8F20A1EBD7F4D51044-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4432
         "time": 1645592522011
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4432
         "time": 1645592522012
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F3480532DB9718A9E51E0A1E25E5D8A9BCC98BF2-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4432
         "time": 1645592522015
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.11.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3579C166C9CF74AC6A3C953476C353167A9E10B6-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4432
         "time": 1645592522124
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.11.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 49355891AE41113BA51C353BC3993A372DF2CAFC-1"
         "pid": 4432
         "time": 1645592522152
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.1
updated 1 package and audited 913 packages in 6.099s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:02:09.467Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:02:09.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:02:09.468Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:02:09.469Z appoptics:debug using context provider: ace-context
2022-02-23T05:02:09.552Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:02:09.786Z appoptics:patching patched crypto 
2022-02-23T05:02:09.839Z appoptics:patching patched https 
2022-02-23T05:02:09.849Z appoptics:patching patched http 
2022-02-23T05:02:09.917Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:02:09.917Z appoptics:patching patched fs 
2022-02-23T05:02:09.926Z appoptics:patching patched pino 6.11.1
2022-02-23T05:02:09.932Z appoptics:debug starting runtimeMetrics


  pino v6.11.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (204ms)
  14 failing

  1) pino v6.11.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4455
         "time": 1645592529971
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.11.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "012721CA9FF5835CCA976CAC15B1336E6B6F46CF-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4455
         "time": 1645592529980
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.11.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "803D56E7481E3EBF890FE11333B1AE4CCF0D68B8-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4455
         "time": 1645592529985
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.11.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6A99812B7F6126853887DE5ED64BE83CD7D0871D-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4455
         "time": 1645592529988
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.11.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "555961AD3654F78AF62E4845B403CE4842C84F8F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4455
         "time": 1645592529993
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.11.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4455
         "time": 1645592529999
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "59F67942D21BF0C28BB6E7450BB6981A9BECE00D-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4455
         "time": 1645592530002
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FDB384BE27DF64C1171E7E57C370D887E14481CF-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4455
         "time": 1645592530004
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4455
         "time": 1645592530005
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A2026A40661696366CFA071A6CDCDA9FC2EAB37A-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4455
         "time": 1645592530007
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4455
         "time": 1645592530008
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "49293B6615AC090DBB7C6610F786E4DC47CBC838-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4455
         "time": 1645592530011
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.11.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CC3CE7D51B0B4667291EB4BCDAD8D30C3FBA9EAA-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4455
         "time": 1645592530116
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.11.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 334786AC2F541E385639C400BB5A7C9C523ABD90-1"
         "pid": 4455
         "time": 1645592530145
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.2
updated 2 packages and audited 913 packages in 5.815s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:02:17.830Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:02:17.831Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:02:17.831Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:02:17.836Z appoptics:debug using context provider: ace-context
2022-02-23T05:02:18.033Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:02:18.257Z appoptics:patching patched crypto 
2022-02-23T05:02:18.282Z appoptics:patching patched https 
2022-02-23T05:02:18.282Z appoptics:patching patched http 
2022-02-23T05:02:18.345Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:02:18.345Z appoptics:patching patched fs 
2022-02-23T05:02:18.352Z appoptics:patching patched pino 6.11.2
2022-02-23T05:02:18.358Z appoptics:debug starting runtimeMetrics


  pino v6.11.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (192ms)
  14 failing

  1) pino v6.11.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4478
         "time": 1645592538388
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.11.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B86E5C9FCA6D7FAA3918DF0601E19015E18504BA-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4478
         "time": 1645592538397
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.11.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6B715018933595C3B55E25B074E6CE522E08082F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4478
         "time": 1645592538401
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.11.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EE95C4EA8C9951FB62D358864FFA5E446042D9E6-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4478
         "time": 1645592538404
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.11.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FCFB185F08F5F2C157884CA31888C65815DC5066-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4478
         "time": 1645592538407
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.11.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4478
         "time": 1645592538411
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "90073EAFEBEC1A44FEE36E4BDE043ADCD4D24509-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4478
         "time": 1645592538413
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8FAF40D16D1C162D15D643F8C5EB40B6B4BB1A74-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4478
         "time": 1645592538414
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4478
         "time": 1645592538416
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0FC45F0D757A0BB7F3959AB6FA8EF8FA41D5FA2B-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4478
         "time": 1645592538418
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4478
         "time": 1645592538420
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F1D85B302994E80D6929306BDEBB56D64BE7CA00-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4478
         "time": 1645592538423
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.11.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "422A9C8224266F2D0F1C9114F9FE24D9B27FB7A0-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4478
         "time": 1645592538527
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.11.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous D86D28A833C1E87C20FCE637FD465446E6A34F10-1"
         "pid": 4478
         "time": 1645592538556
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.3
updated 2 packages and audited 913 packages in 6.563s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:02:26.508Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:02:26.509Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:02:26.509Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:02:26.511Z appoptics:debug using context provider: ace-context
2022-02-23T05:02:26.582Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:02:26.779Z appoptics:patching patched crypto 
2022-02-23T05:02:26.803Z appoptics:patching patched https 
2022-02-23T05:02:26.804Z appoptics:patching patched http 
2022-02-23T05:02:26.840Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:02:26.840Z appoptics:patching patched fs 
2022-02-23T05:02:26.848Z appoptics:patching patched pino 6.11.3
2022-02-23T05:02:26.858Z appoptics:debug starting runtimeMetrics


  pino v6.11.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (187ms)
  14 failing

  1) pino v6.11.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4501
         "time": 1645592546888
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.11.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "212A84E53EAA765A3EC5F84E8B63FAAB68717CE4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4501
         "time": 1645592546896
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.11.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7F8B0665300B707F2C8C8BF212B5EFF415C222FF-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4501
         "time": 1645592546900
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.11.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E4DBB4148CF2541E1C681309AEAF661F4BC9563C-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4501
         "time": 1645592546903
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.11.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5EA346D12B1AB77DBAA5CC46A18E327F0E020886-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4501
         "time": 1645592546905
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.11.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4501
         "time": 1645592546909
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "938A822A99FB507BB78F651297C448802AD488C4-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4501
         "time": 1645592546911
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AAC4230F7AE1B309BEC75B846E26BB928A6DADA8-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4501
         "time": 1645592546913
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4501
         "time": 1645592546914
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "07E8405BFD2EE22C3F4EFAC2FAAB058366107B1E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4501
         "time": 1645592546916
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4501
         "time": 1645592546917
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5FDD8337A4E838F834EA976DC0B82907F0ED271C-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4501
         "time": 1645592546919
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.11.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "620FFD7F804B567D5CBDFD1C3116AA82CE1AFB98-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4501
         "time": 1645592547023
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.11.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 10B3356B24C690DB3179FE59963B20C4232E9662-1"
         "pid": 4501
         "time": 1645592547051
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.12.0
updated 1 package and audited 913 packages in 8.301s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:02:36.642Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:02:36.643Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:02:36.643Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:02:36.644Z appoptics:debug using context provider: ace-context
2022-02-23T05:02:36.721Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:02:36.907Z appoptics:patching patched crypto 
2022-02-23T05:02:36.934Z appoptics:patching patched https 
2022-02-23T05:02:36.935Z appoptics:patching patched http 
2022-02-23T05:02:36.972Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:02:36.972Z appoptics:patching patched fs 
2022-02-23T05:02:36.980Z appoptics:patching patched pino 6.12.0
2022-02-23T05:02:36.985Z appoptics:debug starting runtimeMetrics


  pino v6.12.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (189ms)
  14 failing

  1) pino v6.12.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4524
         "time": 1645592557014
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.12.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2826EED2F37591FA53A8E0F35372E1A4728C0B1E-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4524
         "time": 1645592557022
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.12.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "65602F0CD8C95193BBF41E6C65BA212932664950-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4524
         "time": 1645592557025
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.12.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E98FC5EFBE4E42CF1580BD0BA92C425A63BA06C1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4524
         "time": 1645592557028
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.12.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "542FB7D7514E35F1A97A9B718B790486A7C619FF-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4524
         "time": 1645592557031
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.12.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4524
         "time": 1645592557035
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.12.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A26DAE26C10BA27C90EA0E91BBCDCBC77486A98A-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4524
         "time": 1645592557037
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.12.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F9A4EF4CC7C99CA33637FF337E9FB7346899BE06-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4524
         "time": 1645592557038
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.12.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4524
         "time": 1645592557040
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.12.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BC9CDEBA1CA2290F6C3712CCA93B70F05918B8F3-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4524
         "time": 1645592557041
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.12.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4524
         "time": 1645592557043
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.12.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "319010C8284C1068290AAF38A64ABD9DE837F0B4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4524
         "time": 1645592557046
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.12.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B806F5684964281A856FEE1D69C41E73804ABDF8-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4524
         "time": 1645592557150
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.12.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous FF1570E19F118058FA777EE3D4FB087B555D36F6-1"
         "pid": 4524
         "time": 1645592557178
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.0
updated 1 package and audited 913 packages in 6.189s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:02:44.605Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:02:44.606Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:02:44.606Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:02:44.607Z appoptics:debug using context provider: ace-context
2022-02-23T05:02:44.685Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:02:44.890Z appoptics:patching patched crypto 
2022-02-23T05:02:44.912Z appoptics:patching patched https 
2022-02-23T05:02:44.913Z appoptics:patching patched http 
2022-02-23T05:02:44.950Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:02:44.950Z appoptics:patching patched fs 
2022-02-23T05:02:44.957Z appoptics:patching patched pino 6.13.0
2022-02-23T05:02:44.962Z appoptics:debug starting runtimeMetrics


  pino v6.13.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (197ms)
  14 failing

  1) pino v6.13.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4547
         "time": 1645592564994
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.13.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F9AEFCD5DFA57B868502D4A665D6769E246844EA-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4547
         "time": 1645592565003
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.13.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F13F7272CE64903945650A83826238E78F5CC134-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4547
         "time": 1645592565008
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.13.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B215DA199CE67441B06A5B2AD3E50BD2A9ECD54F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4547
         "time": 1645592565011
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.13.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B80092B39AEF3ADB3C9DE1E3C2751FD325794F74-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4547
         "time": 1645592565014
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.13.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4547
         "time": 1645592565017
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A924EA834EAF2AF6AC2B54D03BB3C87C0E7FA2F9-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4547
         "time": 1645592565019
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "40E6C7280E163A63C4C40873A21A73BC3BC6A0DB-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4547
         "time": 1645592565021
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4547
         "time": 1645592565023
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DC736515493180F9F1CB69EB33D5AAE1398A4C7D-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4547
         "time": 1645592565025
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4547
         "time": 1645592565027
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "75E75F6352C1AB034EC113C7705FFDD1E09052E0-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4547
         "time": 1645592565029
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.13.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0F169F31812C80EA2B28880B9EBB16C0709799D1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4547
         "time": 1645592565134
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.13.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 5FF8BB960B9734F3B6EC0FBA346A711E96711E89-1"
         "pid": 4547
         "time": 1645592565164
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.1
added 1 package from 1 contributor, updated 1 package and audited 914 packages in 5.709s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:02:52.210Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:02:52.210Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:02:52.210Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:02:52.214Z appoptics:debug using context provider: ace-context
2022-02-23T05:02:52.307Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:02:52.524Z appoptics:patching patched crypto 
2022-02-23T05:02:52.574Z appoptics:patching patched https 
2022-02-23T05:02:52.575Z appoptics:patching patched http 
2022-02-23T05:02:52.619Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:02:52.619Z appoptics:patching patched fs 
2022-02-23T05:02:52.627Z appoptics:patching patched pino 6.13.1
2022-02-23T05:02:52.635Z appoptics:debug starting runtimeMetrics


  pino v6.13.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (195ms)
  14 failing

  1) pino v6.13.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4570
         "time": 1645592572666
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.13.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D89053492FD77348A80D64B28F6E9A664D8AE134-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4570
         "time": 1645592572674
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.13.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EE6302469B2AA1711D182D1330F0FC4F707CA9BF-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4570
         "time": 1645592572680
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.13.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EDC1FF4B13BEDA728FD26343F89CB5D0B12CBEC7-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4570
         "time": 1645592572684
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.13.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "09782E506F307DB1444C27DD0EB7110F9615A4AD-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4570
         "time": 1645592572687
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.13.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4570
         "time": 1645592572690
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A17F24C2891FDBA61050E40DD1EBCABF59D338C4-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4570
         "time": 1645592572692
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "311EE755D785059A017C60ED10804729258CAA75-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4570
         "time": 1645592572694
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4570
         "time": 1645592572695
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2E2BECF2B29DB09B6BAFA709E93EE9BC31F3E4C1-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4570
         "time": 1645592572698
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4570
         "time": 1645592572700
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "08BF6E68665238696D30B3CBBDAF105646B1BAC4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4570
         "time": 1645592572702
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.13.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0956FC6CE8DB18F898D94684B84B35FF7CB55C30-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4570
         "time": 1645592572807
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.13.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 78F98CDAC4297CCA060AAB63B0156F1783AB33EA-1"
         "pid": 4570
         "time": 1645592572836
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.2
updated 1 package and audited 914 packages in 5.884s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:03:00.042Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:03:00.043Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:03:00.043Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:03:00.043Z appoptics:debug using context provider: ace-context
2022-02-23T05:03:00.116Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:03:00.321Z appoptics:patching patched crypto 
2022-02-23T05:03:00.341Z appoptics:patching patched https 
2022-02-23T05:03:00.342Z appoptics:patching patched http 
2022-02-23T05:03:00.376Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:03:00.377Z appoptics:patching patched fs 
2022-02-23T05:03:00.384Z appoptics:patching patched pino 6.13.2
2022-02-23T05:03:00.389Z appoptics:debug starting runtimeMetrics


  pino v6.13.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (189ms)
  14 failing

  1) pino v6.13.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4593
         "time": 1645592580417
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.13.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "27D4A76CECD3E184B94C1B42E67DC5B0BBC7BD90-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4593
         "time": 1645592580425
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.13.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FA247837B4D1BD374AEAA2890CE192F8BBE13111-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4593
         "time": 1645592580429
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.13.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1366531297CDDCCE54295F454F5CA37B4C0EFA11-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4593
         "time": 1645592580432
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.13.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6B9F3C6601BD58506B3A15D90F978B277704B2C2-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4593
         "time": 1645592580435
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.13.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4593
         "time": 1645592580438
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F8AFA3EF5E93D27E16649C140C11A70A7F099D4C-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4593
         "time": 1645592580440
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E96418BD9E127531DBB15FA25EC956AE151EBA70-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4593
         "time": 1645592580442
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4593
         "time": 1645592580443
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6B525261B66103C9C3FFEC471F9400FACEE24B1F-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4593
         "time": 1645592580445
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4593
         "time": 1645592580446
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F3AE8C161C574B4AD1774CAA1F934F73BE5550CE-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4593
         "time": 1645592580450
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.13.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3E036585FDEA8E9A9E4A97A5FF854364D9126846-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4593
         "time": 1645592580556
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.13.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 4D3DAF3D78FBECFDDBB229EB70A043CEF54B83BD-1"
         "pid": 4593
         "time": 1645592580584
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.3
updated 1 package and audited 914 packages in 5.398s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:03:07.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:03:07.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:03:07.472Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:03:07.475Z appoptics:debug using context provider: ace-context
2022-02-23T05:03:07.566Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:03:07.783Z appoptics:patching patched crypto 
2022-02-23T05:03:07.833Z appoptics:patching patched https 
2022-02-23T05:03:07.833Z appoptics:patching patched http 
2022-02-23T05:03:07.870Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:03:07.871Z appoptics:patching patched fs 
2022-02-23T05:03:07.879Z appoptics:patching patched pino 6.13.3
2022-02-23T05:03:07.883Z appoptics:debug starting runtimeMetrics


  pino v6.13.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (216ms)
  14 failing

  1) pino v6.13.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4616
         "time": 1645592587926
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.13.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5CCD0613F2F691E0A9E0327FB0EE534E203FD87A-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4616
         "time": 1645592587939
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.13.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "45593D2EDD5C6C836D79E696E2536240BC84C4CF-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4616
         "time": 1645592587943
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.13.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9F0CDD657E7D2D7A88398BBB09C4AE136A8016A9-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4616
         "time": 1645592587946
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.13.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "812A20D6D4867C43C338FA5BF275EFDE3911EA71-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4616
         "time": 1645592587954
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.13.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4616
         "time": 1645592587959
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CB98AC31F4720C2E03B6E75DD2B86CAEE666BE22-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4616
         "time": 1645592587961
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3A36FB88147AE14280C638216C93FEE57E3A21E1-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4616
         "time": 1645592587964
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4616
         "time": 1645592587969
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "415F1CA013F2F0C2C4409CA135BAC20131F959B6-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4616
         "time": 1645592587970
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4616
         "time": 1645592587972
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CD97C94600ABAE1F559F9E7765F45431EBE546BB-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4616
         "time": 1645592587974
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.13.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "76AE0AC1F1660B596B36AA55C9A95BAB29E9E0FE-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4616
         "time": 1645592588079
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.13.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 949A9363C3CDF79070831A5D7CB29B6222A53FA0-1"
         "pid": 4616
         "time": 1645592588107
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.4
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 914 packages in 5.763s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:03:15.203Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:03:15.204Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:03:15.204Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:03:15.206Z appoptics:debug using context provider: ace-context
2022-02-23T05:03:15.281Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:03:15.478Z appoptics:patching patched crypto 
2022-02-23T05:03:15.500Z appoptics:patching patched https 
2022-02-23T05:03:15.500Z appoptics:patching patched http 
2022-02-23T05:03:15.537Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:03:15.538Z appoptics:patching patched fs 
2022-02-23T05:03:15.546Z appoptics:patching patched pino 6.13.4
2022-02-23T05:03:15.553Z appoptics:debug starting runtimeMetrics


  pino v6.13.4
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (190ms)
  14 failing

  1) pino v6.13.4
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4639
         "time": 1645592595585
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.13.4
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "266BFD5D5EE86904253935E0B601ACBC05F85929-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4639
         "time": 1645592595594
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.13.4
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FF9F193589F24CD70BE518A4A341665B8E0827B3-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4639
         "time": 1645592595597
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.13.4
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "20FAF8BFDE1339BD5B221DCF16C6FC073878DAF6-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4639
         "time": 1645592595600
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.13.4
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "14275A0AA3BF51BFC322F3B666FAF73B20BE8E33-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4639
         "time": 1645592595603
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.13.4
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4639
         "time": 1645592595606
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.4
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "886B8C21B1ED9B3E5385240957B2F8F981913984-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4639
         "time": 1645592595608
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.4
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BD8D9D2A7E401EA7B62A7E6C940AD71BAFC7FADC-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4639
         "time": 1645592595610
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.4
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4639
         "time": 1645592595612
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.4
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "71B9AFBF9D37594053E305CF86AD9449B00EA69C-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4639
         "time": 1645592595614
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.4
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4639
         "time": 1645592595615
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.4
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "92CD7BBEB32DAE2391DBE9AA92BB179737F9283F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4639
         "time": 1645592595617
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.13.4
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D647F39B87ED7A8DEB671DA380E8FF65541ACBE9-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4639
         "time": 1645592595721
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.13.4
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 5A192F0F3DC5FAE0443BF81BFF069ADDE5251F28-1"
         "pid": 4639
         "time": 1645592595749
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.14.0
updated 1 package and audited 914 packages in 5.915s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:03:22.861Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:03:22.863Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:03:22.863Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:03:22.865Z appoptics:debug using context provider: ace-context
2022-02-23T05:03:22.946Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:03:23.139Z appoptics:patching patched crypto 
2022-02-23T05:03:23.162Z appoptics:patching patched https 
2022-02-23T05:03:23.162Z appoptics:patching patched http 
2022-02-23T05:03:23.197Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:03:23.197Z appoptics:patching patched fs 
2022-02-23T05:03:23.205Z appoptics:patching patched pino 6.14.0
2022-02-23T05:03:23.210Z appoptics:debug starting runtimeMetrics


  pino v6.14.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (187ms)
  14 failing

  1) pino v6.14.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4662
         "time": 1645592603239
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.14.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9928CAFC88047B6C20977B65753330256FB6BAE7-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4662
         "time": 1645592603247
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.14.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D1F3F88617987AE27296B8FA4299C7044840F71F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4662
         "time": 1645592603250
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.14.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F38FA92C4881D83F7471955049C3BC803E67A8D8-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4662
         "time": 1645592603252
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.14.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2AF629B0B116BE9B4B52837C2CE8EC577A2ED892-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4662
         "time": 1645592603255
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.14.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4662
         "time": 1645592603258
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.14.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1D6D10DEAD4098C1CEE999AEBC320FAB132345D4-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4662
         "time": 1645592603260
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.14.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "00FFDC383F0E2B2434D808B3424EFE44614A403B-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4662
         "time": 1645592603261
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.14.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4662
         "time": 1645592603263
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.14.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0B32B7DD3E1A0FE42BFE30F5C4457270C0328929-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4662
         "time": 1645592603264
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.14.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4662
         "time": 1645592603266
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.14.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F028A56EB202B54CDF4FACE4583F44102A264DD5-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4662
         "time": 1645592603268
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.14.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1CB0EC688F5CC6D32787660110ABE58A5BD1EC9C-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4662
         "time": 1645592603372
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.14.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B6B28CACE8E381D25E3ADF1006E412FAB20769FC-1"
         "pid": 4662
         "time": 1645592603402
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.0
added 8 packages from 5 contributors, removed 3 packages, updated 3 packages and audited 919 packages in 5.96s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:03:30.558Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:03:30.559Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:03:30.559Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:03:30.560Z appoptics:debug using context provider: ace-context
2022-02-23T05:03:30.672Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:03:30.917Z appoptics:patching patched crypto 
2022-02-23T05:03:30.941Z appoptics:patching patched https 
2022-02-23T05:03:30.942Z appoptics:patching patched http 
2022-02-23T05:03:30.977Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:03:30.977Z appoptics:patching patched fs 
2022-02-23T05:03:30.988Z appoptics:patching patched pino 7.0.0
2022-02-23T05:03:30.993Z appoptics:debug starting runtimeMetrics


  pino v7.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (192ms)
  14 failing

  1) pino v7.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4685
         "time": 1645592611024
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F4CD43C357F2D198D80580B23CCECEC7D50B9CDF-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4685
         "time": 1645592611032
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F73DB1840C19C1E15F9CDDBCD66801037E19D7E4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4685
         "time": 1645592611035
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A5FACAA8C53CB3398BB757D5C62B56A37D12AF52-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4685
         "time": 1645592611038
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "62E1552DD54D9A3457D50B9A981D60D47C95DE36-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4685
         "time": 1645592611041
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4685
         "time": 1645592611044
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EB5309C0B376580AF56C1F1A7F8FB5372D73FB34-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4685
         "time": 1645592611046
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "52B9FB08C14874A3752767F422FA560A7FCC4922-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4685
         "time": 1645592611047
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4685
         "time": 1645592611049
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DF078E060091AE0C2EF1F469F7F81887A39886DB-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4685
         "time": 1645592611050
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4685
         "time": 1645592611052
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6E10C6A0ED53D99C8D11A2A57CD5344C04D67880-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4685
         "time": 1645592611056
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2F741E749BDF2E0E0714F4C12E1072A666785177-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4685
         "time": 1645592611161
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B382A35DF8C42850D0138B8DBD9B45AB8403E683-1"
         "pid": 4685
         "time": 1645592611191
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.1
updated 1 package and audited 919 packages in 6.193s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:03:38.688Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:03:38.689Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:03:38.689Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:03:38.689Z appoptics:debug using context provider: ace-context
2022-02-23T05:03:38.765Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:03:38.957Z appoptics:patching patched crypto 
2022-02-23T05:03:38.979Z appoptics:patching patched https 
2022-02-23T05:03:38.979Z appoptics:patching patched http 
2022-02-23T05:03:39.023Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:03:39.023Z appoptics:patching patched fs 
2022-02-23T05:03:39.033Z appoptics:patching patched pino 7.0.1
2022-02-23T05:03:39.038Z appoptics:debug starting runtimeMetrics


  pino v7.0.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (193ms)
  14 failing

  1) pino v7.0.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4708
         "time": 1645592619071
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "932146826E1A9362F0EA9DB2134FEF93BAF7E27D-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4708
         "time": 1645592619080
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B4D0E88BD1926C724B78728C7748E688ECDD6D50-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4708
         "time": 1645592619083
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5ACA9A87AC14BE9E6F15F028BF4CAC8DE1A994CF-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4708
         "time": 1645592619086
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1D60819775D55BB0A28EE6CA00C3DB414C4FF214-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4708
         "time": 1645592619089
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4708
         "time": 1645592619092
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6EF06F7597D466C1494394563C63EF4495A6D2DE-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4708
         "time": 1645592619094
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "37D3B50230A8807E5E3AA37A5F3464D605F60326-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4708
         "time": 1645592619096
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4708
         "time": 1645592619098
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6AAB87D3B7AD50161D0B7DAE0F7D1936D46247B5-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4708
         "time": 1645592619100
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4708
         "time": 1645592619101
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6D682FE46FC19005B3CEA07C340C2017CDF2E207-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4708
         "time": 1645592619103
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2BF3492A2621F3233338277FABAC06E6171CA4F3-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4708
         "time": 1645592619208
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous EA96F743A8381682597E20C901AC46F95EC3E321-1"
         "pid": 4708
         "time": 1645592619236
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.2
updated 1 package and audited 919 packages in 5.511s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:03:46.289Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:03:46.290Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:03:46.290Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:03:46.291Z appoptics:debug using context provider: ace-context
2022-02-23T05:03:46.402Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:03:46.737Z appoptics:patching patched crypto 
2022-02-23T05:03:46.795Z appoptics:patching patched https 
2022-02-23T05:03:46.796Z appoptics:patching patched http 
2022-02-23T05:03:46.887Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:03:46.894Z appoptics:patching patched fs 
2022-02-23T05:03:46.911Z appoptics:patching patched pino 7.0.2
2022-02-23T05:03:46.916Z appoptics:debug starting runtimeMetrics


  pino v7.0.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (189ms)
  14 failing

  1) pino v7.0.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4731
         "time": 1645592626948
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "625A4EBED99BA3C5B998110C14A8159D1C133F4E-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4731
         "time": 1645592626957
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "051BFB205B8B13E6C8D39C88818D298342151797-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4731
         "time": 1645592626960
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EF3F21CB58B60CA5A57805A171C174871D9EF847-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4731
         "time": 1645592626962
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9E02097CD52429C15059316A4F3227E72CB3AEF1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4731
         "time": 1645592626965
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4731
         "time": 1645592626969
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DCDC832CB50555251A6022450EDFAF42A2F997BE-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4731
         "time": 1645592626970
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5C559DE67AA1200F455FDEE17EDBDB6230348ADB-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4731
         "time": 1645592626972
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4731
         "time": 1645592626974
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "35B59BDD923AED9A9CA733697D5C5A231DAE8B7F-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4731
         "time": 1645592626975
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4731
         "time": 1645592626977
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "36DA81F064810E78F8FC1BEBFF00BA0C51BDF6A8-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4731
         "time": 1645592626979
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DD3BA63BC3A5DD1E4FFAB62A981754D742742A51-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4731
         "time": 1645592627083
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F2DB4A0A0B3874CCB8A060D1A41BD9CC511B1E08-1"
         "pid": 4731
         "time": 1645592627113
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.3
updated 1 package and audited 919 packages in 5.43s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:03:53.962Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:03:53.963Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:03:53.963Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:03:53.966Z appoptics:debug using context provider: ace-context
2022-02-23T05:03:54.047Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:03:54.246Z appoptics:patching patched crypto 
2022-02-23T05:03:54.268Z appoptics:patching patched https 
2022-02-23T05:03:54.269Z appoptics:patching patched http 
2022-02-23T05:03:54.307Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:03:54.307Z appoptics:patching patched fs 
2022-02-23T05:03:54.316Z appoptics:patching patched pino 7.0.3
2022-02-23T05:03:54.321Z appoptics:debug starting runtimeMetrics


  pino v7.0.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (193ms)
  14 failing

  1) pino v7.0.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4754
         "time": 1645592634350
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "64E99051B32A7D5BB00F59DE2890A68C64F95DDE-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4754
         "time": 1645592634357
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7257D2685871BFDADA3770BB08FCD73BBE207A73-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4754
         "time": 1645592634361
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6C6E59964A247404EA211EEBBF2C39B928F6CFE2-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4754
         "time": 1645592634365
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E1C10AF9238B58B9C24433034E7986D41DD4AC3B-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4754
         "time": 1645592634368
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4754
         "time": 1645592634371
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0D7DD24CAA82B8D7C831B8FAAEAEA60B66C12528-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4754
         "time": 1645592634373
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B4CDB0309A3E3021867827FC8209C5BEE2E07621-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4754
         "time": 1645592634375
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4754
         "time": 1645592634377
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "01D06970A248AD5FCECBBF4157F76149AF2D39F0-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4754
         "time": 1645592634379
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4754
         "time": 1645592634381
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4E516DC9D50E2629F3979D03ED45CABD201F3E88-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4754
         "time": 1645592634383
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CFB0451CEA1B69722332D6214B11B29A0DD192A4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4754
         "time": 1645592634489
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F3A5DEBE10C66E673AE34724AE986F5155027488-1"
         "pid": 4754
         "time": 1645592634517
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.4
updated 1 package and audited 919 packages in 6.761s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:04:02.583Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:04:02.584Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:04:02.584Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:04:02.587Z appoptics:debug using context provider: ace-context
2022-02-23T05:04:02.661Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:04:02.859Z appoptics:patching patched crypto 
2022-02-23T05:04:02.881Z appoptics:patching patched https 
2022-02-23T05:04:02.881Z appoptics:patching patched http 
2022-02-23T05:04:02.920Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:04:02.921Z appoptics:patching patched fs 
2022-02-23T05:04:02.930Z appoptics:patching patched pino 7.0.4
2022-02-23T05:04:02.935Z appoptics:debug starting runtimeMetrics


  pino v7.0.4
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (197ms)
  14 failing

  1) pino v7.0.4
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4777
         "time": 1645592642969
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.4
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "526005569DBF18E462A01712278D3675BE525A9B-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4777
         "time": 1645592642981
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.4
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9A92E2EC956A135A3C2B216B12615A17CAA06F9A-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4777
         "time": 1645592642984
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.4
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B5FCC8DFE5166E7D44C0FC6CD32B29E47EECCB48-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4777
         "time": 1645592642987
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.4
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A2A5AF6478D43973F41D49D965BF3EF784455909-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4777
         "time": 1645592642991
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.4
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4777
         "time": 1645592642994
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.4
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3D399138EB2D4FF448603C347DFA5CC256B1DBBF-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4777
         "time": 1645592642995
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.4
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8E64187EF39F3D299092C47D22B1E83A7AC5E8F8-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4777
         "time": 1645592642997
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.4
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4777
         "time": 1645592643000
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.4
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "043AB9D51C7F4C6290F9B4E6ABD1E07392A0796C-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4777
         "time": 1645592643001
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.4
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4777
         "time": 1645592643003
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.4
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "17863CD783CD1ABA247D2797DC79F57946AB05F7-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4777
         "time": 1645592643004
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.4
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE122B9AA62DA332BA0D123A1F20E66C56AF0BE1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4777
         "time": 1645592643108
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.4
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous BF6BEA727D6F1127A67C450F998140B51995559F-1"
         "pid": 4777
         "time": 1645592643137
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.5
updated 1 package and audited 919 packages in 5.431s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:04:09.942Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:04:09.943Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:04:09.943Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:04:09.946Z appoptics:debug using context provider: ace-context
2022-02-23T05:04:10.082Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:04:10.350Z appoptics:patching patched crypto 
2022-02-23T05:04:10.444Z appoptics:patching patched https 
2022-02-23T05:04:10.444Z appoptics:patching patched http 
2022-02-23T05:04:10.498Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:04:10.498Z appoptics:patching patched fs 
2022-02-23T05:04:10.509Z appoptics:patching patched pino 7.0.5
2022-02-23T05:04:10.514Z appoptics:debug starting runtimeMetrics


  pino v7.0.5
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (203ms)
  14 failing

  1) pino v7.0.5
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4800
         "time": 1645592650553
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.5
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C95A0D6FBA7DA908DEFC06F430E3E3E3854859B5-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4800
         "time": 1645592650562
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.5
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A7EF15EC4D662349D3A128A5A09BAF9A59FB35CF-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4800
         "time": 1645592650566
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.5
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9007C482A4D31F08466169974256605BB3F571EE-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4800
         "time": 1645592650569
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.5
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0C1ADE4FF264B7BB368149A3763CEC756E42D1DB-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4800
         "time": 1645592650572
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.5
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4800
         "time": 1645592650576
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.5
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0C21B5CE6B1113384F38AB6D462820671C0CCC7F-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4800
         "time": 1645592650578
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.5
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7596826731C695BE355C3B322D07543481CE702E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4800
         "time": 1645592650581
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.5
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4800
         "time": 1645592650582
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.5
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "67E8AB2290FC93C4F4132E3B331625F49AFF20E3-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4800
         "time": 1645592650584
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.5
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4800
         "time": 1645592650587
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.5
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "28BF3AC58FDC50A24A2DACADCB2925596D5FE667-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4800
         "time": 1645592650590
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.5
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B3F152D800230107D14C4B4B71D4D4B4FF12E1A9-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4800
         "time": 1645592650694
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.5
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 8F1D586548F73F7E26923BA9BE3E8A53E7B9D39C-1"
         "pid": 4800
         "time": 1645592650723
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.1.0
removed 1 package, updated 3 packages and audited 918 packages in 6.213s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:04:18.279Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:04:18.280Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:04:18.280Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:04:18.281Z appoptics:debug using context provider: ace-context
2022-02-23T05:04:18.353Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:04:18.549Z appoptics:patching patched crypto 
2022-02-23T05:04:18.570Z appoptics:patching patched https 
2022-02-23T05:04:18.571Z appoptics:patching patched http 
2022-02-23T05:04:18.612Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:04:18.613Z appoptics:patching patched fs 
2022-02-23T05:04:18.624Z appoptics:patching patched pino 7.1.0
2022-02-23T05:04:18.631Z appoptics:debug starting runtimeMetrics


  pino v7.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (187ms)
  14 failing

  1) pino v7.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4823
         "time": 1645592658660
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5BAC3C39CC1A083C55D76B8E093B5EE2E91B7456-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4823
         "time": 1645592658667
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "46D80386127CF32FDE0D6EB3917CA2845439C716-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4823
         "time": 1645592658670
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3524ACEF4D7CEBA8A5C22B9BADEACFF5606BA641-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4823
         "time": 1645592658673
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "53033FCCD9FDA054CA47857F7C53B3E62645E810-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4823
         "time": 1645592658676
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4823
         "time": 1645592658681
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CB847F7746891FAC03BFEF84F073B7D3798950E8-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4823
         "time": 1645592658683
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "44226BD1670D8AEC2A2A85A7420788E8DFA25F59-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4823
         "time": 1645592658685
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4823
         "time": 1645592658686
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5105D9C650A7E397C261C28C8528ED2BA8D04A7A-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4823
         "time": 1645592658688
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4823
         "time": 1645592658690
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ABB9FC221B80224862A663139F6574918DF368C1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4823
         "time": 1645592658692
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F23AE37F998646DE828612661BA5CA66336A46B1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4823
         "time": 1645592658796
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous AF0CEA76ABD8C58FDC9C1ED44418269F6CFFF6C9-1"
         "pid": 4823
         "time": 1645592658824
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.2.0
added 1 package from 2 contributors, updated 2 packages and audited 919 packages in 6.031s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:04:26.217Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:04:26.218Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:04:26.218Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:04:26.219Z appoptics:debug using context provider: ace-context
2022-02-23T05:04:26.289Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:04:26.481Z appoptics:patching patched crypto 
2022-02-23T05:04:26.503Z appoptics:patching patched https 
2022-02-23T05:04:26.503Z appoptics:patching patched http 
2022-02-23T05:04:26.545Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:04:26.546Z appoptics:patching patched fs 
2022-02-23T05:04:26.558Z appoptics:patching patched pino 7.2.0
2022-02-23T05:04:26.562Z appoptics:debug starting runtimeMetrics


  pino v7.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (189ms)
  14 failing

  1) pino v7.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4846
         "time": 1645592666590
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E28B291380F51EC110B54FFC03CB6BD744220707-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4846
         "time": 1645592666598
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EE9261DB49540BECF863544611A61D6B6CF27FEC-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4846
         "time": 1645592666601
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3301135C03EA05E8EE99405E71C1EAB5E0021AA6-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4846
         "time": 1645592666604
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DF7B225D1837C7C9447B3AE5281C0D0C173BBBE5-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4846
         "time": 1645592666608
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4846
         "time": 1645592666612
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "646EFECC2142EB0D74B6712701DC9B8F80CE63B6-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4846
         "time": 1645592666614
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2233BBB22B88684F0796E06B8BBFC8872FCDD98E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4846
         "time": 1645592666615
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4846
         "time": 1645592666617
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "26E62F00A90008AD2607D2D20F8941C6503EBF32-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4846
         "time": 1645592666619
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4846
         "time": 1645592666620
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B514678840D8201F226F3FA02FB99A6462E1828B-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4846
         "time": 1645592666622
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8F6C1EDF0A631CB7CD8110A9A791F78308BB3DCA-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4846
         "time": 1645592666726
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 3AE00C2AB257BCAFA77FA7B30A2E7001F76DD068-1"
         "pid": 4846
         "time": 1645592666755
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.3.0
updated 1 package and audited 919 packages in 6.311s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:04:34.298Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:04:34.299Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:04:34.299Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:04:34.300Z appoptics:debug using context provider: ace-context
2022-02-23T05:04:34.375Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:04:34.572Z appoptics:patching patched crypto 
2022-02-23T05:04:34.595Z appoptics:patching patched https 
2022-02-23T05:04:34.595Z appoptics:patching patched http 
2022-02-23T05:04:34.638Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:04:34.639Z appoptics:patching patched fs 
2022-02-23T05:04:34.650Z appoptics:patching patched pino 7.3.0
2022-02-23T05:04:34.654Z appoptics:debug starting runtimeMetrics


  pino v7.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (192ms)
  14 failing

  1) pino v7.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4869
         "time": 1645592674688
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "369EB60B9BC23EDAA97D0367148290B04F554F8C-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4869
         "time": 1645592674696
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8DEBD3765A38FD50F65BC9778E846EF203457766-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4869
         "time": 1645592674700
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B12C8CDFCA7405AD20F534E73C2EA24692D0A61C-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4869
         "time": 1645592674703
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CC62496278EB65BDD1ECC46C03F778946448314D-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4869
         "time": 1645592674706
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4869
         "time": 1645592674710
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1618264BB670FC51B8BDCAA53E327ECA130D335D-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4869
         "time": 1645592674711
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "307E0E8451772F705586D28C6514CA2C7D887553-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4869
         "time": 1645592674713
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4869
         "time": 1645592674715
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3B7E39232AE1BC99CC36BC5330EC0C69F8FD6C71-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4869
         "time": 1645592674716
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4869
         "time": 1645592674718
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1540558DBB4D4AF4079DA078D270D311F35F2612-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4869
         "time": 1645592674722
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FB2DDBE5190C325F3C1BA4AF8DA0171B0B950FBD-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4869
         "time": 1645592674826
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6BE2B0AD9506CB703D171E370FB491971FBA402A-1"
         "pid": 4869
         "time": 1645592674854
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.4.0
updated 1 package and audited 919 packages in 6.165s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:04:42.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:04:42.225Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:04:42.225Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:04:42.228Z appoptics:debug using context provider: ace-context
2022-02-23T05:04:42.300Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:04:42.518Z appoptics:patching patched crypto 
2022-02-23T05:04:42.540Z appoptics:patching patched https 
2022-02-23T05:04:42.540Z appoptics:patching patched http 
2022-02-23T05:04:42.577Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:04:42.578Z appoptics:patching patched fs 
2022-02-23T05:04:42.590Z appoptics:patching patched pino 7.4.0
2022-02-23T05:04:42.594Z appoptics:debug starting runtimeMetrics


  pino v7.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (211ms)
  14 failing

  1) pino v7.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4892
         "time": 1645592682630
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E1A86D14EDC0C73540E0CCAABFCDBC1244CEEEAA-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4892
         "time": 1645592682641
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0E9CBE5EF6018E92A950D96A64047DF51EA50BB1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4892
         "time": 1645592682644
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FC41B1FDE287BDBCDAED1604406B2467CFB59B58-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4892
         "time": 1645592682648
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9AC8EDF2EADC9C57EDB92AC29CFF390D1FC7C692-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4892
         "time": 1645592682655
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4892
         "time": 1645592682658
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A29227899AA3DF61AFD53EDC2AF2AD507D4DCD23-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4892
         "time": 1645592682664
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B18458421711344D766D479D2F0C2AA018B89AA8-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4892
         "time": 1645592682666
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4892
         "time": 1645592682669
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B69B8ADDC1AAABF1BA738E9D9CD5F23AF0F102BF-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4892
         "time": 1645592682671
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4892
         "time": 1645592682672
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "22C2CD844962C230BFAC11AE1FDC4E859FDC0923-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4892
         "time": 1645592682676
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "626CEE4FF0C1D2F187E64D7C9046C67238ADD55F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4892
         "time": 1645592682780
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous C2091A260187DAA575D1D66632E16CD4ACDAF040-1"
         "pid": 4892
         "time": 1645592682811
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.4.1
updated 1 package and audited 919 packages in 5.611s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:04:49.851Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:04:49.852Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:04:49.852Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:04:49.852Z appoptics:debug using context provider: ace-context
2022-02-23T05:04:49.938Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:04:50.161Z appoptics:patching patched crypto 
2022-02-23T05:04:50.190Z appoptics:patching patched https 
2022-02-23T05:04:50.190Z appoptics:patching patched http 
2022-02-23T05:04:50.259Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:04:50.260Z appoptics:patching patched fs 
2022-02-23T05:04:50.271Z appoptics:patching patched pino 7.4.1
2022-02-23T05:04:50.276Z appoptics:debug starting runtimeMetrics


  pino v7.4.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (194ms)
  14 failing

  1) pino v7.4.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4915
         "time": 1645592690305
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.4.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B25814A9F9850155F2D48F782476D08E014F817F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4915
         "time": 1645592690318
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.4.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1882147452F61D722B78187B687953950F68BB18-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4915
         "time": 1645592690321
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.4.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DDF7E3F467F196ED1FA0F27F79FADA1504A86672-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4915
         "time": 1645592690324
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.4.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "012D0F405718D680E562A95299511C9D4624816E-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4915
         "time": 1645592690327
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.4.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4915
         "time": 1645592690330
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.4.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CBB8C81DC48418CE0DFDB8960DF8267D9574FAC4-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4915
         "time": 1645592690332
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.4.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E8B2A3C4DD241010A5CD990B5BD0F26B85333D92-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4915
         "time": 1645592690334
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.4.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4915
         "time": 1645592690335
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.4.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "761146AA53834DC09159B2FE7D3D2DA2CC7A7069-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4915
         "time": 1645592690337
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.4.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4915
         "time": 1645592690338
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.4.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7917C2C01AD5077A32A023631755434612ABE837-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4915
         "time": 1645592690340
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.4.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D5271EA666AC0CBD7874F9733480D898302A807D-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4915
         "time": 1645592690445
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.4.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous BF852B4C280EFFEA2A7C5FA971DC24AC9D4B2718-1"
         "pid": 4915
         "time": 1645592690476
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.5.0
updated 1 package and audited 919 packages in 5.582s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:04:57.427Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:04:57.427Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:04:57.427Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:04:57.428Z appoptics:debug using context provider: ace-context
2022-02-23T05:04:57.501Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:04:57.743Z appoptics:patching patched crypto 
2022-02-23T05:04:57.786Z appoptics:patching patched https 
2022-02-23T05:04:57.787Z appoptics:patching patched http 
2022-02-23T05:04:57.847Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:04:57.848Z appoptics:patching patched fs 
2022-02-23T05:04:57.858Z appoptics:patching patched pino 7.5.0
2022-02-23T05:04:57.862Z appoptics:debug starting runtimeMetrics


  pino v7.5.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (190ms)
  14 failing

  1) pino v7.5.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4938
         "time": 1645592697892
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.5.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4BB53909C3EB38D6B5D3EA2F077BB7D410EC868B-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4938
         "time": 1645592697900
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.5.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "264810A934FFE0095694D8588C4E2775E7EEE08F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4938
         "time": 1645592697903
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.5.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "16665C6FE041C41B77F313919F5ABEE0796241BE-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4938
         "time": 1645592697907
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.5.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "40C7F352D5EC789ED66F48126CE83AA971FF1D29-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4938
         "time": 1645592697911
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.5.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4938
         "time": 1645592697914
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.5.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "259D2949D41CFEEF9A3B4A118858FD94B317F94E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4938
         "time": 1645592697916
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.5.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "26F53D65511EDD74BF9FA716C7A7F0D158B57821-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4938
         "time": 1645592697917
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.5.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4938
         "time": 1645592697919
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.5.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F3007486765AA3BAFACCDF9E98688690BF20DC6E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4938
         "time": 1645592697920
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.5.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4938
         "time": 1645592697921
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.5.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "56453DB8DD6984C702241755DCFACC6FFBCB99DD-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4938
         "time": 1645592697925
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.5.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E1C52C6670CC9E3679AFFCD919239FB18A2E3EFD-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4938
         "time": 1645592698030
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.5.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous AF6B574551FB7B75FA72B631D97811EBF272D2BB-1"
         "pid": 4938
         "time": 1645592698059
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.5.1
updated 1 package and audited 919 packages in 5.906s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:05:05.182Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:05:05.183Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:05:05.183Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:05:05.185Z appoptics:debug using context provider: ace-context
2022-02-23T05:05:05.259Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:05:05.474Z appoptics:patching patched crypto 
2022-02-23T05:05:05.519Z appoptics:patching patched https 
2022-02-23T05:05:05.519Z appoptics:patching patched http 
2022-02-23T05:05:05.564Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:05:05.564Z appoptics:patching patched fs 
2022-02-23T05:05:05.575Z appoptics:patching patched pino 7.5.1
2022-02-23T05:05:05.580Z appoptics:debug starting runtimeMetrics


  pino v7.5.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (191ms)
  14 failing

  1) pino v7.5.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4961
         "time": 1645592705612
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.5.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D08101B9923E926BE2D0F5EE51D440B0E951D7C2-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4961
         "time": 1645592705619
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.5.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0B72AE514BBB5E77BBFE1F248D4265699188B45B-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4961
         "time": 1645592705622
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.5.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "650968C61C3439B56EAD3311E4935D2309F71C28-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4961
         "time": 1645592705627
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.5.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C4F46B2E615F44291DC63049522A843B01D4CF7E-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4961
         "time": 1645592705630
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.5.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4961
         "time": 1645592705633
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.5.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4B545F93A9DBEC0E12B3D0EF616EA31E1E924028-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4961
         "time": 1645592705635
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.5.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "484F823FCB63188B7301E84EDF9A7081975C31B4-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4961
         "time": 1645592705637
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.5.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4961
         "time": 1645592705638
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.5.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7A2823C96E36A55850F9D77ADC821A8D4A53E113-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4961
         "time": 1645592705641
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.5.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4961
         "time": 1645592705642
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.5.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "580F2E38152164A35C31910661686E3600053919-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4961
         "time": 1645592705645
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.5.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AE177E36FCCFEFFA5B62D7B01900D494D0E78361-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4961
         "time": 1645592705750
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.5.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 2B1645D46B74798C6F6DBEE37CC2E7083FDFED36-1"
         "pid": 4961
         "time": 1645592705778
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.6.0
updated 1 package and audited 919 packages in 5.386s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:05:12.429Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:05:12.430Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:05:12.430Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:05:12.431Z appoptics:debug using context provider: ace-context
2022-02-23T05:05:12.513Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:05:12.726Z appoptics:patching patched crypto 
2022-02-23T05:05:12.770Z appoptics:patching patched https 
2022-02-23T05:05:12.771Z appoptics:patching patched http 
2022-02-23T05:05:12.818Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:05:12.819Z appoptics:patching patched fs 
2022-02-23T05:05:12.833Z appoptics:patching patched pino 7.6.0
2022-02-23T05:05:12.838Z appoptics:debug starting runtimeMetrics


  pino v7.6.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (194ms)
  14 failing

  1) pino v7.6.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4984
         "time": 1645592712869
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.6.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0412E49722358EBC9E00A2FF217EF615DC7417C9-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4984
         "time": 1645592712877
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.6.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C07949A0F1B466B8756869875644E3DAD4DF48D2-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4984
         "time": 1645592712880
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.6.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "304A3295D2C9BAD5DE4C183B5DBD0687258FEF93-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4984
         "time": 1645592712883
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.6.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6AB8266A4B96C3912C99CE05A4936A94609F2E97-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4984
         "time": 1645592712886
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.6.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4984
         "time": 1645592712889
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.6.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "918BD50184079CA8B8A40B16148791BF31D4E0FB-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4984
         "time": 1645592712891
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.6.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "192EC5C4F02D9AAD0E698BFB3FBD83456E760DFC-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4984
         "time": 1645592712893
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.6.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4984
         "time": 1645592712894
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.6.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "62A0171088958CEC178A6CBE5259945BC3D71D8E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4984
         "time": 1645592712896
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.6.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 4984
         "time": 1645592712897
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.6.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B91BFF10AF6932A92C321EE63D1A6E200CDA32C3-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4984
         "time": 1645592712899
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.6.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "39254B85A712065FF7D876FB9DDFD68D8A9EDABE-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4984
         "time": 1645592713003
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.6.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F4DDDC8681E7EC3178148098ECC2166689A9871D-1"
         "pid": 4984
         "time": 1645592713038
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated fastify-warning@0.2.0: This module renamed to process-warning
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.6.1
updated 1 package and audited 919 packages in 6.52s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:05:20.775Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:05:20.775Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:05:20.776Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:05:20.778Z appoptics:debug using context provider: ace-context
2022-02-23T05:05:20.852Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:05:21.063Z appoptics:patching patched crypto 
2022-02-23T05:05:21.084Z appoptics:patching patched https 
2022-02-23T05:05:21.085Z appoptics:patching patched http 
2022-02-23T05:05:21.119Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:05:21.119Z appoptics:patching patched fs 
2022-02-23T05:05:21.138Z appoptics:patching patched pino 7.6.1
2022-02-23T05:05:21.143Z appoptics:debug starting runtimeMetrics


  pino v7.6.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (188ms)
  14 failing

  1) pino v7.6.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 5007
         "time": 1645592721174
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.6.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4B59BC82AD87148CC388ECDE38F107C41A78BBDB-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 5007
         "time": 1645592721183
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.6.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6FCCA6B62C6F82F5B6D20C5222E5E9784985D834-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 5007
         "time": 1645592721186
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.6.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5687E87029E8F0AF8A28B887B2548A3CC9EE4E22-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 5007
         "time": 1645592721189
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.6.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4970AC37D5F94BC6F44A341AE7A16362AAC3CAA2-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 5007
         "time": 1645592721192
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.6.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 5007
         "time": 1645592721195
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.6.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B283B2786F910C2F666003877DC1D64271CF4B61-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 5007
         "time": 1645592721197
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.6.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "390F301004B5B6092B1E306F1CFE57EF9A6E2C1B-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 5007
         "time": 1645592721199
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.6.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 5007
         "time": 1645592721200
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.6.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "263D0E1DE5FDAB9BFA712F6E951282C99117F352-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 5007
         "time": 1645592721202
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.6.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 5007
         "time": 1645592721203
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.6.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F66018E169FED734AC45DDF69AAAD7041E32980A-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 5007
         "time": 1645592721206
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.6.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "628B0AD5A14EC27586BC599EECC9F922C905ED9F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 5007
         "time": 1645592721310
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.6.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 44C2A14A4917521B77F7B60221CB2317B8442911-1"
         "pid": 5007
         "time": 1645592721338
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.6.2
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 919 packages in 5.778s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:05:28.999Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:05:29.000Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:05:29.000Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:05:29.012Z appoptics:debug using context provider: ace-context
2022-02-23T05:05:29.230Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:05:29.554Z appoptics:patching patched crypto 
2022-02-23T05:05:29.576Z appoptics:patching patched https 
2022-02-23T05:05:29.576Z appoptics:patching patched http 
2022-02-23T05:05:29.606Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:05:29.606Z appoptics:patching patched fs 
2022-02-23T05:05:29.629Z appoptics:patching patched pino 7.6.2
2022-02-23T05:05:29.633Z appoptics:debug starting runtimeMetrics


  pino v7.6.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (191ms)
  14 failing

  1) pino v7.6.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 5030
         "time": 1645592729664
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.6.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1EA9A0C7F744B68D69775D401C163406B2C49A24-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 5030
         "time": 1645592729672
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.6.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D347CBAE0ACC5173F5E030BE1D2684A4DA3EA900-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 5030
         "time": 1645592729676
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.6.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7ECFA9A9EC609F9BBC144590FB0784CC5843FD0F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 5030
         "time": 1645592729679
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.6.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BEEB3587A7DE4ED02B72D65200E90876A7F7864D-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 5030
         "time": 1645592729682
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.6.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 5030
         "time": 1645592729685
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.6.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C579BB92A44D7702FAF5912772F42B97DAC3A56B-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 5030
         "time": 1645592729687
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.6.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CAB434B842F6803A582C7B69FE598F4C5AEBC798-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 5030
         "time": 1645592729689
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.6.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 5030
         "time": 1645592729690
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.6.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A6F547E65254ED79DA6FA4A3FBB724D95D362EE9-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 5030
         "time": 1645592729692
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.6.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 5030
         "time": 1645592729693
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.6.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0E5B1FFA766E406EA6389883E0046A893C12BCA3-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 5030
         "time": 1645592729696
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.6.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7B4895B45242B41E699957E45DF7DF749E612DBC-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 5030
         "time": 1645592729801
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.6.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous BAAE0A6E5781B953C236AB9B335E965D07C0156A-1"
         "pid": 5030
         "time": 1645592729830
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.6.3
updated 1 package and audited 919 packages in 5.58s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:05:36.643Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:05:36.644Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:05:36.644Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:05:36.649Z appoptics:debug using context provider: ace-context
2022-02-23T05:05:36.723Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:05:36.910Z appoptics:patching patched crypto 
2022-02-23T05:05:36.932Z appoptics:patching patched https 
2022-02-23T05:05:36.932Z appoptics:patching patched http 
2022-02-23T05:05:36.968Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:05:36.969Z appoptics:patching patched fs 
2022-02-23T05:05:36.986Z appoptics:patching patched pino 7.6.3
2022-02-23T05:05:36.991Z appoptics:debug starting runtimeMetrics


  pino v7.6.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (189ms)
  14 failing

  1) pino v7.6.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 5053
         "time": 1645592737019
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.6.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ECE5B18ED5A71E580AD3B76251BEC6760E767BC7-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 5053
         "time": 1645592737027
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.6.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "267B5C75442340511714D00DEDA20A086DB70129-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 5053
         "time": 1645592737031
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.6.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F9F40622997B7552CD2D343FE8AC538A4C840511-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 5053
         "time": 1645592737034
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.6.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DAE166C2648DFD62B9898C4F10F58C1C371DA8A9-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 5053
         "time": 1645592737037
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.6.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 5053
         "time": 1645592737040
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.6.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EA466832B7FE4C661EF2B0FC261B7EB34DC2912E-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 5053
         "time": 1645592737042
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.6.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C9BFFC24BB91E60E5E5BD6342BA14BA3938CD94D-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 5053
         "time": 1645592737044
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.6.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 5053
         "time": 1645592737045
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.6.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "167E24BE2F791BD45C4B9B3EB4BE88709E62725F-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 5053
         "time": 1645592737047
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.6.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 5053
         "time": 1645592737049
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.6.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2C4BE64839DA5A5563EBC2898C6CCF3F38AFE99F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 5053
         "time": 1645592737052
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.6.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0E272ABEAC774AED573D23CC1E54D8D59588B3F1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 5053
         "time": 1645592737157
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.6.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 38999EC3B076E29145C01604D94CD3409447451A-1"
         "pid": 5053
         "time": 1645592737186
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.6.4
updated 1 package and audited 919 packages in 6.454s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:05:44.917Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:05:44.918Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:05:44.918Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:05:44.921Z appoptics:debug using context provider: ace-context
2022-02-23T05:05:44.997Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:05:45.205Z appoptics:patching patched crypto 
2022-02-23T05:05:45.230Z appoptics:patching patched https 
2022-02-23T05:05:45.230Z appoptics:patching patched http 
2022-02-23T05:05:45.270Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:05:45.271Z appoptics:patching patched fs 
2022-02-23T05:05:45.281Z appoptics:patching patched pino 7.6.4
2022-02-23T05:05:45.286Z appoptics:debug starting runtimeMetrics


  pino v7.6.4
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (187ms)
  14 failing

  1) pino v7.6.4
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 5076
         "time": 1645592745316
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.6.4
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "09CBC28B78493A399B3B5A02A95CCBE2824D3B0B-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 5076
         "time": 1645592745323
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.6.4
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "99D5B4357FAF006001590B38007AAD618669A4F4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 5076
         "time": 1645592745330
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.6.4
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CA440B3E56A2786D0BBDDDA7DE25EA116FA6C8F4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 5076
         "time": 1645592745333
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.6.4
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "26B0BA4B84643DCEE303C55E66AAE016C31B91F2-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 5076
         "time": 1645592745336
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.6.4
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 5076
         "time": 1645592745338
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.6.4
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "88A1625305D6ED805E4E82DC013C0B0BD66FCF9A-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 5076
         "time": 1645592745340
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.6.4
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C80EEC89F26B74AC2466FF3EB7F2C6A2A7415593-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 5076
         "time": 1645592745342
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.6.4
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 5076
         "time": 1645592745344
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.6.4
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B22AB96BFE86BD2371ED29032D5920F490A35C09-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 5076
         "time": 1645592745345
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.6.4
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 5076
         "time": 1645592745346
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.6.4
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F042DF8C888E3E10CF657FD5452561A69B113436-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 5076
         "time": 1645592745348
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.6.4
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B1EAFC2A96B285897222C04F79EED0B846C9FE7F-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 5076
         "time": 1645592745452
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.6.4
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 215FD7E87F82E75091A68C37713883F9D0E8088F-1"
         "pid": 5076
         "time": 1645592745480
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.6.5
updated 1 package and audited 919 packages in 5.686s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:05:52.393Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:05:52.394Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:05:52.394Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:05:52.396Z appoptics:debug using context provider: ace-context
2022-02-23T05:05:52.468Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:05:52.666Z appoptics:patching patched crypto 
2022-02-23T05:05:52.688Z appoptics:patching patched https 
2022-02-23T05:05:52.688Z appoptics:patching patched http 
2022-02-23T05:05:52.748Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:05:52.748Z appoptics:patching patched fs 
2022-02-23T05:05:52.759Z appoptics:patching patched pino 7.6.5
2022-02-23T05:05:52.765Z appoptics:debug starting runtimeMetrics


  pino v7.6.5
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (197ms)
  14 failing

  1) pino v7.6.5
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 5099
         "time": 1645592752801
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.6.5
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BE891343B36FAB72F24CA3EE38F6D818691A0E53-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 5099
         "time": 1645592752810
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.6.5
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E653FBC83B33874F120ADE10D2309111A0CFB1B5-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 5099
         "time": 1645592752813
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.6.5
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FD4613F1B1F2E65A3FCBCC13792BA6398116E0D8-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 5099
         "time": 1645592752816
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.6.5
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "87A2825698BBC6014A3F2E1F06E2F67DC20C9E00-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 5099
         "time": 1645592752819
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.6.5
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 5099
         "time": 1645592752823
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.6.5
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D113A3F21EE0E0FFF9648255B4EC01BAEF56ACBF-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 5099
         "time": 1645592752825
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.6.5
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "384A9D4CA7FCD6EEB542CABDCF88A97513F6F04F-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 5099
         "time": 1645592752827
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.6.5
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 5099
         "time": 1645592752829
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.6.5
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6361CA6470011462CF7A87668B421FDBCDEFB7EB-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 5099
         "time": 1645592752831
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.6.5
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 5099
         "time": 1645592752833
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.6.5
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "16416737A04FA7AD4AC6E2ED9B72B5013D3959FF-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 5099
         "time": 1645592752835
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.6.5
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D958E73ED8BCFBFF2501FE56802BC81608E9ECF1-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 5099
         "time": 1645592752940
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.6.5
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6CF97F00967F12878BA8C0DCAF850EA26AB70DBC-1"
         "pid": 5099
         "time": 1645592752968
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.7.0
updated 1 package and audited 919 packages in 6.079s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:06:00.390Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:06:00.391Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:06:00.391Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:06:00.393Z appoptics:debug using context provider: ace-context
2022-02-23T05:06:00.465Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:06:00.672Z appoptics:patching patched crypto 
2022-02-23T05:06:00.695Z appoptics:patching patched https 
2022-02-23T05:06:00.695Z appoptics:patching patched http 
2022-02-23T05:06:00.736Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:06:00.736Z appoptics:patching patched fs 
2022-02-23T05:06:00.747Z appoptics:patching patched pino 7.7.0
2022-02-23T05:06:00.753Z appoptics:debug starting runtimeMetrics


  pino v7.7.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (190ms)
  14 failing

  1) pino v7.7.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 5122
         "time": 1645592760782
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.7.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E3A79E72FF3CD18485EEFB823D2953073FD7CC5A-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 5122
         "time": 1645592760791
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.7.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2D9692BAAF02273F73435D577E3A100D0D0A3ED4-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 5122
         "time": 1645592760794
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.7.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D518E25961EE87083655026F6BB47EA268A885FC-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 5122
         "time": 1645592760798
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.7.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0B3880C177634B3666714C5729389146B51F7CF5-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 5122
         "time": 1645592760801
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.7.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 5122
         "time": 1645592760803
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.7.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6B660C96B88A25B3F59D4231C1773796749E3729-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 5122
         "time": 1645592760805
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.7.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EABF2E4A54AD9C1DF1FF3A44B22FCC292CAA4FF1-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 5122
         "time": 1645592760807
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.7.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 5122
         "time": 1645592760809
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.7.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "88B459016497C33E6A88EE20AC0894404992B573-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 5122
         "time": 1645592760811
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.7.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 5122
         "time": 1645592760813
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.7.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A49B2A545DF24430866594F5FD63E0B8EDCCA285-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 5122
         "time": 1645592760815
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.7.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "492C4DD2BA5144CA8DB67FD270F5E93E3BA64B75-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 5122
         "time": 1645592760920
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.7.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 5E67CA0D1A88C522A748FAA8280323FE1735BC4D-1"
         "pid": 5122
         "time": 1645592760948
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.8.0
updated 1 package and audited 919 packages in 5.868s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-02-23T05:06:08.235Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-02-23T05:06:08.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-02-23T05:06:08.235Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-02-23T05:06:08.236Z appoptics:debug using context provider: ace-context
2022-02-23T05:06:08.308Z appoptics:debug apm 10.2.1, bindings 11.2.0, oboe 10.2.0
2022-02-23T05:06:08.500Z appoptics:patching patched crypto 
2022-02-23T05:06:08.520Z appoptics:patching patched https 
2022-02-23T05:06:08.521Z appoptics:patching patched http 
2022-02-23T05:06:08.568Z appoptics:patching fs.realpath - adding native method
2022-02-23T05:06:08.568Z appoptics:patching patched fs 
2022-02-23T05:06:08.580Z appoptics:patching patched pino 7.8.0
2022-02-23T05:06:08.585Z appoptics:debug starting runtimeMetrics


  pino v7.8.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (190ms)
  14 failing

  1) pino v7.8.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 5145
         "time": 1645592768615
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.8.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5EBC6A89221D92D7704211D524386F6870E79470-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 5145
         "time": 1645592768622
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.8.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A1E698749EE2EDF8762B9828370063E2C7FC3B50-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 5145
         "time": 1645592768626
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.8.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A9850D9F484CD04BDBA93FF9C2F09537A0B19631-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 5145
         "time": 1645592768628
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.8.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0E9014BFCC204DA521E153D4F9C7E02763BEB866-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 5145
         "time": 1645592768631
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.8.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 5145
         "time": 1645592768634
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.8.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "011B3A837B30A1A3F5E7C7C4AF489BF9270E0508-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 5145
         "time": 1645592768636
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.8.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B0F20AB5DA9E08802F0B94AF9DB23A109D1DE760-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 5145
         "time": 1645592768638
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.8.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 5145
         "time": 1645592768640
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.8.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AF4D6E003F249B42C81CBFD954DC9A1B984DA422-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 5145
         "time": 1645592768643
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.8.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "always insert"
         "pid": 5145
         "time": 1645592768644
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.8.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D9CAB27C9B6EC02D1735BDB4F58AABBE9A8EFF61-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 5145
         "time": 1645592768648
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.8.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "28B59C1AFA276AC023609DD0629292302BF58D95-1"
      +  }
         "hostname": "850a13a0bd08"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 5145
         "time": 1645592768753
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.8.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous AD3CBA57791ACD7504BEE4AFCEDC1363F5B0A652-1"
         "pid": 5145
         "time": 1645592768781
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.17.0
added 2 packages from 8 contributors, removed 8 packages, updated 5 packages and audited 913 packages in 5.652s

83 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (3 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
