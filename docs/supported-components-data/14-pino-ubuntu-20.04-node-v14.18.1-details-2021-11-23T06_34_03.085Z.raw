npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.3.0
added 16 packages from 6 contributors, removed 5 packages, updated 2 packages and audited 1096 packages in 8.026s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:12.704Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:12.705Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:12.705Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:12.705Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:12.773Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:12.956Z appoptics:patching patched crypto 
2021-11-23T06:34:12.983Z appoptics:patching patched https 
2021-11-23T06:34:12.983Z appoptics:patching patched http 
2021-11-23T06:34:13.028Z appoptics:patching patched pino 2.3.0
2021-11-23T06:34:13.032Z appoptics:debug starting runtimeMetrics


  pino v2.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.0
updated 1 package and audited 1096 packages in 7.159s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:21.464Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:21.465Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:21.465Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:21.465Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:21.534Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:21.707Z appoptics:patching patched crypto 
2021-11-23T06:34:21.726Z appoptics:patching patched https 
2021-11-23T06:34:21.727Z appoptics:patching patched http 
2021-11-23T06:34:21.768Z appoptics:patching patched pino 2.4.0
2021-11-23T06:34:21.773Z appoptics:debug starting runtimeMetrics


  pino v2.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.1
updated 1 package and audited 1096 packages in 6.485s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:29.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:29.651Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:29.651Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:29.651Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:29.746Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:30.038Z appoptics:patching patched crypto 
2021-11-23T06:34:30.091Z appoptics:patching patched https 
2021-11-23T06:34:30.092Z appoptics:patching patched http 
2021-11-23T06:34:30.132Z appoptics:patching patched pino 2.4.1
2021-11-23T06:34:30.139Z appoptics:debug starting runtimeMetrics


  pino v2.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (231ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.2
updated 1 package and audited 1096 packages in 6.675s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:38.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:38.461Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:38.461Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:38.464Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:38.548Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:38.758Z appoptics:patching patched crypto 
2021-11-23T06:34:38.780Z appoptics:patching patched https 
2021-11-23T06:34:38.780Z appoptics:patching patched http 
2021-11-23T06:34:38.826Z appoptics:patching patched pino 2.4.2
2021-11-23T06:34:38.830Z appoptics:debug starting runtimeMetrics


  pino v2.4.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.3
updated 1 package and audited 1096 packages in 6.59s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:46.824Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:46.824Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:46.824Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:46.825Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:46.918Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:47.117Z appoptics:patching patched crypto 
2021-11-23T06:34:47.172Z appoptics:patching patched https 
2021-11-23T06:34:47.172Z appoptics:patching patched http 
2021-11-23T06:34:47.208Z appoptics:patching patched pino 2.4.3
2021-11-23T06:34:47.212Z appoptics:debug starting runtimeMetrics


  pino v2.4.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.4.4
updated 1 package and audited 1096 packages in 7.033s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:55.767Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:55.768Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:55.768Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:55.769Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:55.842Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:56.060Z appoptics:patching patched crypto 
2021-11-23T06:34:56.095Z appoptics:patching patched https 
2021-11-23T06:34:56.095Z appoptics:patching patched http 
2021-11-23T06:34:56.144Z appoptics:patching patched pino 2.4.4
2021-11-23T06:34:56.148Z appoptics:debug starting runtimeMetrics


  pino v2.4.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.5.0
updated 1 package and audited 1096 packages in 6.69s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:04.252Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:04.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:04.253Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:04.255Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:04.319Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:04.481Z appoptics:patching patched crypto 
2021-11-23T06:35:04.503Z appoptics:patching patched https 
2021-11-23T06:35:04.503Z appoptics:patching patched http 
2021-11-23T06:35:04.543Z appoptics:patching patched pino 2.5.0
2021-11-23T06:35:04.548Z appoptics:debug starting runtimeMetrics


  pino v2.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.6.0
updated 1 package and audited 1096 packages in 6.951s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:12.811Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:12.811Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:12.811Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:12.812Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:12.882Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:13.101Z appoptics:patching patched crypto 
2021-11-23T06:35:13.134Z appoptics:patching patched https 
2021-11-23T06:35:13.134Z appoptics:patching patched http 
2021-11-23T06:35:13.180Z appoptics:patching patched pino 2.6.0
2021-11-23T06:35:13.184Z appoptics:debug starting runtimeMetrics


  pino v2.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.6.1
updated 1 package and audited 1096 packages in 6.819s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:21.657Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:21.658Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:21.658Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:21.661Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:21.761Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:21.974Z appoptics:patching patched crypto 
2021-11-23T06:35:21.993Z appoptics:patching patched https 
2021-11-23T06:35:21.994Z appoptics:patching patched http 
2021-11-23T06:35:22.034Z appoptics:patching patched pino 2.6.1
2021-11-23T06:35:22.039Z appoptics:debug starting runtimeMetrics


  pino v2.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.0
updated 1 package and audited 1096 packages in 6.392s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:29.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:29.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:29.800Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:29.801Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:29.865Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:30.032Z appoptics:patching patched crypto 
2021-11-23T06:35:30.067Z appoptics:patching patched https 
2021-11-23T06:35:30.067Z appoptics:patching patched http 
2021-11-23T06:35:30.102Z appoptics:patching patched pino 2.7.0
2021-11-23T06:35:30.106Z appoptics:debug starting runtimeMetrics


  pino v2.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.1
updated 1 package and audited 1096 packages in 6.805s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:38.411Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:38.411Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:38.412Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:38.413Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:38.476Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:38.644Z appoptics:patching patched crypto 
2021-11-23T06:35:38.664Z appoptics:patching patched https 
2021-11-23T06:35:38.664Z appoptics:patching patched http 
2021-11-23T06:35:38.704Z appoptics:patching patched pino 2.7.1
2021-11-23T06:35:38.709Z appoptics:debug starting runtimeMetrics


  pino v2.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.2
updated 1 package and audited 1096 packages in 6.985s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:47.064Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:47.065Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:47.065Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:47.067Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:47.141Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:47.323Z appoptics:patching patched crypto 
2021-11-23T06:35:47.346Z appoptics:patching patched https 
2021-11-23T06:35:47.347Z appoptics:patching patched http 
2021-11-23T06:35:47.417Z appoptics:patching patched pino 2.7.2
2021-11-23T06:35:47.424Z appoptics:debug starting runtimeMetrics


  pino v2.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (190ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.3
updated 1 package and audited 1096 packages in 7.267s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:56.052Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:56.055Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:56.055Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:56.058Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:56.144Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:56.327Z appoptics:patching patched crypto 
2021-11-23T06:35:56.365Z appoptics:patching patched https 
2021-11-23T06:35:56.365Z appoptics:patching patched http 
2021-11-23T06:35:56.404Z appoptics:patching patched pino 2.7.3
2021-11-23T06:35:56.409Z appoptics:debug starting runtimeMetrics


  pino v2.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.4
updated 1 package and audited 1096 packages in 7.247s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:05.101Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:05.101Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:05.101Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:05.102Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:05.171Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:05.342Z appoptics:patching patched crypto 
2021-11-23T06:36:05.361Z appoptics:patching patched https 
2021-11-23T06:36:05.362Z appoptics:patching patched http 
2021-11-23T06:36:05.401Z appoptics:patching patched pino 2.7.4
2021-11-23T06:36:05.405Z appoptics:debug starting runtimeMetrics


  pino v2.7.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.7.5
updated 1 package and audited 1096 packages in 7.281s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:14.011Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:14.012Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:14.012Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:14.014Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:14.090Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:14.271Z appoptics:patching patched crypto 
2021-11-23T06:36:14.291Z appoptics:patching patched https 
2021-11-23T06:36:14.292Z appoptics:patching patched http 
2021-11-23T06:36:14.331Z appoptics:patching patched pino 2.7.5
2021-11-23T06:36:14.335Z appoptics:debug starting runtimeMetrics


  pino v2.7.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (101ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.0
updated 1 package and audited 1096 packages in 7.229s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:23.129Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:23.133Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:23.133Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:23.142Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:23.250Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:23.479Z appoptics:patching patched crypto 
2021-11-23T06:36:23.500Z appoptics:patching patched https 
2021-11-23T06:36:23.501Z appoptics:patching patched http 
2021-11-23T06:36:23.543Z appoptics:patching patched pino 2.8.0
2021-11-23T06:36:23.548Z appoptics:debug starting runtimeMetrics


  pino v2.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.1
updated 1 package and audited 1096 packages in 6.507s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:31.445Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:31.446Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:31.446Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:31.446Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:31.515Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:31.707Z appoptics:patching patched crypto 
2021-11-23T06:36:31.729Z appoptics:patching patched https 
2021-11-23T06:36:31.729Z appoptics:patching patched http 
2021-11-23T06:36:31.779Z appoptics:patching patched pino 2.8.1
2021-11-23T06:36:31.783Z appoptics:debug starting runtimeMetrics


  pino v2.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.2
updated 1 package and audited 1096 packages in 6.373s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:39.479Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:39.480Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:39.480Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:39.482Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:39.547Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:39.726Z appoptics:patching patched crypto 
2021-11-23T06:36:39.746Z appoptics:patching patched https 
2021-11-23T06:36:39.746Z appoptics:patching patched http 
2021-11-23T06:36:39.832Z appoptics:patching patched pino 2.8.2
2021-11-23T06:36:39.839Z appoptics:debug starting runtimeMetrics


  pino v2.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.8.3
updated 1 package and audited 1096 packages in 7.025s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:48.473Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:48.475Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:48.475Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:48.477Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:48.592Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:48.776Z appoptics:patching patched crypto 
2021-11-23T06:36:48.797Z appoptics:patching patched https 
2021-11-23T06:36:48.797Z appoptics:patching patched http 
2021-11-23T06:36:48.852Z appoptics:patching patched pino 2.8.3
2021-11-23T06:36:48.856Z appoptics:debug starting runtimeMetrics


  pino v2.8.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.9.0
updated 1 package and audited 1096 packages in 5.514s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:55.694Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:55.695Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:55.695Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:55.696Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:55.762Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:55.926Z appoptics:patching patched crypto 
2021-11-23T06:36:55.947Z appoptics:patching patched https 
2021-11-23T06:36:55.947Z appoptics:patching patched http 
2021-11-23T06:36:55.999Z appoptics:patching patched pino 2.9.0
2021-11-23T06:36:56.003Z appoptics:debug starting runtimeMetrics


  pino v2.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.10.0
updated 1 package and audited 1096 packages in 7.144s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:04.445Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:04.445Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:04.445Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:04.447Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:04.512Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:04.688Z appoptics:patching patched crypto 
2021-11-23T06:37:04.708Z appoptics:patching patched https 
2021-11-23T06:37:04.708Z appoptics:patching patched http 
2021-11-23T06:37:04.758Z appoptics:patching patched pino 2.10.0
2021-11-23T06:37:04.762Z appoptics:debug starting runtimeMetrics


  pino v2.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.10.1
updated 1 package and audited 1096 packages in 7.246s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:13.570Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:13.571Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:13.571Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:13.571Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:13.635Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:13.801Z appoptics:patching patched crypto 
2021-11-23T06:37:13.821Z appoptics:patching patched https 
2021-11-23T06:37:13.821Z appoptics:patching patched http 
2021-11-23T06:37:13.867Z appoptics:patching patched pino 2.10.1
2021-11-23T06:37:13.872Z appoptics:debug starting runtimeMetrics


  pino v2.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.11.0
updated 1 package and audited 1096 packages in 6.557s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:21.747Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:21.748Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:21.748Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:21.750Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:21.818Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:22.024Z appoptics:patching patched crypto 
2021-11-23T06:37:22.045Z appoptics:patching patched https 
2021-11-23T06:37:22.046Z appoptics:patching patched http 
2021-11-23T06:37:22.127Z appoptics:patching patched pino 2.11.0
2021-11-23T06:37:22.132Z appoptics:debug starting runtimeMetrics


  pino v2.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.0
updated 1 package and audited 1096 packages in 5.866s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:29.494Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:29.495Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:29.495Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:29.496Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:29.595Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:29.796Z appoptics:patching patched crypto 
2021-11-23T06:37:29.818Z appoptics:patching patched https 
2021-11-23T06:37:29.818Z appoptics:patching patched http 
2021-11-23T06:37:29.868Z appoptics:patching patched pino 2.12.0
2021-11-23T06:37:29.873Z appoptics:debug starting runtimeMetrics


  pino v2.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.1
updated 1 package and audited 1096 packages in 6.439s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:37.819Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:37.820Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:37.820Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:37.822Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:37.927Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:38.116Z appoptics:patching patched crypto 
2021-11-23T06:37:38.136Z appoptics:patching patched https 
2021-11-23T06:37:38.136Z appoptics:patching patched http 
2021-11-23T06:37:38.186Z appoptics:patching patched pino 2.12.1
2021-11-23T06:37:38.190Z appoptics:debug starting runtimeMetrics


  pino v2.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.2
updated 1 package and audited 1096 packages in 5.645s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:45.140Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:45.141Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:45.141Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:45.142Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:45.205Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:45.373Z appoptics:patching patched crypto 
2021-11-23T06:37:45.393Z appoptics:patching patched https 
2021-11-23T06:37:45.394Z appoptics:patching patched http 
2021-11-23T06:37:45.444Z appoptics:patching patched pino 2.12.2
2021-11-23T06:37:45.448Z appoptics:debug starting runtimeMetrics


  pino v2.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.3
updated 1 package and audited 1096 packages in 6.704s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:53.498Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:53.499Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:53.499Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:53.499Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:53.562Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:53.733Z appoptics:patching patched crypto 
2021-11-23T06:37:53.753Z appoptics:patching patched https 
2021-11-23T06:37:53.754Z appoptics:patching patched http 
2021-11-23T06:37:53.802Z appoptics:patching patched pino 2.12.3
2021-11-23T06:37:53.808Z appoptics:debug starting runtimeMetrics


  pino v2.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.12.4
updated 1 package and audited 1096 packages in 6.079s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:01.411Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:01.412Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:01.412Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:01.412Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:01.501Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:01.785Z appoptics:patching patched crypto 
2021-11-23T06:38:01.834Z appoptics:patching patched https 
2021-11-23T06:38:01.834Z appoptics:patching patched http 
2021-11-23T06:38:01.880Z appoptics:patching patched pino 2.12.4
2021-11-23T06:38:01.888Z appoptics:debug starting runtimeMetrics


  pino v2.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (209ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.13.0
updated 1 package and audited 1096 packages in 6.314s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:09.770Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:09.771Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:09.771Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:09.773Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:09.849Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:10.028Z appoptics:patching patched crypto 
2021-11-23T06:38:10.051Z appoptics:patching patched https 
2021-11-23T06:38:10.051Z appoptics:patching patched http 
2021-11-23T06:38:10.108Z appoptics:patching patched pino 2.13.0
2021-11-23T06:38:10.113Z appoptics:debug starting runtimeMetrics


  pino v2.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (180ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.13.2
updated 1 package and audited 1096 packages in 6.31s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:17.818Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:17.819Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:17.819Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:17.819Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:17.885Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:18.050Z appoptics:patching patched crypto 
2021-11-23T06:38:18.082Z appoptics:patching patched https 
2021-11-23T06:38:18.082Z appoptics:patching patched http 
2021-11-23T06:38:18.125Z appoptics:patching patched pino 2.13.2
2021-11-23T06:38:18.129Z appoptics:debug starting runtimeMetrics


  pino v2.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.14.0
updated 1 package and audited 1096 packages in 5.461s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:24.887Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:24.888Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:24.888Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:24.889Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:24.954Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:25.138Z appoptics:patching patched crypto 
2021-11-23T06:38:25.161Z appoptics:patching patched https 
2021-11-23T06:38:25.161Z appoptics:patching patched http 
2021-11-23T06:38:25.233Z appoptics:patching patched pino 2.14.0
2021-11-23T06:38:25.237Z appoptics:debug starting runtimeMetrics


  pino v2.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.15.0
updated 1 package and audited 1096 packages in 6.115s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:32.759Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:32.760Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:32.760Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:32.762Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:32.828Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:32.998Z appoptics:patching patched crypto 
2021-11-23T06:38:33.017Z appoptics:patching patched https 
2021-11-23T06:38:33.017Z appoptics:patching patched http 
2021-11-23T06:38:33.064Z appoptics:patching patched pino 2.15.0
2021-11-23T06:38:33.068Z appoptics:debug starting runtimeMetrics


  pino v2.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@2.16.0
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 1096 packages in 5.863s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:40.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:40.410Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:40.410Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:40.410Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:40.485Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:40.674Z appoptics:patching patched crypto 
2021-11-23T06:38:40.715Z appoptics:patching patched https 
2021-11-23T06:38:40.715Z appoptics:patching patched http 
2021-11-23T06:38:40.740Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:40.741Z appoptics:patching patched fs 
2021-11-23T06:38:40.769Z appoptics:patching patched pino 2.16.0
2021-11-23T06:38:40.774Z appoptics:debug starting runtimeMetrics


  pino v2.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.0
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 1096 packages in 6.066s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:48.301Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:48.302Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:48.302Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:48.304Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:48.367Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:48.556Z appoptics:patching patched crypto 
2021-11-23T06:38:48.576Z appoptics:patching patched https 
2021-11-23T06:38:48.576Z appoptics:patching patched http 
2021-11-23T06:38:48.603Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:48.604Z appoptics:patching patched fs 
2021-11-23T06:38:48.620Z appoptics:patching patched pino 3.0.0
2021-11-23T06:38:48.625Z appoptics:debug starting runtimeMetrics


  pino v3.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.1
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 1096 packages in 6.732s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:56.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:56.624Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:56.624Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:56.625Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:56.690Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:56.863Z appoptics:patching patched crypto 
2021-11-23T06:38:56.884Z appoptics:patching patched https 
2021-11-23T06:38:56.884Z appoptics:patching patched http 
2021-11-23T06:38:56.909Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:56.910Z appoptics:patching patched fs 
2021-11-23T06:38:56.926Z appoptics:patching patched pino 3.0.1
2021-11-23T06:38:56.931Z appoptics:debug starting runtimeMetrics


  pino v3.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.2
updated 1 package and audited 1096 packages in 7.379s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:05.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:05.638Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:05.638Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:05.640Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:05.709Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:05.881Z appoptics:patching patched crypto 
2021-11-23T06:39:05.901Z appoptics:patching patched https 
2021-11-23T06:39:05.901Z appoptics:patching patched http 
2021-11-23T06:39:05.931Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:05.931Z appoptics:patching patched fs 
2021-11-23T06:39:05.947Z appoptics:patching patched pino 3.0.2
2021-11-23T06:39:05.951Z appoptics:debug starting runtimeMetrics


  pino v3.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.3
updated 1 package and audited 1096 packages in 6.684s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:13.940Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:13.940Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:13.941Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:13.941Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:14.016Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:14.199Z appoptics:patching patched crypto 
2021-11-23T06:39:14.219Z appoptics:patching patched https 
2021-11-23T06:39:14.219Z appoptics:patching patched http 
2021-11-23T06:39:14.245Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:14.245Z appoptics:patching patched fs 
2021-11-23T06:39:14.261Z appoptics:patching patched pino 3.0.3
2021-11-23T06:39:14.264Z appoptics:debug starting runtimeMetrics


  pino v3.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.4
updated 1 package and audited 1096 packages in 6.557s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:22.064Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:22.064Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:22.064Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:22.066Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:22.132Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:22.310Z appoptics:patching patched crypto 
2021-11-23T06:39:22.358Z appoptics:patching patched https 
2021-11-23T06:39:22.359Z appoptics:patching patched http 
2021-11-23T06:39:22.382Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:22.382Z appoptics:patching patched fs 
2021-11-23T06:39:22.397Z appoptics:patching patched pino 3.0.4
2021-11-23T06:39:22.401Z appoptics:debug starting runtimeMetrics


  pino v3.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.5
updated 1 package and audited 1096 packages in 6.437s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:30.147Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:30.148Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:30.148Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:30.152Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:30.226Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:30.465Z appoptics:patching patched crypto 
2021-11-23T06:39:30.497Z appoptics:patching patched https 
2021-11-23T06:39:30.497Z appoptics:patching patched http 
2021-11-23T06:39:30.520Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:30.520Z appoptics:patching patched fs 
2021-11-23T06:39:30.535Z appoptics:patching patched pino 3.0.5
2021-11-23T06:39:30.539Z appoptics:debug starting runtimeMetrics


  pino v3.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.6
updated 1 package and audited 1096 packages in 5.974s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:37.822Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:37.823Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:37.823Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:37.823Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:37.896Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:38.065Z appoptics:patching patched crypto 
2021-11-23T06:39:38.085Z appoptics:patching patched https 
2021-11-23T06:39:38.085Z appoptics:patching patched http 
2021-11-23T06:39:38.110Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:38.110Z appoptics:patching patched fs 
2021-11-23T06:39:38.126Z appoptics:patching patched pino 3.0.6
2021-11-23T06:39:38.130Z appoptics:debug starting runtimeMetrics


  pino v3.0.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.0.7
updated 1 package and audited 1096 packages in 6.583s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:46.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:46.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:46.013Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:46.015Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:46.092Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:46.271Z appoptics:patching patched crypto 
2021-11-23T06:39:46.289Z appoptics:patching patched https 
2021-11-23T06:39:46.289Z appoptics:patching patched http 
2021-11-23T06:39:46.315Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:46.315Z appoptics:patching patched fs 
2021-11-23T06:39:46.331Z appoptics:patching patched pino 3.0.7
2021-11-23T06:39:46.335Z appoptics:debug starting runtimeMetrics


  pino v3.0.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (169ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.0
updated 1 package and audited 1096 packages in 6.413s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:54.212Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:54.213Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:54.213Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:54.215Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:54.288Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:54.464Z appoptics:patching patched crypto 
2021-11-23T06:39:54.490Z appoptics:patching patched https 
2021-11-23T06:39:54.491Z appoptics:patching patched http 
2021-11-23T06:39:54.518Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:54.518Z appoptics:patching patched fs 
2021-11-23T06:39:54.535Z appoptics:patching patched pino 3.1.0
2021-11-23T06:39:54.539Z appoptics:debug starting runtimeMetrics


  pino v3.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.1
updated 1 package and audited 1096 packages in 6.469s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:02.385Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:02.386Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:02.386Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:02.387Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:02.456Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:02.637Z appoptics:patching patched crypto 
2021-11-23T06:40:02.657Z appoptics:patching patched https 
2021-11-23T06:40:02.658Z appoptics:patching patched http 
2021-11-23T06:40:02.685Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:02.685Z appoptics:patching patched fs 
2021-11-23T06:40:02.702Z appoptics:patching patched pino 3.1.1
2021-11-23T06:40:02.707Z appoptics:debug starting runtimeMetrics


  pino v3.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.2
updated 1 package and audited 1096 packages in 6.672s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:10.682Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:10.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:10.683Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:10.685Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:10.749Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:10.980Z appoptics:patching patched crypto 
2021-11-23T06:40:11.018Z appoptics:patching patched https 
2021-11-23T06:40:11.018Z appoptics:patching patched http 
2021-11-23T06:40:11.044Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:11.045Z appoptics:patching patched fs 
2021-11-23T06:40:11.063Z appoptics:patching patched pino 3.1.2
2021-11-23T06:40:11.068Z appoptics:debug starting runtimeMetrics


  pino v3.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.1.3
updated 1 package and audited 1096 packages in 6.982s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:19.356Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:19.356Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:19.356Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:19.358Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:19.423Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:19.588Z appoptics:patching patched crypto 
2021-11-23T06:40:19.608Z appoptics:patching patched https 
2021-11-23T06:40:19.608Z appoptics:patching patched http 
2021-11-23T06:40:19.636Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:19.636Z appoptics:patching patched fs 
2021-11-23T06:40:19.652Z appoptics:patching patched pino 3.1.3
2021-11-23T06:40:19.656Z appoptics:debug starting runtimeMetrics


  pino v3.1.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.2.0
updated 1 package and audited 1096 packages in 6.067s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:27.021Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:27.022Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:27.022Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:27.022Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:27.093Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:27.274Z appoptics:patching patched crypto 
2021-11-23T06:40:27.295Z appoptics:patching patched https 
2021-11-23T06:40:27.295Z appoptics:patching patched http 
2021-11-23T06:40:27.321Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:27.321Z appoptics:patching patched fs 
2021-11-23T06:40:27.336Z appoptics:patching patched pino 3.2.0
2021-11-23T06:40:27.340Z appoptics:debug starting runtimeMetrics


  pino v3.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.0
updated 1 package and audited 1096 packages in 6.94s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:35.553Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:35.554Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:35.554Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:35.556Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:35.622Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:35.812Z appoptics:patching patched crypto 
2021-11-23T06:40:35.841Z appoptics:patching patched https 
2021-11-23T06:40:35.841Z appoptics:patching patched http 
2021-11-23T06:40:35.866Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:35.866Z appoptics:patching patched fs 

Error: Cannot find module './lib/events'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/one-and-dones.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/options.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/bin/mocha
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:902:15)
    at Function.Module._load (internal/modules/cjs/loader.js:746:27)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:93:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/pino.js:7:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:93:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/pino.test.js:11:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at require (internal/modules/cjs/helpers.js:93:18)
    at Object.exports.requireOrImport (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:42:12)
    at Object.exports.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js:55:34)
    at Mocha.loadFilesAsync (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js:473:19)
    at singleRun (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:125:15)
    at exports.runMocha (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/run-helpers.js:190:10)
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.1
updated 1 package and audited 1096 packages in 6.445s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:43.592Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:43.593Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:43.593Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:43.595Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:43.660Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:43.826Z appoptics:patching patched crypto 
2021-11-23T06:40:43.847Z appoptics:patching patched https 
2021-11-23T06:40:43.847Z appoptics:patching patched http 
2021-11-23T06:40:43.871Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:43.872Z appoptics:patching patched fs 
2021-11-23T06:40:43.891Z appoptics:patching patched pino 3.3.1
2021-11-23T06:40:43.895Z appoptics:debug starting runtimeMetrics


  pino v3.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.3.2
updated 1 package and audited 1096 packages in 5.939s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:51.225Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:51.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:51.226Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:51.227Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:51.314Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:51.641Z appoptics:patching patched crypto 
2021-11-23T06:40:51.687Z appoptics:patching patched https 
2021-11-23T06:40:51.688Z appoptics:patching patched http 
2021-11-23T06:40:51.706Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:51.706Z appoptics:patching patched fs 
2021-11-23T06:40:51.730Z appoptics:patching patched pino 3.3.2
2021-11-23T06:40:51.734Z appoptics:debug starting runtimeMetrics


  pino v3.3.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@3.4.0
added 2 packages from 2 contributors, updated 1 package and audited 1098 packages in 6.24s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:59.232Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:59.233Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:59.233Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:59.233Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:59.292Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:59.456Z appoptics:patching patched crypto 
2021-11-23T06:40:59.475Z appoptics:patching patched https 
2021-11-23T06:40:59.475Z appoptics:patching patched http 
2021-11-23T06:40:59.500Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:59.500Z appoptics:patching patched fs 
2021-11-23T06:40:59.520Z appoptics:patching patched pino 3.4.0
2021-11-23T06:40:59.524Z appoptics:debug starting runtimeMetrics


  pino v3.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.0
updated 1 package and audited 1098 packages in 5.483s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:06.434Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:06.435Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:06.435Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:06.435Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:06.518Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:06.714Z appoptics:patching patched crypto 
2021-11-23T06:41:06.742Z appoptics:patching patched https 
2021-11-23T06:41:06.743Z appoptics:patching patched http 
2021-11-23T06:41:06.784Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:06.784Z appoptics:patching patched fs 
2021-11-23T06:41:06.808Z appoptics:patching patched pino 4.0.0
2021-11-23T06:41:06.813Z appoptics:debug starting runtimeMetrics


  pino v4.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.1
updated 1 package and audited 1098 packages in 6.265s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:14.468Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:14.469Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:14.469Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:14.471Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:14.541Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:14.714Z appoptics:patching patched crypto 
2021-11-23T06:41:14.733Z appoptics:patching patched https 
2021-11-23T06:41:14.733Z appoptics:patching patched http 
2021-11-23T06:41:14.757Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:14.758Z appoptics:patching patched fs 
2021-11-23T06:41:14.781Z appoptics:patching patched pino 4.0.1
2021-11-23T06:41:14.786Z appoptics:debug starting runtimeMetrics


  pino v4.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.2
updated 1 package and audited 1098 packages in 7.636s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:23.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:23.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:23.830Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:23.831Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:23.941Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:24.180Z appoptics:patching patched crypto 
2021-11-23T06:41:24.218Z appoptics:patching patched https 
2021-11-23T06:41:24.218Z appoptics:patching patched http 
2021-11-23T06:41:24.245Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:24.246Z appoptics:patching patched fs 
2021-11-23T06:41:24.268Z appoptics:patching patched pino 4.0.2
2021-11-23T06:41:24.272Z appoptics:debug starting runtimeMetrics


  pino v4.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.0.3
updated 1 package and audited 1098 packages in 5.925s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:31.628Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:31.629Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:31.629Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:31.632Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:31.717Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:31.947Z appoptics:patching patched crypto 
2021-11-23T06:41:32.111Z appoptics:patching patched https 
2021-11-23T06:41:32.111Z appoptics:patching patched http 
2021-11-23T06:41:32.151Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:32.151Z appoptics:patching patched fs 
2021-11-23T06:41:32.181Z appoptics:patching patched pino 4.0.3
2021-11-23T06:41:32.185Z appoptics:debug starting runtimeMetrics


  pino v4.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (193ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

npm ERR! code ENOENT
npm ERR! syscall chmod
npm ERR! path /__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js
npm ERR! errno -2
npm ERR! enoent ENOENT: no such file or directory, chmod '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/pino/bin.js'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent 

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-11-23T06_41_38_869Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.1.1
added 8 packages from 5 contributors and audited 1098 packages in 6.684s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:46.749Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:46.750Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:46.750Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:46.753Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:46.843Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:47.033Z appoptics:patching patched crypto 
2021-11-23T06:41:47.055Z appoptics:patching patched https 
2021-11-23T06:41:47.055Z appoptics:patching patched http 
2021-11-23T06:41:47.082Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:47.082Z appoptics:patching patched fs 
2021-11-23T06:41:47.103Z appoptics:patching patched pino 4.1.1
2021-11-23T06:41:47.107Z appoptics:debug starting runtimeMetrics


  pino v4.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.1.2
updated 1 package and audited 1098 packages in 5.864s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:41:54.314Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:54.314Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:54.315Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:54.315Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:54.383Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:54.606Z appoptics:patching patched crypto 
2021-11-23T06:41:54.629Z appoptics:patching patched https 
2021-11-23T06:41:54.629Z appoptics:patching patched http 
2021-11-23T06:41:54.659Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:54.660Z appoptics:patching patched fs 
2021-11-23T06:41:54.681Z appoptics:patching patched pino 4.1.2
2021-11-23T06:41:54.685Z appoptics:debug starting runtimeMetrics


  pino v4.1.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.0
updated 1 package and audited 1098 packages in 6.515s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:02.517Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:02.518Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:02.518Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:02.519Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:02.584Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:02.766Z appoptics:patching patched crypto 
2021-11-23T06:42:02.787Z appoptics:patching patched https 
2021-11-23T06:42:02.787Z appoptics:patching patched http 
2021-11-23T06:42:02.813Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:02.813Z appoptics:patching patched fs 
2021-11-23T06:42:02.835Z appoptics:patching patched pino 4.2.0
2021-11-23T06:42:02.840Z appoptics:debug starting runtimeMetrics


  pino v4.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (183ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.1
updated 1 package and audited 1098 packages in 7.634s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:11.832Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:11.833Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:11.833Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:11.837Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:11.903Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:12.195Z appoptics:patching patched crypto 
2021-11-23T06:42:12.215Z appoptics:patching patched https 
2021-11-23T06:42:12.215Z appoptics:patching patched http 
2021-11-23T06:42:12.242Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:12.242Z appoptics:patching patched fs 
2021-11-23T06:42:12.262Z appoptics:patching patched pino 4.2.1
2021-11-23T06:42:12.266Z appoptics:debug starting runtimeMetrics


  pino v4.2.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.2
updated 1 package and audited 1098 packages in 5.795s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:19.413Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:19.413Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:19.413Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:19.414Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:19.478Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:19.645Z appoptics:patching patched crypto 
2021-11-23T06:42:19.665Z appoptics:patching patched https 
2021-11-23T06:42:19.666Z appoptics:patching patched http 
2021-11-23T06:42:19.691Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:19.691Z appoptics:patching patched fs 
2021-11-23T06:42:19.712Z appoptics:patching patched pino 4.2.2
2021-11-23T06:42:19.716Z appoptics:debug starting runtimeMetrics


  pino v4.2.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.3
updated 1 package and audited 1098 packages in 6.19s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:27.272Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:27.273Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:27.273Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:27.275Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:27.365Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:27.554Z appoptics:patching patched crypto 
2021-11-23T06:42:27.574Z appoptics:patching patched https 
2021-11-23T06:42:27.575Z appoptics:patching patched http 
2021-11-23T06:42:27.600Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:27.600Z appoptics:patching patched fs 
2021-11-23T06:42:27.619Z appoptics:patching patched pino 4.2.3
2021-11-23T06:42:27.622Z appoptics:debug starting runtimeMetrics


  pino v4.2.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.2.4
updated 1 package and audited 1098 packages in 6.502s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:35.486Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:35.486Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:35.486Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:35.488Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:35.554Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:35.722Z appoptics:patching patched crypto 
2021-11-23T06:42:35.743Z appoptics:patching patched https 
2021-11-23T06:42:35.744Z appoptics:patching patched http 
2021-11-23T06:42:35.774Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:35.774Z appoptics:patching patched fs 
2021-11-23T06:42:35.793Z appoptics:patching patched pino 4.2.4
2021-11-23T06:42:35.797Z appoptics:debug starting runtimeMetrics


  pino v4.2.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.3.0
updated 1 package and audited 1098 packages in 6.158s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:43.295Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:43.295Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:43.295Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:43.297Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:43.362Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:43.528Z appoptics:patching patched crypto 
2021-11-23T06:42:43.548Z appoptics:patching patched https 
2021-11-23T06:42:43.549Z appoptics:patching patched http 
2021-11-23T06:42:43.575Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:43.576Z appoptics:patching patched fs 
2021-11-23T06:42:43.594Z appoptics:patching patched pino 4.3.0
2021-11-23T06:42:43.598Z appoptics:debug starting runtimeMetrics


  pino v4.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.4.0
updated 1 package and audited 1098 packages in 6.63s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:51.642Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:51.642Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:51.642Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:51.643Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:51.715Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:51.884Z appoptics:patching patched crypto 
2021-11-23T06:42:51.904Z appoptics:patching patched https 
2021-11-23T06:42:51.904Z appoptics:patching patched http 
2021-11-23T06:42:51.929Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:51.930Z appoptics:patching patched fs 
2021-11-23T06:42:51.949Z appoptics:patching patched pino 4.4.0
2021-11-23T06:42:51.952Z appoptics:debug starting runtimeMetrics


  pino v4.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.0
updated 1 package and audited 1098 packages in 6.793s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:42:59.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:59.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:59.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:59.996Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:00.062Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:00.247Z appoptics:patching patched crypto 
2021-11-23T06:43:00.267Z appoptics:patching patched https 
2021-11-23T06:43:00.268Z appoptics:patching patched http 
2021-11-23T06:43:00.294Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:00.294Z appoptics:patching patched fs 
2021-11-23T06:43:00.314Z appoptics:patching patched pino 4.5.0
2021-11-23T06:43:00.319Z appoptics:debug starting runtimeMetrics


  pino v4.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.1
updated 1 package and audited 1098 packages in 6.152s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:07.866Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:07.867Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:07.867Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:07.869Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:07.943Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:08.160Z appoptics:patching patched crypto 
2021-11-23T06:43:08.179Z appoptics:patching patched https 
2021-11-23T06:43:08.179Z appoptics:patching patched http 
2021-11-23T06:43:08.205Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:08.206Z appoptics:patching patched fs 
2021-11-23T06:43:08.227Z appoptics:patching patched pino 4.5.1
2021-11-23T06:43:08.231Z appoptics:debug starting runtimeMetrics


  pino v4.5.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.2
updated 1 package and audited 1098 packages in 6.574s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:16.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:16.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:16.131Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:16.133Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:16.214Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:16.411Z appoptics:patching patched crypto 
2021-11-23T06:43:16.431Z appoptics:patching patched https 
2021-11-23T06:43:16.431Z appoptics:patching patched http 
2021-11-23T06:43:16.461Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:16.461Z appoptics:patching patched fs 
2021-11-23T06:43:16.483Z appoptics:patching patched pino 4.5.2
2021-11-23T06:43:16.488Z appoptics:debug starting runtimeMetrics


  pino v4.5.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.3
updated 1 package and audited 1098 packages in 6.192s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:24.288Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:24.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:24.289Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:24.289Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:24.373Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:24.588Z appoptics:patching patched crypto 
2021-11-23T06:43:24.611Z appoptics:patching patched https 
2021-11-23T06:43:24.612Z appoptics:patching patched http 
2021-11-23T06:43:24.640Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:24.640Z appoptics:patching patched fs 
2021-11-23T06:43:24.662Z appoptics:patching patched pino 4.5.3
2021-11-23T06:43:24.666Z appoptics:debug starting runtimeMetrics


  pino v4.5.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.5.4
updated 1 package and audited 1098 packages in 5.82s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:31.827Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:31.828Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:31.828Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:31.829Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:31.900Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:32.077Z appoptics:patching patched crypto 
2021-11-23T06:43:32.099Z appoptics:patching patched https 
2021-11-23T06:43:32.100Z appoptics:patching patched http 
2021-11-23T06:43:32.131Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:32.132Z appoptics:patching patched fs 
2021-11-23T06:43:32.154Z appoptics:patching patched pino 4.5.4
2021-11-23T06:43:32.159Z appoptics:debug starting runtimeMetrics


  pino v4.5.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (222ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.6.0
updated 1 package and audited 1098 packages in 7.593s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:41.103Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:41.104Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:41.104Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:41.107Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:41.204Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:41.387Z appoptics:patching patched crypto 
2021-11-23T06:43:41.411Z appoptics:patching patched https 
2021-11-23T06:43:41.412Z appoptics:patching patched http 
2021-11-23T06:43:41.441Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:41.441Z appoptics:patching patched fs 
2021-11-23T06:43:41.464Z appoptics:patching patched pino 4.6.0
2021-11-23T06:43:41.469Z appoptics:debug starting runtimeMetrics


  pino v4.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.0
removed 6 packages, updated 2 packages and audited 1092 packages in 5.704s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:48.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:48.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:48.883Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:48.884Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:48.949Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:49.114Z appoptics:patching patched crypto 
2021-11-23T06:43:49.135Z appoptics:patching patched https 
2021-11-23T06:43:49.135Z appoptics:patching patched http 
2021-11-23T06:43:49.160Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:49.161Z appoptics:patching patched fs 
2021-11-23T06:43:49.183Z appoptics:patching patched pino 4.7.0
2021-11-23T06:43:49.186Z appoptics:debug starting runtimeMetrics


  pino v4.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.1
updated 1 package and audited 1092 packages in 5.284s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:43:55.788Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:55.789Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:55.789Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:55.792Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:55.865Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:56.078Z appoptics:patching patched crypto 
2021-11-23T06:43:56.118Z appoptics:patching patched https 
2021-11-23T06:43:56.118Z appoptics:patching patched http 
2021-11-23T06:43:56.146Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:56.147Z appoptics:patching patched fs 
2021-11-23T06:43:56.173Z appoptics:patching patched pino 4.7.1
2021-11-23T06:43:56.177Z appoptics:debug starting runtimeMetrics


  pino v4.7.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (192ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.2
updated 1 package and audited 1092 packages in 6.221s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:03.751Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:03.752Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:03.752Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:03.753Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:03.818Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:04.032Z appoptics:patching patched crypto 
2021-11-23T06:44:04.051Z appoptics:patching patched https 
2021-11-23T06:44:04.051Z appoptics:patching patched http 
2021-11-23T06:44:04.078Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:04.078Z appoptics:patching patched fs 
2021-11-23T06:44:04.100Z appoptics:patching patched pino 4.7.2
2021-11-23T06:44:04.104Z appoptics:debug starting runtimeMetrics


  pino v4.7.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.7.3
updated 1 package and audited 1092 packages in 5.969s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:11.361Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:11.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:11.362Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:11.362Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:11.440Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:11.627Z appoptics:patching patched crypto 
2021-11-23T06:44:11.657Z appoptics:patching patched https 
2021-11-23T06:44:11.658Z appoptics:patching patched http 
2021-11-23T06:44:11.685Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:11.686Z appoptics:patching patched fs 
2021-11-23T06:44:11.712Z appoptics:patching patched pino 4.7.3
2021-11-23T06:44:11.715Z appoptics:debug starting runtimeMetrics


  pino v4.7.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.0
updated 1 package and audited 1092 packages in 6.122s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:19.461Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:19.461Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:19.461Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:19.462Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:19.538Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:19.709Z appoptics:patching patched crypto 
2021-11-23T06:44:19.730Z appoptics:patching patched https 
2021-11-23T06:44:19.730Z appoptics:patching patched http 
2021-11-23T06:44:19.760Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:19.761Z appoptics:patching patched fs 
2021-11-23T06:44:19.783Z appoptics:patching patched pino 4.8.0
2021-11-23T06:44:19.787Z appoptics:debug starting runtimeMetrics


  pino v4.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.1
updated 1 package and audited 1092 packages in 6.335s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:27.416Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:27.416Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:27.416Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:27.418Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:27.485Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:27.657Z appoptics:patching patched crypto 
2021-11-23T06:44:27.677Z appoptics:patching patched https 
2021-11-23T06:44:27.678Z appoptics:patching patched http 
2021-11-23T06:44:27.702Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:27.702Z appoptics:patching patched fs 
2021-11-23T06:44:27.724Z appoptics:patching patched pino 4.8.1
2021-11-23T06:44:27.728Z appoptics:debug starting runtimeMetrics


  pino v4.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.8.2
updated 1 package and audited 1092 packages in 5.767s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:34.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:34.865Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:34.866Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:34.867Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:34.928Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:35.090Z appoptics:patching patched crypto 
2021-11-23T06:44:35.109Z appoptics:patching patched https 
2021-11-23T06:44:35.110Z appoptics:patching patched http 
2021-11-23T06:44:35.135Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:35.135Z appoptics:patching patched fs 
2021-11-23T06:44:35.158Z appoptics:patching patched pino 4.8.2
2021-11-23T06:44:35.164Z appoptics:debug starting runtimeMetrics


  pino v4.8.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.9.0
updated 1 package and audited 1092 packages in 6.815s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:43.249Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:43.250Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:43.250Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:43.250Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:43.320Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:43.495Z appoptics:patching patched crypto 
2021-11-23T06:44:43.514Z appoptics:patching patched https 
2021-11-23T06:44:43.515Z appoptics:patching patched http 
2021-11-23T06:44:43.538Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:43.539Z appoptics:patching patched fs 
2021-11-23T06:44:43.561Z appoptics:patching patched pino 4.9.0
2021-11-23T06:44:43.565Z appoptics:debug starting runtimeMetrics


  pino v4.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.0
updated 1 package and audited 1092 packages in 6.514s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:51.496Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:51.497Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:51.497Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:51.497Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:51.579Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:51.774Z appoptics:patching patched crypto 
2021-11-23T06:44:51.817Z appoptics:patching patched https 
2021-11-23T06:44:51.817Z appoptics:patching patched http 
2021-11-23T06:44:51.846Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:51.846Z appoptics:patching patched fs 
2021-11-23T06:44:51.873Z appoptics:patching patched pino 4.10.0
2021-11-23T06:44:51.878Z appoptics:debug starting runtimeMetrics


  pino v4.10.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.1
updated 1 package and audited 1092 packages in 5.892s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:44:59.083Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:59.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:59.084Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:59.086Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:59.159Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:59.346Z appoptics:patching patched crypto 
2021-11-23T06:44:59.368Z appoptics:patching patched https 
2021-11-23T06:44:59.368Z appoptics:patching patched http 
2021-11-23T06:44:59.397Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:59.397Z appoptics:patching patched fs 
2021-11-23T06:44:59.420Z appoptics:patching patched pino 4.10.1
2021-11-23T06:44:59.425Z appoptics:debug starting runtimeMetrics


  pino v4.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.2
updated 1 package and audited 1092 packages in 6.629s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:07.352Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:07.353Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:07.353Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:07.354Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:07.430Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:07.620Z appoptics:patching patched crypto 
2021-11-23T06:45:07.642Z appoptics:patching patched https 
2021-11-23T06:45:07.643Z appoptics:patching patched http 
2021-11-23T06:45:07.674Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:07.675Z appoptics:patching patched fs 
2021-11-23T06:45:07.702Z appoptics:patching patched pino 4.10.2
2021-11-23T06:45:07.707Z appoptics:debug starting runtimeMetrics


  pino v4.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.3
updated 2 packages and audited 1092 packages in 6.912s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:16.149Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:16.150Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:16.150Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:16.153Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:16.231Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:16.420Z appoptics:patching patched crypto 
2021-11-23T06:45:16.456Z appoptics:patching patched https 
2021-11-23T06:45:16.456Z appoptics:patching patched http 
2021-11-23T06:45:16.484Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:16.484Z appoptics:patching patched fs 
2021-11-23T06:45:16.514Z appoptics:patching patched pino 4.10.3
2021-11-23T06:45:16.518Z appoptics:debug starting runtimeMetrics


  pino v4.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.10.4
updated 1 package and audited 1092 packages in 5.911s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:23.734Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:23.734Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:23.734Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:23.737Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:23.804Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:23.979Z appoptics:patching patched crypto 
2021-11-23T06:45:24.003Z appoptics:patching patched https 
2021-11-23T06:45:24.004Z appoptics:patching patched http 
2021-11-23T06:45:24.030Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:24.031Z appoptics:patching patched fs 
2021-11-23T06:45:24.055Z appoptics:patching patched pino 4.10.4
2021-11-23T06:45:24.060Z appoptics:debug starting runtimeMetrics


  pino v4.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.11.0
updated 1 package and audited 1092 packages in 6.23s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:31.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:31.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:31.647Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:31.649Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:31.711Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:31.872Z appoptics:patching patched crypto 
2021-11-23T06:45:31.893Z appoptics:patching patched https 
2021-11-23T06:45:31.893Z appoptics:patching patched http 
2021-11-23T06:45:31.922Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:31.923Z appoptics:patching patched fs 
2021-11-23T06:45:31.947Z appoptics:patching patched pino 4.11.0
2021-11-23T06:45:31.952Z appoptics:debug starting runtimeMetrics


  pino v4.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.12.0
added 1 package from 1 contributor, updated 1 package and audited 1093 packages in 6.236s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:39.683Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:39.684Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:39.684Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:39.686Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:39.781Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:39.996Z appoptics:patching patched crypto 
2021-11-23T06:45:40.039Z appoptics:patching patched https 
2021-11-23T06:45:40.049Z appoptics:patching patched http 
2021-11-23T06:45:40.072Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:40.072Z appoptics:patching patched fs 
2021-11-23T06:45:40.101Z appoptics:patching patched pino 4.12.0
2021-11-23T06:45:40.105Z appoptics:debug starting runtimeMetrics


  pino v4.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.13.0
updated 1 package and audited 1093 packages in 6.334s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:48.016Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:48.017Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:48.018Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:48.020Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:48.110Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:48.300Z appoptics:patching patched crypto 
2021-11-23T06:45:48.325Z appoptics:patching patched https 
2021-11-23T06:45:48.325Z appoptics:patching patched http 
2021-11-23T06:45:48.359Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:48.359Z appoptics:patching patched fs 
2021-11-23T06:45:48.386Z appoptics:patching patched pino 4.13.0
2021-11-23T06:45:48.390Z appoptics:debug starting runtimeMetrics


  pino v4.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.14.0
updated 2 packages and audited 1093 packages in 6.621s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:45:56.289Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:56.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:56.291Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:56.291Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:56.369Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:56.559Z appoptics:patching patched crypto 
2021-11-23T06:45:56.579Z appoptics:patching patched https 
2021-11-23T06:45:56.580Z appoptics:patching patched http 
2021-11-23T06:45:56.607Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:56.607Z appoptics:patching patched fs 
2021-11-23T06:45:56.629Z appoptics:patching patched pino 4.14.0
2021-11-23T06:45:56.633Z appoptics:debug starting runtimeMetrics


  pino v4.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.0
updated 1 package and audited 1093 packages in 5.95s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:04.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:04.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:04.013Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:04.014Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:04.095Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:04.290Z appoptics:patching patched crypto 
2021-11-23T06:46:04.336Z appoptics:patching patched https 
2021-11-23T06:46:04.337Z appoptics:patching patched http 
2021-11-23T06:46:04.359Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:04.360Z appoptics:patching patched fs 
2021-11-23T06:46:04.391Z appoptics:patching patched pino 4.15.0
2021-11-23T06:46:04.395Z appoptics:debug starting runtimeMetrics


  pino v4.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (182ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.1
updated 1 package and audited 1093 packages in 6.353s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:12.211Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:12.212Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:12.212Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:12.213Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:12.275Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:12.482Z appoptics:patching patched crypto 
2021-11-23T06:46:12.501Z appoptics:patching patched https 
2021-11-23T06:46:12.502Z appoptics:patching patched http 
2021-11-23T06:46:12.531Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:12.531Z appoptics:patching patched fs 
2021-11-23T06:46:12.553Z appoptics:patching patched pino 4.15.1
2021-11-23T06:46:12.557Z appoptics:debug starting runtimeMetrics


  pino v4.15.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.2
updated 1 package and audited 1093 packages in 6.56s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:20.468Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:20.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:20.468Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:20.470Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:20.534Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:20.717Z appoptics:patching patched crypto 
2021-11-23T06:46:20.737Z appoptics:patching patched https 
2021-11-23T06:46:20.738Z appoptics:patching patched http 
2021-11-23T06:46:20.763Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:20.764Z appoptics:patching patched fs 
2021-11-23T06:46:20.787Z appoptics:patching patched pino 4.15.2
2021-11-23T06:46:20.791Z appoptics:debug starting runtimeMetrics


  pino v4.15.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.3
updated 2 packages and audited 1093 packages in 5.406s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:27.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:27.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:27.457Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:27.469Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:27.536Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:27.703Z appoptics:patching patched crypto 
2021-11-23T06:46:27.723Z appoptics:patching patched https 
2021-11-23T06:46:27.723Z appoptics:patching patched http 
2021-11-23T06:46:27.750Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:27.750Z appoptics:patching patched fs 
2021-11-23T06:46:27.781Z appoptics:patching patched pino 4.15.3
2021-11-23T06:46:27.786Z appoptics:debug starting runtimeMetrics


  pino v4.15.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.15.4
updated 1 package and audited 1093 packages in 6.674s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:35.907Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:35.907Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:35.908Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:35.910Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:36.006Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:36.181Z appoptics:patching patched crypto 
2021-11-23T06:46:36.201Z appoptics:patching patched https 
2021-11-23T06:46:36.201Z appoptics:patching patched http 
2021-11-23T06:46:36.227Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:36.227Z appoptics:patching patched fs 
2021-11-23T06:46:36.250Z appoptics:patching patched pino 4.15.4
2021-11-23T06:46:36.254Z appoptics:debug starting runtimeMetrics


  pino v4.15.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.16.0
updated 1 package and audited 1093 packages in 6.31s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:43.807Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:43.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:43.807Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:43.808Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:43.872Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:44.033Z appoptics:patching patched crypto 
2021-11-23T06:46:44.053Z appoptics:patching patched https 
2021-11-23T06:46:44.054Z appoptics:patching patched http 
2021-11-23T06:46:44.082Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:44.082Z appoptics:patching patched fs 
2021-11-23T06:46:44.106Z appoptics:patching patched pino 4.16.0
2021-11-23T06:46:44.110Z appoptics:debug starting runtimeMetrics


  pino v4.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.16.1
updated 1 package and audited 1093 packages in 5.383s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:50.770Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:50.770Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:50.770Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:50.772Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:50.835Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:51.017Z appoptics:patching patched crypto 
2021-11-23T06:46:51.039Z appoptics:patching patched https 
2021-11-23T06:46:51.039Z appoptics:patching patched http 
2021-11-23T06:46:51.076Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:51.077Z appoptics:patching patched fs 
2021-11-23T06:46:51.101Z appoptics:patching patched pino 4.16.1
2021-11-23T06:46:51.105Z appoptics:debug starting runtimeMetrics


  pino v4.16.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.0
updated 1 package and audited 1093 packages in 6.656s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:46:58.981Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:46:58.981Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:46:58.981Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:46:58.982Z appoptics:debug using context provider: ace-context
2021-11-23T06:46:59.046Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:46:59.252Z appoptics:patching patched crypto 
2021-11-23T06:46:59.272Z appoptics:patching patched https 
2021-11-23T06:46:59.272Z appoptics:patching patched http 
2021-11-23T06:46:59.298Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:46:59.298Z appoptics:patching patched fs 
2021-11-23T06:46:59.320Z appoptics:patching patched pino 4.17.0
2021-11-23T06:46:59.324Z appoptics:debug starting runtimeMetrics


  pino v4.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.1
updated 1 package and audited 1093 packages in 5.572s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:06.381Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:06.381Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:06.382Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:06.382Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:06.469Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:06.666Z appoptics:patching patched crypto 
2021-11-23T06:47:06.710Z appoptics:patching patched https 
2021-11-23T06:47:06.711Z appoptics:patching patched http 
2021-11-23T06:47:06.735Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:06.735Z appoptics:patching patched fs 
2021-11-23T06:47:06.765Z appoptics:patching patched pino 4.17.1
2021-11-23T06:47:06.768Z appoptics:debug starting runtimeMetrics


  pino v4.17.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.2
updated 1 package and audited 1093 packages in 5.947s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:14.161Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:14.162Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:14.162Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:14.164Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:14.228Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:14.397Z appoptics:patching patched crypto 
2021-11-23T06:47:14.416Z appoptics:patching patched https 
2021-11-23T06:47:14.416Z appoptics:patching patched http 
2021-11-23T06:47:14.444Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:14.444Z appoptics:patching patched fs 
2021-11-23T06:47:14.466Z appoptics:patching patched pino 4.17.2
2021-11-23T06:47:14.470Z appoptics:debug starting runtimeMetrics


  pino v4.17.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.3
updated 1 package and audited 1093 packages in 5.794s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:21.615Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:21.616Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:21.616Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:21.616Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:21.678Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:21.844Z appoptics:patching patched crypto 
2021-11-23T06:47:21.863Z appoptics:patching patched https 
2021-11-23T06:47:21.864Z appoptics:patching patched http 
2021-11-23T06:47:21.889Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:21.889Z appoptics:patching patched fs 
2021-11-23T06:47:21.912Z appoptics:patching patched pino 4.17.3
2021-11-23T06:47:21.917Z appoptics:debug starting runtimeMetrics


  pino v4.17.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.5
updated 1 package and audited 1093 packages in 5.991s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:29.215Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:29.216Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:29.216Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:29.216Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:29.282Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:29.456Z appoptics:patching patched crypto 
2021-11-23T06:47:29.476Z appoptics:patching patched https 
2021-11-23T06:47:29.477Z appoptics:patching patched http 
2021-11-23T06:47:29.502Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:29.502Z appoptics:patching patched fs 
2021-11-23T06:47:29.524Z appoptics:patching patched pino 4.17.5
2021-11-23T06:47:29.528Z appoptics:debug starting runtimeMetrics


  pino v4.17.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (186ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@4.17.6
updated 1 package and audited 1093 packages in 5.792s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:36.807Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:36.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:36.807Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:36.808Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:36.889Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:37.071Z appoptics:patching patched crypto 
2021-11-23T06:47:37.134Z appoptics:patching patched https 
2021-11-23T06:47:37.135Z appoptics:patching patched http 
2021-11-23T06:47:37.160Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:37.161Z appoptics:patching patched fs 
2021-11-23T06:47:37.194Z appoptics:patching patched pino 4.17.6
2021-11-23T06:47:37.198Z appoptics:debug starting runtimeMetrics


  pino v4.17.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.0
added 2 packages from 2 contributors, removed 8 packages, updated 3 packages and audited 1087 packages in 6.872s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:45.370Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:45.371Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:45.371Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:45.372Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:45.440Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:45.618Z appoptics:patching patched crypto 
2021-11-23T06:47:45.638Z appoptics:patching patched https 
2021-11-23T06:47:45.639Z appoptics:patching patched http 
2021-11-23T06:47:45.671Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:45.671Z appoptics:patching patched fs 
2021-11-23T06:47:45.681Z appoptics:patching patched pino 5.0.0
2021-11-23T06:47:45.686Z appoptics:debug starting runtimeMetrics


  pino v5.0.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.1
updated 2 packages and audited 1087 packages in 5.876s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:47:52.956Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:47:52.956Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:47:52.956Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:47:52.957Z appoptics:debug using context provider: ace-context
2021-11-23T06:47:53.033Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:47:53.224Z appoptics:patching patched crypto 
2021-11-23T06:47:53.246Z appoptics:patching patched https 
2021-11-23T06:47:53.247Z appoptics:patching patched http 
2021-11-23T06:47:53.279Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:47:53.280Z appoptics:patching patched fs 
2021-11-23T06:47:53.289Z appoptics:patching patched pino 5.0.1
2021-11-23T06:47:53.295Z appoptics:debug starting runtimeMetrics


  pino v5.0.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.2
updated 1 package and audited 1087 packages in 6.778s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:01.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:01.387Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:01.387Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:01.388Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:01.454Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:01.623Z appoptics:patching patched crypto 
2021-11-23T06:48:01.643Z appoptics:patching patched https 
2021-11-23T06:48:01.644Z appoptics:patching patched http 
2021-11-23T06:48:01.668Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:01.669Z appoptics:patching patched fs 
2021-11-23T06:48:01.678Z appoptics:patching patched pino 5.0.2
2021-11-23T06:48:01.682Z appoptics:debug starting runtimeMetrics


  pino v5.0.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.3
updated 1 package and audited 1087 packages in 5.698s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:08.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:08.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:08.884Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:08.893Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:09.035Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:09.227Z appoptics:patching patched crypto 
2021-11-23T06:48:09.266Z appoptics:patching patched https 
2021-11-23T06:48:09.267Z appoptics:patching patched http 
2021-11-23T06:48:09.300Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:09.301Z appoptics:patching patched fs 
2021-11-23T06:48:09.311Z appoptics:patching patched pino 5.0.3
2021-11-23T06:48:09.316Z appoptics:debug starting runtimeMetrics


  pino v5.0.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.4
updated 1 package and audited 1087 packages in 5.494s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:16.159Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:16.160Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:16.160Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:16.163Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:16.230Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:16.411Z appoptics:patching patched crypto 
2021-11-23T06:48:16.432Z appoptics:patching patched https 
2021-11-23T06:48:16.432Z appoptics:patching patched http 
2021-11-23T06:48:16.460Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:16.461Z appoptics:patching patched fs 
2021-11-23T06:48:16.472Z appoptics:patching patched pino 5.0.4
2021-11-23T06:48:16.477Z appoptics:debug starting runtimeMetrics


  pino v5.0.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.0.5
updated 1 package and audited 1087 packages in 6.187s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:23.978Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:23.978Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:23.978Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:23.980Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:24.051Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:24.216Z appoptics:patching patched crypto 
2021-11-23T06:48:24.236Z appoptics:patching patched https 
2021-11-23T06:48:24.236Z appoptics:patching patched http 
2021-11-23T06:48:24.263Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:24.263Z appoptics:patching patched fs 
2021-11-23T06:48:24.272Z appoptics:patching patched pino 5.0.5
2021-11-23T06:48:24.276Z appoptics:debug starting runtimeMetrics


  pino v5.0.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.1.0
updated 1 package and audited 1087 packages in 5.849s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:31.467Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:31.467Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:31.467Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:31.471Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:31.600Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:31.868Z appoptics:patching patched crypto 
2021-11-23T06:48:31.923Z appoptics:patching patched https 
2021-11-23T06:48:31.924Z appoptics:patching patched http 
2021-11-23T06:48:31.978Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:31.978Z appoptics:patching patched fs 
2021-11-23T06:48:31.995Z appoptics:patching patched pino 5.1.0
2021-11-23T06:48:32.005Z appoptics:debug starting runtimeMetrics


  pino v5.1.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.1.1
updated 1 package and audited 1087 packages in 5.95s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:39.663Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:39.664Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:39.664Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:39.666Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:39.729Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:39.905Z appoptics:patching patched crypto 
2021-11-23T06:48:39.926Z appoptics:patching patched https 
2021-11-23T06:48:39.927Z appoptics:patching patched http 
2021-11-23T06:48:39.954Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:39.955Z appoptics:patching patched fs 
2021-11-23T06:48:39.966Z appoptics:patching patched pino 5.1.1
2021-11-23T06:48:39.970Z appoptics:debug starting runtimeMetrics


  pino v5.1.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.2.0
updated 1 package and audited 1087 packages in 7.496s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:48.771Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:48.772Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:48.772Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:48.774Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:48.841Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:49.013Z appoptics:patching patched crypto 
2021-11-23T06:48:49.034Z appoptics:patching patched https 
2021-11-23T06:48:49.034Z appoptics:patching patched http 
2021-11-23T06:48:49.061Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:49.062Z appoptics:patching patched fs 
2021-11-23T06:48:49.072Z appoptics:patching patched pino 5.2.0
2021-11-23T06:48:49.076Z appoptics:debug starting runtimeMetrics


  pino v5.2.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.3.0
updated 1 package and audited 1087 packages in 5.48s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:48:55.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:48:55.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:48:55.991Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:48:55.991Z appoptics:debug using context provider: ace-context
2021-11-23T06:48:56.058Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:48:56.236Z appoptics:patching patched crypto 
2021-11-23T06:48:56.257Z appoptics:patching patched https 
2021-11-23T06:48:56.258Z appoptics:patching patched http 
2021-11-23T06:48:56.284Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:48:56.285Z appoptics:patching patched fs 
2021-11-23T06:48:56.293Z appoptics:patching patched pino 5.3.0
2021-11-23T06:48:56.298Z appoptics:debug starting runtimeMetrics


  pino v5.3.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.3.1
updated 1 package and audited 1087 packages in 7.309s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:04.898Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:04.899Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:04.899Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:04.903Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:04.979Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:05.165Z appoptics:patching patched crypto 
2021-11-23T06:49:05.214Z appoptics:patching patched https 
2021-11-23T06:49:05.214Z appoptics:patching patched http 
2021-11-23T06:49:05.237Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:05.237Z appoptics:patching patched fs 
2021-11-23T06:49:05.247Z appoptics:patching patched pino 5.3.1
2021-11-23T06:49:05.251Z appoptics:debug starting runtimeMetrics


  pino v5.3.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.4.0
updated 1 package and audited 1087 packages in 6.171s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:12.977Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:12.978Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:12.978Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:12.980Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:13.047Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:13.228Z appoptics:patching patched crypto 
2021-11-23T06:49:13.249Z appoptics:patching patched https 
2021-11-23T06:49:13.249Z appoptics:patching patched http 
2021-11-23T06:49:13.277Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:13.278Z appoptics:patching patched fs 
2021-11-23T06:49:13.288Z appoptics:patching patched pino 5.4.0
2021-11-23T06:49:13.293Z appoptics:debug starting runtimeMetrics


  pino v5.4.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.4.1
updated 1 package and audited 1087 packages in 6.235s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:20.828Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:20.829Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:20.829Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:20.830Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:20.893Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:21.086Z appoptics:patching patched crypto 
2021-11-23T06:49:21.108Z appoptics:patching patched https 
2021-11-23T06:49:21.108Z appoptics:patching patched http 
2021-11-23T06:49:21.138Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:21.139Z appoptics:patching patched fs 
2021-11-23T06:49:21.149Z appoptics:patching patched pino 5.4.1
2021-11-23T06:49:21.153Z appoptics:debug starting runtimeMetrics


  pino v5.4.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.5.0
updated 1 package and audited 1087 packages in 6.531s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:29.039Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:29.040Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:29.040Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:29.041Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:29.116Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:29.299Z appoptics:patching patched crypto 
2021-11-23T06:49:29.321Z appoptics:patching patched https 
2021-11-23T06:49:29.321Z appoptics:patching patched http 
2021-11-23T06:49:29.348Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:29.349Z appoptics:patching patched fs 
2021-11-23T06:49:29.358Z appoptics:patching patched pino 5.5.0
2021-11-23T06:49:29.363Z appoptics:debug starting runtimeMetrics


  pino v5.5.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.0
updated 1 package and audited 1087 packages in 6.798s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:37.671Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:37.672Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:37.672Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:37.675Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:37.772Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:38.006Z appoptics:patching patched crypto 
2021-11-23T06:49:38.055Z appoptics:patching patched https 
2021-11-23T06:49:38.056Z appoptics:patching patched http 
2021-11-23T06:49:38.078Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:38.078Z appoptics:patching patched fs 
2021-11-23T06:49:38.090Z appoptics:patching patched pino 5.6.0
2021-11-23T06:49:38.094Z appoptics:debug starting runtimeMetrics


  pino v5.6.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (193ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.1
updated 1 package and audited 1087 packages in 5.433s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:44.883Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:44.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:44.883Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:44.884Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:44.951Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:45.129Z appoptics:patching patched crypto 
2021-11-23T06:49:45.152Z appoptics:patching patched https 
2021-11-23T06:49:45.153Z appoptics:patching patched http 
2021-11-23T06:49:45.180Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:45.180Z appoptics:patching patched fs 
2021-11-23T06:49:45.190Z appoptics:patching patched pino 5.6.1
2021-11-23T06:49:45.194Z appoptics:debug starting runtimeMetrics


  pino v5.6.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.2
updated 1 package and audited 1087 packages in 6.543s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:49:53.009Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:49:53.010Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:49:53.010Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:49:53.012Z appoptics:debug using context provider: ace-context
2021-11-23T06:49:53.079Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:49:53.256Z appoptics:patching patched crypto 
2021-11-23T06:49:53.277Z appoptics:patching patched https 
2021-11-23T06:49:53.277Z appoptics:patching patched http 
2021-11-23T06:49:53.304Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:49:53.304Z appoptics:patching patched fs 
2021-11-23T06:49:53.319Z appoptics:patching patched pino 5.6.2
2021-11-23T06:49:53.324Z appoptics:debug starting runtimeMetrics


  pino v5.6.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.3
updated 1 package and audited 1087 packages in 5.946s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:00.996Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:00.998Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:00.998Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:00.998Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:01.083Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:01.393Z appoptics:patching patched crypto 
2021-11-23T06:50:01.465Z appoptics:patching patched https 
2021-11-23T06:50:01.465Z appoptics:patching patched http 
2021-11-23T06:50:01.495Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:01.495Z appoptics:patching patched fs 
2021-11-23T06:50:01.505Z appoptics:patching patched pino 5.6.3
2021-11-23T06:50:01.509Z appoptics:debug starting runtimeMetrics


  pino v5.6.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (198ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.6.4
updated 1 package and audited 1087 packages in 5.542s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:08.599Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:08.600Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:08.600Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:08.611Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:08.718Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:08.899Z appoptics:patching patched crypto 
2021-11-23T06:50:08.920Z appoptics:patching patched https 
2021-11-23T06:50:08.921Z appoptics:patching patched http 
2021-11-23T06:50:08.950Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:08.951Z appoptics:patching patched fs 
2021-11-23T06:50:08.960Z appoptics:patching patched pino 5.6.4
2021-11-23T06:50:08.964Z appoptics:debug starting runtimeMetrics


  pino v5.6.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.7.0
updated 1 package and audited 1087 packages in 6.813s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:17.074Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:17.075Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:17.075Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:17.078Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:17.149Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:17.405Z appoptics:patching patched crypto 
2021-11-23T06:50:17.424Z appoptics:patching patched https 
2021-11-23T06:50:17.425Z appoptics:patching patched http 
2021-11-23T06:50:17.452Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:17.452Z appoptics:patching patched fs 
2021-11-23T06:50:17.462Z appoptics:patching patched pino 5.7.0
2021-11-23T06:50:17.466Z appoptics:debug starting runtimeMetrics


  pino v5.7.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.8.0
updated 1 package and audited 1087 packages in 5.504s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:24.342Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:24.342Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:24.342Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:24.345Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:24.412Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:24.596Z appoptics:patching patched crypto 
2021-11-23T06:50:24.618Z appoptics:patching patched https 
2021-11-23T06:50:24.618Z appoptics:patching patched http 
2021-11-23T06:50:24.648Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:24.648Z appoptics:patching patched fs 
2021-11-23T06:50:24.659Z appoptics:patching patched pino 5.8.0
2021-11-23T06:50:24.663Z appoptics:debug starting runtimeMetrics


  pino v5.8.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.8.1
updated 1 package and audited 1087 packages in 6.46s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:32.439Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:32.440Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:32.440Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:32.441Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:32.522Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:32.742Z appoptics:patching patched crypto 
2021-11-23T06:50:32.763Z appoptics:patching patched https 
2021-11-23T06:50:32.763Z appoptics:patching patched http 
2021-11-23T06:50:32.794Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:32.794Z appoptics:patching patched fs 
2021-11-23T06:50:32.799Z appoptics:patching patched pino 5.8.1
2021-11-23T06:50:32.803Z appoptics:debug starting runtimeMetrics


  pino v5.8.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.9.0
updated 1 package and audited 1087 packages in 6.243s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:40.523Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:40.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:40.524Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:40.525Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:40.619Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:40.850Z appoptics:patching patched crypto 
2021-11-23T06:50:40.868Z appoptics:patching patched https 
2021-11-23T06:50:40.869Z appoptics:patching patched http 
2021-11-23T06:50:40.916Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:40.916Z appoptics:patching patched fs 
2021-11-23T06:50:40.922Z appoptics:patching patched pino 5.9.0
2021-11-23T06:50:40.926Z appoptics:debug starting runtimeMetrics


  pino v5.9.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (105ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (196ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.1
added 1 package from 1 contributor, updated 2 packages and audited 1088 packages in 5.304s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:47.616Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:47.616Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:47.617Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:47.619Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:47.685Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:47.866Z appoptics:patching patched crypto 
2021-11-23T06:50:47.898Z appoptics:patching patched https 
2021-11-23T06:50:47.898Z appoptics:patching patched http 
2021-11-23T06:50:47.972Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:47.972Z appoptics:patching patched fs 
2021-11-23T06:50:47.979Z appoptics:patching patched pino 5.10.1
2021-11-23T06:50:47.987Z appoptics:debug starting runtimeMetrics


  pino v5.10.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (188ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.2
updated 1 package and audited 1088 packages in 6.571s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:50:55.994Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:50:55.995Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:50:55.995Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:50:55.997Z appoptics:debug using context provider: ace-context
2021-11-23T06:50:56.077Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:50:56.265Z appoptics:patching patched crypto 
2021-11-23T06:50:56.303Z appoptics:patching patched https 
2021-11-23T06:50:56.304Z appoptics:patching patched http 
2021-11-23T06:50:56.337Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:50:56.337Z appoptics:patching patched fs 
2021-11-23T06:50:56.342Z appoptics:patching patched pino 5.10.2
2021-11-23T06:50:56.347Z appoptics:debug starting runtimeMetrics


  pino v5.10.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.3
updated 1 package and audited 1088 packages in 5.887s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:03.578Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:03.579Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:03.579Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:03.586Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:03.670Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:03.858Z appoptics:patching patched crypto 
2021-11-23T06:51:03.914Z appoptics:patching patched https 
2021-11-23T06:51:03.914Z appoptics:patching patched http 
2021-11-23T06:51:03.958Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:03.958Z appoptics:patching patched fs 
2021-11-23T06:51:03.968Z appoptics:patching patched pino 5.10.3
2021-11-23T06:51:03.972Z appoptics:debug starting runtimeMetrics


  pino v5.10.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (203ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.4
updated 1 package and audited 1088 packages in 5.994s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:11.353Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:11.353Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:11.353Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:11.355Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:11.424Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:11.617Z appoptics:patching patched crypto 
2021-11-23T06:51:11.637Z appoptics:patching patched https 
2021-11-23T06:51:11.637Z appoptics:patching patched http 
2021-11-23T06:51:11.669Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:11.670Z appoptics:patching patched fs 
2021-11-23T06:51:11.677Z appoptics:patching patched pino 5.10.4
2021-11-23T06:51:11.680Z appoptics:debug starting runtimeMetrics


  pino v5.10.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.5
removed 3 packages, updated 1 package and audited 1085 packages in 6.703s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:19.857Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:19.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:19.858Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:19.860Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:19.937Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:20.138Z appoptics:patching patched crypto 
2021-11-23T06:51:20.159Z appoptics:patching patched https 
2021-11-23T06:51:20.159Z appoptics:patching patched http 
2021-11-23T06:51:20.192Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:20.193Z appoptics:patching patched fs 
2021-11-23T06:51:20.199Z appoptics:patching patched pino 5.10.5
2021-11-23T06:51:20.203Z appoptics:debug starting runtimeMetrics


  pino v5.10.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (181ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.6
updated 1 package and audited 1085 packages in 6.296s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:27.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:27.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:27.830Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:27.832Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:27.895Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:28.070Z appoptics:patching patched crypto 
2021-11-23T06:51:28.090Z appoptics:patching patched https 
2021-11-23T06:51:28.091Z appoptics:patching patched http 
2021-11-23T06:51:28.122Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:28.122Z appoptics:patching patched fs 
2021-11-23T06:51:28.128Z appoptics:patching patched pino 5.10.6
2021-11-23T06:51:28.132Z appoptics:debug starting runtimeMetrics


  pino v5.10.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.7
updated 1 package and audited 1085 packages in 6.748s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:36.680Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:36.680Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:36.680Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:36.681Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:36.744Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:36.920Z appoptics:patching patched crypto 
2021-11-23T06:51:36.939Z appoptics:patching patched https 
2021-11-23T06:51:36.940Z appoptics:patching patched http 
2021-11-23T06:51:36.969Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:36.969Z appoptics:patching patched fs 
2021-11-23T06:51:36.975Z appoptics:patching patched pino 5.10.7
2021-11-23T06:51:36.979Z appoptics:debug starting runtimeMetrics


  pino v5.10.7
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.8
updated 1 package and audited 1085 packages in 6.527s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:44.730Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:44.731Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:44.731Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:44.733Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:44.797Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:44.963Z appoptics:patching patched crypto 
2021-11-23T06:51:44.982Z appoptics:patching patched https 
2021-11-23T06:51:44.983Z appoptics:patching patched http 
2021-11-23T06:51:45.015Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:45.016Z appoptics:patching patched fs 
2021-11-23T06:51:45.021Z appoptics:patching patched pino 5.10.8
2021-11-23T06:51:45.026Z appoptics:debug starting runtimeMetrics


  pino v5.10.8
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.9
updated 1 package and audited 1085 packages in 5.718s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:52.185Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:52.186Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:52.186Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:52.189Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:52.253Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:51:52.418Z appoptics:patching patched crypto 
2021-11-23T06:51:52.437Z appoptics:patching patched https 
2021-11-23T06:51:52.437Z appoptics:patching patched http 
2021-11-23T06:51:52.466Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:51:52.467Z appoptics:patching patched fs 
2021-11-23T06:51:52.472Z appoptics:patching patched pino 5.10.9
2021-11-23T06:51:52.477Z appoptics:debug starting runtimeMetrics


  pino v5.10.9
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.10.10
updated 1 package and audited 1085 packages in 5.955s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:51:59.806Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:51:59.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:51:59.807Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:51:59.808Z appoptics:debug using context provider: ace-context
2021-11-23T06:51:59.877Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:00.085Z appoptics:patching patched crypto 
2021-11-23T06:52:00.141Z appoptics:patching patched https 
2021-11-23T06:52:00.142Z appoptics:patching patched http 
2021-11-23T06:52:00.171Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:00.171Z appoptics:patching patched fs 
2021-11-23T06:52:00.178Z appoptics:patching patched pino 5.10.10
2021-11-23T06:52:00.183Z appoptics:debug starting runtimeMetrics


  pino v5.10.10
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.0
updated 1 package and audited 1085 packages in 6.318s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:07.911Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:07.912Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:07.912Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:07.913Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:08.021Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:08.301Z appoptics:patching patched crypto 
2021-11-23T06:52:08.374Z appoptics:patching patched https 
2021-11-23T06:52:08.390Z appoptics:patching patched http 
2021-11-23T06:52:08.421Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:08.422Z appoptics:patching patched fs 
2021-11-23T06:52:08.430Z appoptics:patching patched pino 5.11.0
2021-11-23T06:52:08.434Z appoptics:debug starting runtimeMetrics


  pino v5.11.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.1
updated 1 package and audited 1085 packages in 5.99s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:15.751Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:15.752Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:15.752Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:15.753Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:15.833Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:16.019Z appoptics:patching patched crypto 
2021-11-23T06:52:16.041Z appoptics:patching patched https 
2021-11-23T06:52:16.042Z appoptics:patching patched http 
2021-11-23T06:52:16.075Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:16.076Z appoptics:patching patched fs 
2021-11-23T06:52:16.082Z appoptics:patching patched pino 5.11.1
2021-11-23T06:52:16.086Z appoptics:debug starting runtimeMetrics


  pino v5.11.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.2
updated 1 package and audited 1085 packages in 6.011s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:23.393Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:23.394Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:23.394Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:23.395Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:23.458Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:23.635Z appoptics:patching patched crypto 
2021-11-23T06:52:23.691Z appoptics:patching patched https 
2021-11-23T06:52:23.692Z appoptics:patching patched http 
2021-11-23T06:52:23.724Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:23.725Z appoptics:patching patched fs 
2021-11-23T06:52:23.732Z appoptics:patching patched pino 5.11.2
2021-11-23T06:52:23.737Z appoptics:debug starting runtimeMetrics


  pino v5.11.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (187ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.11.3
updated 1 package and audited 1085 packages in 5.1s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:30.411Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:30.413Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:30.413Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:30.414Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:30.524Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:30.702Z appoptics:patching patched crypto 
2021-11-23T06:52:30.722Z appoptics:patching patched https 
2021-11-23T06:52:30.723Z appoptics:patching patched http 
2021-11-23T06:52:30.753Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:30.753Z appoptics:patching patched fs 
2021-11-23T06:52:30.759Z appoptics:patching patched pino 5.11.3
2021-11-23T06:52:30.762Z appoptics:debug starting runtimeMetrics


  pino v5.11.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.0
updated 1 package and audited 1085 packages in 6.156s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:38.281Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:38.281Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:38.281Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:38.282Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:38.345Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:38.514Z appoptics:patching patched crypto 
2021-11-23T06:52:38.533Z appoptics:patching patched https 
2021-11-23T06:52:38.534Z appoptics:patching patched http 
2021-11-23T06:52:38.563Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:38.563Z appoptics:patching patched fs 
2021-11-23T06:52:38.569Z appoptics:patching patched pino 5.12.0
2021-11-23T06:52:38.573Z appoptics:debug starting runtimeMetrics


  pino v5.12.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.1
updated 1 package and audited 1085 packages in 6.114s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:46.376Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:46.377Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:46.377Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:46.379Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:46.460Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:46.639Z appoptics:patching patched crypto 
2021-11-23T06:52:46.659Z appoptics:patching patched https 
2021-11-23T06:52:46.659Z appoptics:patching patched http 
2021-11-23T06:52:46.689Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:46.690Z appoptics:patching patched fs 
2021-11-23T06:52:46.696Z appoptics:patching patched pino 5.12.1
2021-11-23T06:52:46.699Z appoptics:debug starting runtimeMetrics


  pino v5.12.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (174ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.2
updated 1 package and audited 1085 packages in 5.254s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:52:53.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:52:53.225Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:52:53.225Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:52:53.227Z appoptics:debug using context provider: ace-context
2021-11-23T06:52:53.297Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:52:53.463Z appoptics:patching patched crypto 
2021-11-23T06:52:53.483Z appoptics:patching patched https 
2021-11-23T06:52:53.484Z appoptics:patching patched http 
2021-11-23T06:52:53.514Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:52:53.514Z appoptics:patching patched fs 
2021-11-23T06:52:53.520Z appoptics:patching patched pino 5.12.2
2021-11-23T06:52:53.524Z appoptics:debug starting runtimeMetrics


  pino v5.12.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (175ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.3
updated 1 package and audited 1085 packages in 6.071s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:01.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:01.042Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:01.042Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:01.043Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:01.111Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:01.282Z appoptics:patching patched crypto 
2021-11-23T06:53:01.301Z appoptics:patching patched https 
2021-11-23T06:53:01.302Z appoptics:patching patched http 
2021-11-23T06:53:01.334Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:01.334Z appoptics:patching patched fs 
2021-11-23T06:53:01.340Z appoptics:patching patched pino 5.12.3
2021-11-23T06:53:01.344Z appoptics:debug starting runtimeMetrics


  pino v5.12.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (171ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.4
updated 1 package and audited 1085 packages in 5.551s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:08.282Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:08.282Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:08.282Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:08.286Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:08.368Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:08.557Z appoptics:patching patched crypto 
2021-11-23T06:53:08.603Z appoptics:patching patched https 
2021-11-23T06:53:08.604Z appoptics:patching patched http 
2021-11-23T06:53:08.628Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:08.629Z appoptics:patching patched fs 
2021-11-23T06:53:08.635Z appoptics:patching patched pino 5.12.4
2021-11-23T06:53:08.640Z appoptics:debug starting runtimeMetrics


  pino v5.12.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.5
updated 1 package and audited 1085 packages in 6.803s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:16.769Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:16.770Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:16.770Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:16.770Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:16.834Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:16.998Z appoptics:patching patched crypto 
2021-11-23T06:53:17.017Z appoptics:patching patched https 
2021-11-23T06:53:17.017Z appoptics:patching patched http 
2021-11-23T06:53:17.047Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:17.047Z appoptics:patching patched fs 
2021-11-23T06:53:17.052Z appoptics:patching patched pino 5.12.5
2021-11-23T06:53:17.056Z appoptics:debug starting runtimeMetrics


  pino v5.12.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.12.6
updated 1 package and audited 1085 packages in 6.027s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:24.473Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:24.474Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:24.474Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:24.476Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:24.543Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:24.731Z appoptics:patching patched crypto 
2021-11-23T06:53:24.767Z appoptics:patching patched https 
2021-11-23T06:53:24.768Z appoptics:patching patched http 
2021-11-23T06:53:24.801Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:24.801Z appoptics:patching patched fs 
2021-11-23T06:53:24.806Z appoptics:patching patched pino 5.12.6
2021-11-23T06:53:24.810Z appoptics:debug starting runtimeMetrics


  pino v5.12.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (170ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.0
updated 1 package and audited 1085 packages in 5.336s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:31.493Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:31.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:31.494Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:31.494Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:31.562Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:31.808Z appoptics:patching patched crypto 
2021-11-23T06:53:31.827Z appoptics:patching patched https 
2021-11-23T06:53:31.827Z appoptics:patching patched http 
2021-11-23T06:53:31.860Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:31.860Z appoptics:patching patched fs 
2021-11-23T06:53:31.866Z appoptics:patching patched pino 5.13.0
2021-11-23T06:53:31.870Z appoptics:debug starting runtimeMetrics


  pino v5.13.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.1
updated 1 package and audited 1085 packages in 6.053s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:39.254Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:39.254Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:39.254Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:39.256Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:39.330Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:39.514Z appoptics:patching patched crypto 
2021-11-23T06:53:39.536Z appoptics:patching patched https 
2021-11-23T06:53:39.536Z appoptics:patching patched http 
2021-11-23T06:53:39.569Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:39.570Z appoptics:patching patched fs 
2021-11-23T06:53:39.575Z appoptics:patching patched pino 5.13.1
2021-11-23T06:53:39.580Z appoptics:debug starting runtimeMetrics


  pino v5.13.1
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.2
updated 1 package and audited 1085 packages in 5.945s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:46.929Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:46.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:46.929Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:46.930Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:47.013Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:47.213Z appoptics:patching patched crypto 
2021-11-23T06:53:47.255Z appoptics:patching patched https 
2021-11-23T06:53:47.264Z appoptics:patching patched http 
2021-11-23T06:53:47.289Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:47.289Z appoptics:patching patched fs 
2021-11-23T06:53:47.296Z appoptics:patching patched pino 5.13.2
2021-11-23T06:53:47.300Z appoptics:debug starting runtimeMetrics


  pino v5.13.2
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.3
updated 1 package and audited 1085 packages in 6.307s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:53:54.971Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:53:54.972Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:53:54.972Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:53:54.974Z appoptics:debug using context provider: ace-context
2021-11-23T06:53:55.040Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:53:55.225Z appoptics:patching patched crypto 
2021-11-23T06:53:55.245Z appoptics:patching patched https 
2021-11-23T06:53:55.246Z appoptics:patching patched http 
2021-11-23T06:53:55.285Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:53:55.286Z appoptics:patching patched fs 
2021-11-23T06:53:55.292Z appoptics:patching patched pino 5.13.3
2021-11-23T06:53:55.297Z appoptics:debug starting runtimeMetrics


  pino v5.13.3
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.4
updated 2 packages and audited 1085 packages in 5.922s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:54:02.662Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:02.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:02.663Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:02.663Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:02.727Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:02.921Z appoptics:patching patched crypto 
2021-11-23T06:54:02.965Z appoptics:patching patched https 
2021-11-23T06:54:02.965Z appoptics:patching patched http 
2021-11-23T06:54:03.037Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:03.037Z appoptics:patching patched fs 
2021-11-23T06:54:03.043Z appoptics:patching patched pino 5.13.4
2021-11-23T06:54:03.048Z appoptics:debug starting runtimeMetrics


  pino v5.13.4
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.5
updated 1 package and audited 1085 packages in 5.189s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:54:09.682Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:09.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:09.683Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:09.683Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:09.760Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:09.944Z appoptics:patching patched crypto 
2021-11-23T06:54:09.978Z appoptics:patching patched https 
2021-11-23T06:54:09.978Z appoptics:patching patched http 
2021-11-23T06:54:10.003Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:10.004Z appoptics:patching patched fs 
2021-11-23T06:54:10.010Z appoptics:patching patched pino 5.13.5
2021-11-23T06:54:10.015Z appoptics:debug starting runtimeMetrics


  pino v5.13.5
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (102ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (177ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.13.6
updated 1 package and audited 1085 packages in 6.883s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:54:18.222Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:18.222Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:18.222Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:18.223Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:18.294Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:18.464Z appoptics:patching patched crypto 
2021-11-23T06:54:18.484Z appoptics:patching patched https 
2021-11-23T06:54:18.484Z appoptics:patching patched http 
2021-11-23T06:54:18.515Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:18.516Z appoptics:patching patched fs 
2021-11-23T06:54:18.521Z appoptics:patching patched pino 5.13.6
2021-11-23T06:54:18.526Z appoptics:debug starting runtimeMetrics


  pino v5.13.6
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (172ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.14.0
updated 1 package and audited 1085 packages in 5.872s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:54:26.363Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:26.388Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:26.388Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:26.393Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:26.489Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:26.684Z appoptics:patching patched crypto 
2021-11-23T06:54:26.705Z appoptics:patching patched https 
2021-11-23T06:54:26.705Z appoptics:patching patched http 
2021-11-23T06:54:26.744Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:26.744Z appoptics:patching patched fs 
2021-11-23T06:54:26.751Z appoptics:patching patched pino 5.14.0
2021-11-23T06:54:26.757Z appoptics:debug starting runtimeMetrics


  pino v5.14.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (178ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.15.0
updated 1 package and audited 1085 packages in 5.203s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:54:33.380Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:33.381Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:33.381Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:33.381Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:33.450Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:33.626Z appoptics:patching patched crypto 
2021-11-23T06:54:33.645Z appoptics:patching patched https 
2021-11-23T06:54:33.646Z appoptics:patching patched http 
2021-11-23T06:54:33.676Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:33.676Z appoptics:patching patched fs 
2021-11-23T06:54:33.681Z appoptics:patching patched pino 5.15.0
2021-11-23T06:54:33.686Z appoptics:debug starting runtimeMetrics


  pino v5.15.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (176ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.16.0
updated 1 package and audited 1085 packages in 6.585s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:54:41.714Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:41.715Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:41.715Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:41.717Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:41.796Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:41.985Z appoptics:patching patched crypto 
2021-11-23T06:54:42.005Z appoptics:patching patched https 
2021-11-23T06:54:42.006Z appoptics:patching patched http 
2021-11-23T06:54:42.041Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:42.041Z appoptics:patching patched fs 
2021-11-23T06:54:42.047Z appoptics:patching patched pino 5.16.0
2021-11-23T06:54:42.051Z appoptics:debug starting runtimeMetrics


  pino v5.16.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (103ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (179ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.17.0
updated 1 package and audited 1085 packages in 5.255s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:54:48.807Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:48.808Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:48.808Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:48.808Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:48.879Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:49.059Z appoptics:patching patched crypto 
2021-11-23T06:54:49.079Z appoptics:patching patched https 
2021-11-23T06:54:49.079Z appoptics:patching patched http 
2021-11-23T06:54:49.110Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:49.110Z appoptics:patching patched fs 
2021-11-23T06:54:49.116Z appoptics:patching patched pino 5.17.0
2021-11-23T06:54:49.120Z appoptics:debug starting runtimeMetrics


  pino v5.17.0
    ✓ UDP might lose a message
    ✓ should not insert in sync sampled code when mode=false
    ✓ should insert in sync sampled code when mode=true
    ✓ should insert in sync sampled code when mode=traced
    ✓ should insert in sync sampled code when mode=sampledOnly
    ✓ should insert in sync sampled code when mode=always
    ✓ should not insert in sync unsampled code when mode=false
    ✓ should insert in sync unsampled code when mode=true
    ✓ should insert in sync unsampled code when mode=traced
    ✓ should not insert in sync unsampled code when mode=sampledOnly
    ✓ should insert in sync unsampled code when mode=always
    ✓ mode='always' should always insert a trace ID even if not tracing
    ✓ should insert trace IDs in asynchronous instrumented code (104ms)
    ✓ should insert trace IDs in promise-based instrumented code
    ✓ should insert trace IDs using the function directly


  15 passing (173ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.0.0
updated 3 packages and audited 1085 packages in 6.163s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:54:56.680Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:54:56.681Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:54:56.681Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:54:56.683Z appoptics:debug using context provider: ace-context
2021-11-23T06:54:56.749Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:54:56.941Z appoptics:patching patched crypto 
2021-11-23T06:54:56.971Z appoptics:patching patched https 
2021-11-23T06:54:56.971Z appoptics:patching patched http 
2021-11-23T06:54:57.000Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:54:57.001Z appoptics:patching patched fs 
2021-11-23T06:54:57.011Z appoptics:patching patched pino 6.0.0
2021-11-23T06:54:57.015Z appoptics:debug starting runtimeMetrics


  pino v6.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4019
         "time": 1637650497045
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4019
         "time": 1637650497052
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4019
         "time": 1637650497055
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4019
         "time": 1637650497057
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4019
         "time": 1637650497060
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4019
         "time": 1637650497063
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4019
         "time": 1637650497064
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4019
         "time": 1637650497066
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4019
         "time": 1637650497067
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4019
         "time": 1637650497069
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4019
         "time": 1637650497070
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4019
         "time": 1637650497073
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4019
         "time": 1637650497175
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 8143DFBB31D6DB6EA382DFAB8A0BAB09CB878788-1"
         "pid": 4019
         "time": 1637650497203
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.1.0
updated 1 package and audited 1085 packages in 6.084s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:55:04.603Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:04.604Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:04.604Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:04.607Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:04.675Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:04.865Z appoptics:patching patched crypto 
2021-11-23T06:55:04.917Z appoptics:patching patched https 
2021-11-23T06:55:04.917Z appoptics:patching patched http 
2021-11-23T06:55:04.941Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:04.942Z appoptics:patching patched fs 
2021-11-23T06:55:04.947Z appoptics:patching patched pino 6.1.0
2021-11-23T06:55:04.951Z appoptics:debug starting runtimeMetrics


  pino v6.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (178ms)
  14 failing

  1) pino v6.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4042
         "time": 1637650504976
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4042
         "time": 1637650504983
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4042
         "time": 1637650504985
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4042
         "time": 1637650504988
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4042
         "time": 1637650504991
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4042
         "time": 1637650504994
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4042
         "time": 1637650504995
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4042
         "time": 1637650504997
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4042
         "time": 1637650504998
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4042
         "time": 1637650504999
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4042
         "time": 1637650505001
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4042
         "time": 1637650505003
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4042
         "time": 1637650505107
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 9153C0ACB15EB1AA93128EA480D12D5619FE5457-1"
         "pid": 4042
         "time": 1637650505135
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.1.1
updated 1 package and audited 1085 packages in 5.432s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:55:11.739Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:11.739Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:11.739Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:11.740Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:11.823Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:12.008Z appoptics:patching patched crypto 
2021-11-23T06:55:12.028Z appoptics:patching patched https 
2021-11-23T06:55:12.029Z appoptics:patching patched http 
2021-11-23T06:55:12.059Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:12.060Z appoptics:patching patched fs 
2021-11-23T06:55:12.066Z appoptics:patching patched pino 6.1.1
2021-11-23T06:55:12.070Z appoptics:debug starting runtimeMetrics


  pino v6.1.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (193ms)
  14 failing

  1) pino v6.1.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4065
         "time": 1637650512098
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.1.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4065
         "time": 1637650512108
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.1.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4065
         "time": 1637650512112
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.1.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4065
         "time": 1637650512118
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.1.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4065
         "time": 1637650512121
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.1.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4065
         "time": 1637650512124
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.1.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4065
         "time": 1637650512126
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.1.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4065
         "time": 1637650512128
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.1.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4065
         "time": 1637650512130
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.1.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4065
         "time": 1637650512132
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.1.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4065
         "time": 1637650512133
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.1.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4065
         "time": 1637650512135
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.1.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4065
         "time": 1637650512239
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.1.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 16DFF4673F912690C7B85AC65C3BA0A87FE80F2A-1"
         "pid": 4065
         "time": 1637650512267
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.2.0
updated 1 package and audited 1085 packages in 6.326s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:55:19.726Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:19.727Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:19.727Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:19.729Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:19.798Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:19.991Z appoptics:patching patched crypto 
2021-11-23T06:55:20.029Z appoptics:patching patched https 
2021-11-23T06:55:20.029Z appoptics:patching patched http 
2021-11-23T06:55:20.058Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:20.059Z appoptics:patching patched fs 
2021-11-23T06:55:20.065Z appoptics:patching patched pino 6.2.0
2021-11-23T06:55:20.070Z appoptics:debug starting runtimeMetrics


  pino v6.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4088
         "time": 1637650520096
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4088
         "time": 1637650520103
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4088
         "time": 1637650520106
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4088
         "time": 1637650520110
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4088
         "time": 1637650520112
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4088
         "time": 1637650520115
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4088
         "time": 1637650520117
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4088
         "time": 1637650520119
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4088
         "time": 1637650520120
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4088
         "time": 1637650520122
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4088
         "time": 1637650520123
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4088
         "time": 1637650520125
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4088
         "time": 1637650520228
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F982E88983DDF3C4E01DD13B72F43A8CBE1DD592-1"
         "pid": 4088
         "time": 1637650520257
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.2.1
updated 1 package and audited 1085 packages in 5.697s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:55:27.198Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:27.199Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:27.199Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:27.202Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:27.286Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:27.576Z appoptics:patching patched crypto 
2021-11-23T06:55:27.632Z appoptics:patching patched https 
2021-11-23T06:55:27.633Z appoptics:patching patched http 
2021-11-23T06:55:27.661Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:27.661Z appoptics:patching patched fs 
2021-11-23T06:55:27.668Z appoptics:patching patched pino 6.2.1
2021-11-23T06:55:27.673Z appoptics:debug starting runtimeMetrics


  pino v6.2.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (188ms)
  14 failing

  1) pino v6.2.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4111
         "time": 1637650527701
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.2.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4111
         "time": 1637650527711
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.2.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4111
         "time": 1637650527714
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.2.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4111
         "time": 1637650527717
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.2.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4111
         "time": 1637650527720
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.2.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4111
         "time": 1637650527723
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.2.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4111
         "time": 1637650527725
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.2.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4111
         "time": 1637650527726
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.2.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4111
         "time": 1637650527728
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.2.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4111
         "time": 1637650527729
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.2.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4111
         "time": 1637650527731
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.2.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4111
         "time": 1637650527733
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.2.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4111
         "time": 1637650527838
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.2.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6EEC4B75745C74E4196BD1A0B644C8C8CB410F97-1"
         "pid": 4111
         "time": 1637650527867
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.0
updated 1 package and audited 1085 packages in 5.653s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:55:34.877Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:34.877Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:34.877Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:34.879Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:34.944Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:35.126Z appoptics:patching patched crypto 
2021-11-23T06:55:35.146Z appoptics:patching patched https 
2021-11-23T06:55:35.146Z appoptics:patching patched http 
2021-11-23T06:55:35.180Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:35.181Z appoptics:patching patched fs 
2021-11-23T06:55:35.187Z appoptics:patching patched pino 6.3.0
2021-11-23T06:55:35.192Z appoptics:debug starting runtimeMetrics


  pino v6.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (197ms)
  14 failing

  1) pino v6.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4134
         "time": 1637650535218
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4134
         "time": 1637650535225
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4134
         "time": 1637650535228
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4134
         "time": 1637650535231
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4134
         "time": 1637650535236
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4134
         "time": 1637650535240
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4134
         "time": 1637650535242
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4134
         "time": 1637650535245
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4134
         "time": 1637650535247
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4134
         "time": 1637650535250
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4134
         "time": 1637650535251
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4134
         "time": 1637650535261
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4134
         "time": 1637650535365
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 37EB61BB71BB189C9BECBE995EA42DF58A56ACE4-1"
         "pid": 4134
         "time": 1637650535394
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.1
updated 1 package and audited 1085 packages in 5.904s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:55:42.429Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:42.430Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:42.430Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:42.432Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:42.528Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:42.722Z appoptics:patching patched crypto 
2021-11-23T06:55:42.767Z appoptics:patching patched https 
2021-11-23T06:55:42.768Z appoptics:patching patched http 
2021-11-23T06:55:42.797Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:42.797Z appoptics:patching patched fs 
2021-11-23T06:55:42.805Z appoptics:patching patched pino 6.3.1
2021-11-23T06:55:42.812Z appoptics:debug starting runtimeMetrics


  pino v6.3.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (188ms)
  14 failing

  1) pino v6.3.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4157
         "time": 1637650542844
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.3.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4157
         "time": 1637650542851
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.3.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4157
         "time": 1637650542855
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.3.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4157
         "time": 1637650542860
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.3.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4157
         "time": 1637650542863
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.3.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4157
         "time": 1637650542866
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.3.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4157
         "time": 1637650542867
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.3.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4157
         "time": 1637650542869
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.3.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4157
         "time": 1637650542871
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.3.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4157
         "time": 1637650542873
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.3.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4157
         "time": 1637650542874
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.3.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4157
         "time": 1637650542876
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.3.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4157
         "time": 1637650542980
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.3.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6FB9CBAD86CFFDD4330AE051EBE732998EA07534-1"
         "pid": 4157
         "time": 1637650543008
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.3.2
updated 1 package and audited 1085 packages in 5.483s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:55:49.731Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:49.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:49.732Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:49.733Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:49.803Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:49.982Z appoptics:patching patched crypto 
2021-11-23T06:55:50.003Z appoptics:patching patched https 
2021-11-23T06:55:50.003Z appoptics:patching patched http 
2021-11-23T06:55:50.037Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:50.037Z appoptics:patching patched fs 
2021-11-23T06:55:50.043Z appoptics:patching patched pino 6.3.2
2021-11-23T06:55:50.048Z appoptics:debug starting runtimeMetrics


  pino v6.3.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (181ms)
  14 failing

  1) pino v6.3.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4180
         "time": 1637650550075
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.3.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4180
         "time": 1637650550081
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.3.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4180
         "time": 1637650550084
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.3.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4180
         "time": 1637650550087
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.3.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4180
         "time": 1637650550090
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.3.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4180
         "time": 1637650550093
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.3.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4180
         "time": 1637650550094
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.3.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4180
         "time": 1637650550095
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.3.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4180
         "time": 1637650550097
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.3.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4180
         "time": 1637650550098
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.3.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "always insert"
         "pid": 4180
         "time": 1637650550099
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.3.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4180
         "time": 1637650550101
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.3.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "promise instrumentation"
         "pid": 4180
         "time": 1637650550205
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.3.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 085F8EF04A7EB6FFA58A05E121F7037F77D59F23-1"
         "pid": 4180
         "time": 1637650550234
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.4.0
updated 1 package and audited 1085 packages in 6.494s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:55:57.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:55:57.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:55:57.883Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:55:57.894Z appoptics:debug using context provider: ace-context
2021-11-23T06:55:57.977Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:55:58.159Z appoptics:patching patched crypto 
2021-11-23T06:55:58.182Z appoptics:patching patched https 
2021-11-23T06:55:58.182Z appoptics:patching patched http 
2021-11-23T06:55:58.218Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:55:58.218Z appoptics:patching patched fs 
2021-11-23T06:55:58.225Z appoptics:patching patched pino 6.4.0
2021-11-23T06:55:58.229Z appoptics:debug starting runtimeMetrics


  pino v6.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (185ms)
  14 failing

  1) pino v6.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4203
         "time": 1637650558259
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "798FD46E754FFB7585F47E0792E3A4F9EAD4FA78-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4203
         "time": 1637650558267
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "39A7CDBF549E9FE1C3F614E58BD38E1CEB9A887E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4203
         "time": 1637650558270
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "73FAFF56AC99661F266702BF25DC57E9B2A3D550-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4203
         "time": 1637650558273
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D0EDEDAFE1867BE0B063C78701C805501C512402-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4203
         "time": 1637650558275
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4203
         "time": 1637650558278
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DF5E368ABF2DC9C0483DDB671957C7327671E693-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4203
         "time": 1637650558280
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1DB5B4E43CC502E952726208CFE5EAAAADD26330-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4203
         "time": 1637650558282
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4203
         "time": 1637650558283
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C596AA1E28B7B0C45789C02F8B7B68F12517629F-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4203
         "time": 1637650558285
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4203
         "time": 1637650558286
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0135B1607AFA6BF65F5B32D4F6B2C957871D8817-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4203
         "time": 1637650558288
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "134B2C92B661DA9152ABCE6646FCD67A7E7EEDBD-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4203
         "time": 1637650558393
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous DB74F1090A4DADA261D49ECE53189AAE110EC8E6-1"
         "pid": 4203
         "time": 1637650558421
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.4.1
updated 1 package and audited 1085 packages in 5.561s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:56:05.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:05.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:05.883Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:05.887Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:06.057Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:06.428Z appoptics:patching patched crypto 
2021-11-23T06:56:06.453Z appoptics:patching patched https 
2021-11-23T06:56:06.454Z appoptics:patching patched http 
2021-11-23T06:56:06.519Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:06.520Z appoptics:patching patched fs 
2021-11-23T06:56:06.527Z appoptics:patching patched pino 6.4.1
2021-11-23T06:56:06.533Z appoptics:debug starting runtimeMetrics


  pino v6.4.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (194ms)
  14 failing

  1) pino v6.4.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4226
         "time": 1637650566569
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.4.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A2BDD3D4E14B49CA42753580E7112A0545670584-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4226
         "time": 1637650566578
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.4.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4B3586CDFF9675957138746286F556DE8948B1CE-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4226
         "time": 1637650566582
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.4.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A77C4EDE4DDBCD0C869786A05CA311DD355E47DA-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4226
         "time": 1637650566585
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.4.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D346613AD722B4A22AF30844B969A6B47184D3B4-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4226
         "time": 1637650566587
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.4.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4226
         "time": 1637650566590
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.4.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "015510F01CD83AE275FAD32F0919F70E95D1A861-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4226
         "time": 1637650566592
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.4.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C3C77853DF960F43EB9D0183A16A5EC3967165C8-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4226
         "time": 1637650566593
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.4.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4226
         "time": 1637650566595
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.4.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CAE5D01EFE47BB529B0BF4671F845CA2957B8C90-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4226
         "time": 1637650566596
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.4.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4226
         "time": 1637650566598
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.4.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "70609D6F6EB2AE052365454B92327B0878FA9ACD-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4226
         "time": 1637650566600
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.4.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C629BA713C9265D2FC15BA6C7DCA93A0D64CC96E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4226
         "time": 1637650566704
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.4.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 7986A1C71F11B071449187A0FEFA55A9F830E503-1"
         "pid": 4226
         "time": 1637650566733
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.5.0
updated 1 package and audited 1085 packages in 5.27s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:56:13.211Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:13.212Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:13.212Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:13.214Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:13.281Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:13.462Z appoptics:patching patched crypto 
2021-11-23T06:56:13.482Z appoptics:patching patched https 
2021-11-23T06:56:13.483Z appoptics:patching patched http 
2021-11-23T06:56:13.515Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:13.515Z appoptics:patching patched fs 
2021-11-23T06:56:13.523Z appoptics:patching patched pino 6.5.0
2021-11-23T06:56:13.527Z appoptics:debug starting runtimeMetrics


  pino v6.5.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.5.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4249
         "time": 1637650573553
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.5.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FF6511F5043BFBB0A543BD9738012FE4E0AE72F1-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4249
         "time": 1637650573560
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.5.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2D90FA180F46F917BEAB8EDC5854A820961CCEC1-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4249
         "time": 1637650573563
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.5.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DC5D7AFC90F4C6F5FD7173B58EFD41405343687D-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4249
         "time": 1637650573566
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.5.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "25C8C06411FEB048AC1ACA65E881A0AFD7431F12-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4249
         "time": 1637650573568
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.5.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4249
         "time": 1637650573572
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.5.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FB903B0E929CDC0EB1ECD6DDFF638ECC3939345C-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4249
         "time": 1637650573574
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.5.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "543379EEDC45891DFE6C8C55E7F19A411141430D-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4249
         "time": 1637650573576
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.5.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4249
         "time": 1637650573577
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.5.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6163292B1683A935BBC32F437525ED9E814632D3-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4249
         "time": 1637650573579
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.5.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4249
         "time": 1637650573580
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.5.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "29128D532B02E67E738E173E755EEBD5E30A1848-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4249
         "time": 1637650573583
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.5.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4A856B73991F4DE1B50B699192DF8D350C120E7B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4249
         "time": 1637650573686
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.5.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous CD5EA939921142C70A97E27771CCA332437D97F3-1"
         "pid": 4249
         "time": 1637650573714
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.5.1
updated 1 package and audited 1085 packages in 6.048s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:56:20.935Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:20.935Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:20.936Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:20.938Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:21.008Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:21.190Z appoptics:patching patched crypto 
2021-11-23T06:56:21.210Z appoptics:patching patched https 
2021-11-23T06:56:21.211Z appoptics:patching patched http 
2021-11-23T06:56:21.240Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:21.240Z appoptics:patching patched fs 
2021-11-23T06:56:21.247Z appoptics:patching patched pino 6.5.1
2021-11-23T06:56:21.251Z appoptics:debug starting runtimeMetrics


  pino v6.5.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (192ms)
  14 failing

  1) pino v6.5.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4272
         "time": 1637650581285
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.5.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8F7CD96FB01B8CA59E55B64C1D9C51E8846141F6-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4272
         "time": 1637650581293
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.5.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1D811F79CD38996097B0E1017329CF9E58667173-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4272
         "time": 1637650581297
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.5.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4D108E1396981C50EE36DDA8BC04C55C30D0FEF2-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4272
         "time": 1637650581300
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.5.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E0B9BD861EA1FD89400E261A1DADB86407995C24-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4272
         "time": 1637650581303
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.5.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4272
         "time": 1637650581306
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.5.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8CF34760617AC3F36D7CB0200B530F3C878AF2FF-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4272
         "time": 1637650581308
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.5.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C1652339A45F152E6C373E8F1E3EFB6BE87E6B54-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4272
         "time": 1637650581309
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.5.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4272
         "time": 1637650581311
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.5.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EC6A9507691C057E92D6DB24498C9EF457FD2EBC-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4272
         "time": 1637650581312
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.5.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4272
         "time": 1637650581313
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.5.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F5F33269B7E1BEFDAB2EF08A6868ED677872CB20-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4272
         "time": 1637650581316
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.5.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "80E72A48A1EEA2B3991764F8B3E25A34BE708517-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4272
         "time": 1637650581420
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.5.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous C4C765467695AED1B8D496D273C9A95C4233CE4A-1"
         "pid": 4272
         "time": 1637650581449
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.6.0
updated 1 package and audited 1085 packages in 5.371s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:56:28.073Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:28.074Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:28.074Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:28.075Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:28.163Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:28.383Z appoptics:patching patched crypto 
2021-11-23T06:56:28.432Z appoptics:patching patched https 
2021-11-23T06:56:28.433Z appoptics:patching patched http 
2021-11-23T06:56:28.461Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:28.462Z appoptics:patching patched fs 
2021-11-23T06:56:28.469Z appoptics:patching patched pino 6.6.0
2021-11-23T06:56:28.473Z appoptics:debug starting runtimeMetrics


  pino v6.6.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v6.6.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4295
         "time": 1637650588499
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.6.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CCB79E9A748DCD80D5D7C41A043ECC42447DB18A-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4295
         "time": 1637650588507
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.6.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DD047099BAEF0EB8B067FC6071FF30C67999F338-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4295
         "time": 1637650588510
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.6.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "470B42E24E3BDFA44973280A38605C918EB69975-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4295
         "time": 1637650588513
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.6.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1322C2ECAF8A33ACFA82C539234C5C01678DAB12-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4295
         "time": 1637650588516
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.6.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4295
         "time": 1637650588519
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.6.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "20F1F94822BE417E1B8FFEDF81E5670453BEA5E4-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4295
         "time": 1637650588521
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.6.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E400142512E0FB68F68888409A8AFC9C8F793BFD-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4295
         "time": 1637650588522
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.6.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4295
         "time": 1637650588524
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.6.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C5CEE37237ED6F21A443C3D84C9E90D99D2C9BCF-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4295
         "time": 1637650588526
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.6.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4295
         "time": 1637650588527
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.6.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FDA2537939F386AF2D92F746DB8C8CFB44C61F1C-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4295
         "time": 1637650588529
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.6.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C1CA9FB25EB69C3C45C10E010FA84FC01D1AEE61-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4295
         "time": 1637650588633
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.6.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous FA0B58E2B8C3D626BAD723328F406702A66C2211-1"
         "pid": 4295
         "time": 1637650588661
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.6.1
updated 1 package and audited 1085 packages in 6.178s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:56:36.020Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:36.021Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:36.021Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:36.022Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:36.088Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:36.274Z appoptics:patching patched crypto 
2021-11-23T06:56:36.293Z appoptics:patching patched https 
2021-11-23T06:56:36.294Z appoptics:patching patched http 
2021-11-23T06:56:36.325Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:36.325Z appoptics:patching patched fs 
2021-11-23T06:56:36.331Z appoptics:patching patched pino 6.6.1
2021-11-23T06:56:36.335Z appoptics:debug starting runtimeMetrics


  pino v6.6.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (188ms)
  14 failing

  1) pino v6.6.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4318
         "time": 1637650596364
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.6.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3B8AA3708A2CB6A81905734ADECAF8AE1D1177EA-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4318
         "time": 1637650596372
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.6.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D7BA7F0169DA579D3D2910EA741377FEB16D1DD7-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4318
         "time": 1637650596375
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.6.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A09707F43B5674F9D689E0C805D4592BB5CF06C9-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4318
         "time": 1637650596378
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.6.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D963D167B6CE9AE0B59A0CA84D98406A0CB20A59-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4318
         "time": 1637650596382
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.6.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4318
         "time": 1637650596385
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.6.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A02EA99E6741B387A42B2CB2F202AC7DAD825372-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4318
         "time": 1637650596388
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.6.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "73FD89278CD0B0D914C41BDCFF3ECCC02BE85B4A-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4318
         "time": 1637650596389
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.6.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4318
         "time": 1637650596391
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.6.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FF46F8E3B6FA28FF62E7FBEAEBE0A6DD8AE64144-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4318
         "time": 1637650596392
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.6.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4318
         "time": 1637650596393
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.6.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "30787E10BB3596F9EF79B85EE75F91F8D1B531FA-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4318
         "time": 1637650596395
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.6.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4750350646B1D5CED1DCF349DA43444FB16A30E2-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4318
         "time": 1637650596499
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.6.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F8086956D0390ADB896FC974CB2CE20A4A06492C-1"
         "pid": 4318
         "time": 1637650596529
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.7.0
updated 2 packages and audited 1085 packages in 6.316s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:56:44.184Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:44.185Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:44.185Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:44.185Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:44.262Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:44.434Z appoptics:patching patched crypto 
2021-11-23T06:56:44.453Z appoptics:patching patched https 
2021-11-23T06:56:44.454Z appoptics:patching patched http 
2021-11-23T06:56:44.485Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:44.486Z appoptics:patching patched fs 
2021-11-23T06:56:44.493Z appoptics:patching patched pino 6.7.0
2021-11-23T06:56:44.497Z appoptics:debug starting runtimeMetrics


  pino v6.7.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.7.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4341
         "time": 1637650604521
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.7.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AC68A4781061FA3BA3E16C353606D8E41B5BCF03-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4341
         "time": 1637650604528
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.7.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "16AF8FFC831A805E5ED6B3B817B1CF559B1B2433-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4341
         "time": 1637650604531
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.7.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D05C5E2663858CEF2CA102D9A011B3A30002DEAD-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4341
         "time": 1637650604533
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.7.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D7AD71FEAD0D24DFB4FEB7AA76ED0190FB3794E0-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4341
         "time": 1637650604536
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.7.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4341
         "time": 1637650604539
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.7.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0320CD39E9EBDB4CD1BC4915B94CF5CEC5AEFCE8-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4341
         "time": 1637650604541
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.7.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "34C22D3080B5E9E5D6285A77C6EADB0CF84F97E1-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4341
         "time": 1637650604542
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.7.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4341
         "time": 1637650604544
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.7.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EBCB2FE66C8EAE18DFAEB95495EF59060121FDCB-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4341
         "time": 1637650604545
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.7.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4341
         "time": 1637650604546
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.7.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5CFB5B5490B46FEA7CBB9490874E015D7C474195-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4341
         "time": 1637650604548
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.7.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F09B173225C495ED67CCBB9A9D5B63DB1FEB0F13-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4341
         "time": 1637650604652
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.7.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 9731F7F30DB0EA87864CA1A704495952860FCE4C-1"
         "pid": 4341
         "time": 1637650604681
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.8.0
updated 1 package and audited 1085 packages in 5.493s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:56:51.373Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:51.373Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:51.374Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:51.376Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:51.461Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:51.637Z appoptics:patching patched crypto 
2021-11-23T06:56:51.657Z appoptics:patching patched https 
2021-11-23T06:56:51.658Z appoptics:patching patched http 
2021-11-23T06:56:51.690Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:51.690Z appoptics:patching patched fs 
2021-11-23T06:56:51.696Z appoptics:patching patched pino 6.8.0
2021-11-23T06:56:51.701Z appoptics:debug starting runtimeMetrics


  pino v6.8.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (185ms)
  14 failing

  1) pino v6.8.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4364
         "time": 1637650611729
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.8.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8103FC09CDFBFC49BD2C5C7918892C2916DC2E7B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4364
         "time": 1637650611737
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.8.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0A16DA75790D5F03172614F65A0563D9199F2D46-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4364
         "time": 1637650611740
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.8.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2FFB27DD8950BC25DE9DD36ECFA14C40B9EFC395-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4364
         "time": 1637650611743
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.8.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B165BEA2C5772C7A159AC63797E48D8F1D32D8AA-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4364
         "time": 1637650611746
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.8.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4364
         "time": 1637650611749
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.8.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D3FB0D25DD6CAACD4063C1FE700CCF9F3319AE72-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4364
         "time": 1637650611751
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.8.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "795EE5DFF992287C77D8E7E1B79966D66F27ECCA-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4364
         "time": 1637650611752
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.8.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4364
         "time": 1637650611754
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.8.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "64F59D9F5BFC8720D065241D1723C697764C6FF7-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4364
         "time": 1637650611755
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.8.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4364
         "time": 1637650611757
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.8.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A6ECAA6B61F40C47B600A8131DB2F35E50E3C606-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4364
         "time": 1637650611759
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.8.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BD61426E87BE1DBC60850AC454EF1FAD0326D55E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4364
         "time": 1637650611863
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.8.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous ADC4C5DC6FFE65EB3A115E91D295AA7BA8673EF1-1"
         "pid": 4364
         "time": 1637650611891
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.9.0
updated 1 package and audited 1085 packages in 6.068s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:56:59.066Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:56:59.067Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:56:59.067Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:56:59.072Z appoptics:debug using context provider: ace-context
2021-11-23T06:56:59.140Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:56:59.311Z appoptics:patching patched crypto 
2021-11-23T06:56:59.332Z appoptics:patching patched https 
2021-11-23T06:56:59.332Z appoptics:patching patched http 
2021-11-23T06:56:59.362Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:56:59.362Z appoptics:patching patched fs 
2021-11-23T06:56:59.368Z appoptics:patching patched pino 6.9.0
2021-11-23T06:56:59.372Z appoptics:debug starting runtimeMetrics


  pino v6.9.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v6.9.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4387
         "time": 1637650619398
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.9.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A2AEBC917B61B0E6DBD0A55D7729553AAEAACE9F-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4387
         "time": 1637650619406
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.9.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B969C3E922A9BB3AFFBCFAB3BDDF4ECFA27D6A5F-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4387
         "time": 1637650619410
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.9.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "426961CE0F06ACA6CBA406A212FAC20BF07676EF-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4387
         "time": 1637650619412
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.9.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7A6992DC46728B164242595717F88B865E8E3122-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4387
         "time": 1637650619415
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.9.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4387
         "time": 1637650619418
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.9.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "71FC9FC3F480984FEAB3580150B16AF023249F36-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4387
         "time": 1637650619420
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.9.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0683284979F5468850339712E021A6BD4822D34C-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4387
         "time": 1637650619421
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.9.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4387
         "time": 1637650619423
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.9.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "064017D91980A409D183814F6FDDF2C1C6073787-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4387
         "time": 1637650619424
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.9.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4387
         "time": 1637650619425
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.9.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A71FF9C9ED46C216D3DA3872F00ADA83708B8719-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4387
         "time": 1637650619427
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.9.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D20A27CFB63F544DC6241004ADD45B9CAC49FC88-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4387
         "time": 1637650619531
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.9.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 3F2A896B7EB7BE3043FE6CF7E8877167A19601B0-1"
         "pid": 4387
         "time": 1637650619559
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.10.0
updated 2 packages and audited 1085 packages in 5.534s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:57:06.259Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:06.260Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:06.260Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:06.262Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:06.403Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:06.614Z appoptics:patching patched crypto 
2021-11-23T06:57:06.657Z appoptics:patching patched https 
2021-11-23T06:57:06.658Z appoptics:patching patched http 
2021-11-23T06:57:06.685Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:06.686Z appoptics:patching patched fs 
2021-11-23T06:57:06.706Z appoptics:patching patched pino 6.10.0
2021-11-23T06:57:06.710Z appoptics:debug starting runtimeMetrics


  pino v6.10.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (190ms)
  14 failing

  1) pino v6.10.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4410
         "time": 1637650626748
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.10.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "752F99CA55E7364C7C3431853BB9687F4848291D-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4410
         "time": 1637650626755
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.10.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B84066CCF6B954BBE55C417E29DAA2005CBB139E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4410
         "time": 1637650626758
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.10.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "08BF7D8F99B688A740561022486C6700CEC9B2E6-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4410
         "time": 1637650626761
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.10.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1AEA9B88595A1DE4AA80EA91E44B23B2A3F4C4FA-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4410
         "time": 1637650626764
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.10.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4410
         "time": 1637650626767
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.10.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "64120D22FCF9C25D1781BF2E0B37F0AE89137578-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4410
         "time": 1637650626771
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.10.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BF6580D91829DEB466B43951C9D678C27839F783-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4410
         "time": 1637650626773
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.10.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4410
         "time": 1637650626774
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.10.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "84E6F02C42218589B54790D29888ACCA3E683D4D-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4410
         "time": 1637650626775
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.10.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4410
         "time": 1637650626777
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.10.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1819C0E2F9594CD0603AB67C846F161F1A3D6894-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4410
         "time": 1637650626779
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.10.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1D84BB57AC319148C4CFA794A5F27654B3EB5A0B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4410
         "time": 1637650626884
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.10.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 12F7F526406167ABB643EDFF77E927B2700FD15E-1"
         "pid": 4410
         "time": 1637650626913
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.0
updated 1 package and audited 1085 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:57:14.164Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:14.165Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:14.165Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:14.165Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:14.236Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:14.409Z appoptics:patching patched crypto 
2021-11-23T06:57:14.429Z appoptics:patching patched https 
2021-11-23T06:57:14.430Z appoptics:patching patched http 
2021-11-23T06:57:14.461Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:14.462Z appoptics:patching patched fs 
2021-11-23T06:57:14.467Z appoptics:patching patched pino 6.11.0
2021-11-23T06:57:14.472Z appoptics:debug starting runtimeMetrics


  pino v6.11.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (207ms)
  14 failing

  1) pino v6.11.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4433
         "time": 1637650634498
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.11.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C8D0979ADBC2CDA67EFE0366DB072C584804AC74-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4433
         "time": 1637650634506
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.11.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "AF04CF7063780AFBC056875297AD8532535513CB-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4433
         "time": 1637650634509
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.11.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D73599616C9908C0FEA54C4FDAC058CBBCB2F1D5-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4433
         "time": 1637650634511
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.11.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B5596AA3D2B8102377F4B448C47EC00742C428BD-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4433
         "time": 1637650634515
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.11.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4433
         "time": 1637650634518
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A31CBA6A1EBE54464F49B046655E196A6176B251-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4433
         "time": 1637650634523
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "59A921C9708C9637A2F0E544F8604D4CCD5F948B-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4433
         "time": 1637650634525
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4433
         "time": 1637650634526
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6D8544438FBE0AC5169667D9E00F136F9DE1257E-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4433
         "time": 1637650634528
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4433
         "time": 1637650634532
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EA38DC6B9E284C3D763ABF8F1F4E1CBBE3067776-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4433
         "time": 1637650634534
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.11.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "31DC21842C571C5B5B75E156EFAE7787558DBD44-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4433
         "time": 1637650634655
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.11.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous D5581E5EB0DB4760818357A53EA2B738F777AEBE-1"
         "pid": 4433
         "time": 1637650634684
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.1
updated 1 package and audited 1085 packages in 5.97s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:57:21.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:21.887Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:21.887Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:21.889Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:21.971Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:22.157Z appoptics:patching patched crypto 
2021-11-23T06:57:22.181Z appoptics:patching patched https 
2021-11-23T06:57:22.181Z appoptics:patching patched http 
2021-11-23T06:57:22.226Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:22.226Z appoptics:patching patched fs 
2021-11-23T06:57:22.235Z appoptics:patching patched pino 6.11.1
2021-11-23T06:57:22.240Z appoptics:debug starting runtimeMetrics


  pino v6.11.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (190ms)
  14 failing

  1) pino v6.11.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4456
         "time": 1637650642273
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.11.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A49B6091362B80C26171DCA164A273DFD8D95781-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4456
         "time": 1637650642281
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.11.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0DD775264418D64E9FD64F2DD5CF2F25390A8709-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4456
         "time": 1637650642284
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.11.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3E4A57532FFEE3697A28DFB1A3D97BCBCE5FD99A-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4456
         "time": 1637650642287
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.11.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9804278641E0D1C230F8BA01ECD3516199205E6B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4456
         "time": 1637650642289
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.11.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4456
         "time": 1637650642294
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E38C6FB636E37BF5406CC533763C17CCF2B9FA14-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4456
         "time": 1637650642296
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "27CCD769DEA07D3B195299D23C3874577415C1B3-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4456
         "time": 1637650642298
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4456
         "time": 1637650642300
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4133E66274E6480588D16E1016083875B1F5C0CA-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4456
         "time": 1637650642301
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4456
         "time": 1637650642303
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "70C29C7BE12262B4BC8028B9DD0AED5986B15DBB-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4456
         "time": 1637650642305
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.11.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C22FB38471FFC9D7A2F1CD0190EB420D7662E371-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4456
         "time": 1637650642409
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.11.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 1189655509E52E88F8BB55DD230D7441B1AB0C8B-1"
         "pid": 4456
         "time": 1637650642437
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.2
updated 2 packages and audited 1085 packages in 5.516s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:57:29.095Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:29.096Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:29.096Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:29.099Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:29.188Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:29.379Z appoptics:patching patched crypto 
2021-11-23T06:57:29.403Z appoptics:patching patched https 
2021-11-23T06:57:29.404Z appoptics:patching patched http 
2021-11-23T06:57:29.436Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:29.437Z appoptics:patching patched fs 
2021-11-23T06:57:29.443Z appoptics:patching patched pino 6.11.2
2021-11-23T06:57:29.447Z appoptics:debug starting runtimeMetrics


  pino v6.11.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (184ms)
  14 failing

  1) pino v6.11.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4479
         "time": 1637650649474
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.11.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "BAF66624EF060664F466369093E4CB5B9C1200BF-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4479
         "time": 1637650649482
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.11.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "31645E884E2C8F6BB0F7A910A995797B124A2C2C-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4479
         "time": 1637650649485
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.11.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "ABAAEDD28E33D5F197B1556E22CBB720F9E75DCB-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4479
         "time": 1637650649488
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.11.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DA551A9F4D9D3597F9551B38A133008954406D39-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4479
         "time": 1637650649491
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.11.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4479
         "time": 1637650649494
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D7E92DEE509D211E67AAB131C9A05DEB2DB006ED-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4479
         "time": 1637650649496
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "09A298F8716AF830D2EA1A646033E1730609C1A0-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4479
         "time": 1637650649497
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4479
         "time": 1637650649499
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE5BCAA4F6FA0D8AECD2B22C7FB005332E135EDE-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4479
         "time": 1637650649500
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4479
         "time": 1637650649501
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3C1DB0BF44E593A0523C6F32C98AFCCB787BC837-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4479
         "time": 1637650649503
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.11.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "402FEF21B96840A65AE8463057E8A9A8740A0F0D-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4479
         "time": 1637650649608
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.11.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 33558AEE0D66E61FB75184AC2FE300D530C1374E-1"
         "pid": 4479
         "time": 1637650649637
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.11.3
updated 2 packages and audited 1085 packages in 7.177s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:57:37.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:37.953Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:37.953Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:37.953Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:38.027Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:38.208Z appoptics:patching patched crypto 
2021-11-23T06:57:38.235Z appoptics:patching patched https 
2021-11-23T06:57:38.236Z appoptics:patching patched http 
2021-11-23T06:57:38.269Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:38.269Z appoptics:patching patched fs 
2021-11-23T06:57:38.277Z appoptics:patching patched pino 6.11.3
2021-11-23T06:57:38.282Z appoptics:debug starting runtimeMetrics


  pino v6.11.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (187ms)
  14 failing

  1) pino v6.11.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4502
         "time": 1637650658312
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.11.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CED9460A6F08653301C78BD26E8AB16947E4F4CF-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4502
         "time": 1637650658320
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.11.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B21373F968B214A1698B4C1353DAD00025C41A07-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4502
         "time": 1637650658323
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.11.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A5BE4C2E283B36A974AFDBD7D29169371831E82C-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4502
         "time": 1637650658325
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.11.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6C64A046ACB450035AF811914802F2890F2C7E0C-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4502
         "time": 1637650658328
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.11.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4502
         "time": 1637650658331
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.11.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DBE160CDCE6AE8F823C95A9347B84FB3945DC831-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4502
         "time": 1637650658334
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.11.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A527C7A4BD1597065858A65E7FD5D01167393882-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4502
         "time": 1637650658335
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.11.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4502
         "time": 1637650658337
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.11.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D29118C29DDA9D2CD94604E81181F9A39ECC7BFA-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4502
         "time": 1637650658339
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.11.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4502
         "time": 1637650658340
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.11.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1A96FAE1E9CACDC271CB8078F9353540B1F9E205-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4502
         "time": 1637650658342
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.11.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E5CFFA2CE33CB70D87C174FAC20C545BEA71AAA1-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4502
         "time": 1637650658446
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.11.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous B2ADCA706F80AFB33BDE0B7E4728C2C85112AB06-1"
         "pid": 4502
         "time": 1637650658475
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.12.0
updated 1 package and audited 1085 packages in 6.004s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:57:45.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:45.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:45.929Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:45.929Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:46.015Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:46.254Z appoptics:patching patched crypto 
2021-11-23T06:57:46.309Z appoptics:patching patched https 
2021-11-23T06:57:46.310Z appoptics:patching patched http 
2021-11-23T06:57:46.342Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:46.342Z appoptics:patching patched fs 
2021-11-23T06:57:46.352Z appoptics:patching patched pino 6.12.0
2021-11-23T06:57:46.355Z appoptics:debug starting runtimeMetrics


  pino v6.12.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (200ms)
  14 failing

  1) pino v6.12.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4525
         "time": 1637650666396
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.12.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DF16F389B10123D09CBBA6DA8188372EFD8467F0-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4525
         "time": 1637650666406
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.12.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5B86CFC89F7A6DE86AA708967D1DA426F3EE1F19-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4525
         "time": 1637650666410
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.12.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B22F10ADD6C6CF52170FB5BAC2613D5ABF92C59E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4525
         "time": 1637650666413
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.12.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "524F40733907780D262FE3538C362E6AF1215DD4-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4525
         "time": 1637650666417
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.12.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4525
         "time": 1637650666422
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.12.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "11A8604F3F8F598B8F46EE967F52ACD324BE1DA3-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4525
         "time": 1637650666425
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.12.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1201A4EB5536AA67C66BAFF47BE96A8B1080BA36-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4525
         "time": 1637650666427
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.12.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4525
         "time": 1637650666429
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.12.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "22C986FF2DD0CB20A713AB2238825D72BAAEEDCB-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4525
         "time": 1637650666430
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.12.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4525
         "time": 1637650666432
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.12.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "03F449C128049D3BDB7755F090914D33BA08F2D3-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4525
         "time": 1637650666434
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.12.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CF533C29C534D3F12D6E7FDAB651F56A691776AE-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4525
         "time": 1637650666538
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.12.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous F9CD51DE17A5DF4E1351B9951889774AEBC8A966-1"
         "pid": 4525
         "time": 1637650666565
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.0
updated 1 package and audited 1085 packages in 5.388s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:57:53.094Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:57:53.095Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:57:53.095Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:57:53.097Z appoptics:debug using context provider: ace-context
2021-11-23T06:57:53.165Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:57:53.335Z appoptics:patching patched crypto 
2021-11-23T06:57:53.355Z appoptics:patching patched https 
2021-11-23T06:57:53.355Z appoptics:patching patched http 
2021-11-23T06:57:53.385Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:57:53.385Z appoptics:patching patched fs 
2021-11-23T06:57:53.391Z appoptics:patching patched pino 6.13.0
2021-11-23T06:57:53.396Z appoptics:debug starting runtimeMetrics


  pino v6.13.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v6.13.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4548
         "time": 1637650673423
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.13.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CA381DF4BB2F6B6AD89DA911B89AB1B29FC15786-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4548
         "time": 1637650673430
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.13.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8C0B597DDFA9136A0CF41CBCB86A4A0C71679323-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4548
         "time": 1637650673433
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.13.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5E524D0D26E2598665ED4F6066DAF344E7328601-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4548
         "time": 1637650673436
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.13.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "907D6CF2DF72E697C1605EB5B92A4895930316D6-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4548
         "time": 1637650673439
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.13.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4548
         "time": 1637650673442
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "369B4B9538358AAF376532B42D71FCD9B56860A3-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4548
         "time": 1637650673443
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D33E7E6E1F4B6A67190549D3FFF47F6EF558B9D6-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4548
         "time": 1637650673445
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4548
         "time": 1637650673446
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6191E6ED13D25A5A0461C293C6029DB8D5B57667-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4548
         "time": 1637650673447
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4548
         "time": 1637650673449
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "128372ABB1DD287D0AD2DEE39E39504C13731F97-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4548
         "time": 1637650673451
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.13.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E9E53130374CD47E28B148042707D1F1230B387C-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4548
         "time": 1637650673554
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.13.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 2E0715B8D24E6FED29EF268406F7412580B17A7E-1"
         "pid": 4548
         "time": 1637650673582
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.1
added 1 package from 1 contributor, updated 1 package and audited 1086 packages in 6.178s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:58:00.908Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:00.909Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:00.909Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:00.910Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:00.972Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:01.153Z appoptics:patching patched crypto 
2021-11-23T06:58:01.173Z appoptics:patching patched https 
2021-11-23T06:58:01.174Z appoptics:patching patched http 
2021-11-23T06:58:01.205Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:01.205Z appoptics:patching patched fs 
2021-11-23T06:58:01.212Z appoptics:patching patched pino 6.13.1
2021-11-23T06:58:01.216Z appoptics:debug starting runtimeMetrics


  pino v6.13.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.13.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4571
         "time": 1637650681242
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.13.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F75EA39A9B9350722E06C26B7D188A92A836C538-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4571
         "time": 1637650681249
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.13.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A997880F6C6E89C049692482F9F932CB3E25568B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4571
         "time": 1637650681252
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.13.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2470FDF5A6E4EEEA19348F45482A23159A96BC99-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4571
         "time": 1637650681254
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.13.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C13E21DC17F8AF98B1B04BBD876BF02AA5168471-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4571
         "time": 1637650681258
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.13.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4571
         "time": 1637650681260
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9D1385036F7C60DDEEE1395BC8DB0EB3E8A3D364-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4571
         "time": 1637650681262
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "EBB502C6BD09E44F56E7AA36217FE1B61A36192D-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4571
         "time": 1637650681263
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4571
         "time": 1637650681265
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "88AA468597DF84E35208C981325B87E56CACB68F-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4571
         "time": 1637650681266
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4571
         "time": 1637650681268
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1AED6EA8BD5BAB12BBCB56D5C411B05B76525A5F-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4571
         "time": 1637650681269
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.13.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "65F61A46787E49C103A2B0C3B751E04AB7464976-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4571
         "time": 1637650681373
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.13.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous BE4331C75F83BC89BC3EA580FAC62668993B2E08-1"
         "pid": 4571
         "time": 1637650681401
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.2
updated 1 package and audited 1086 packages in 5.536s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:58:08.212Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:08.213Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:08.213Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:08.213Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:08.276Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:08.445Z appoptics:patching patched crypto 
2021-11-23T06:58:08.465Z appoptics:patching patched https 
2021-11-23T06:58:08.466Z appoptics:patching patched http 
2021-11-23T06:58:08.499Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:08.499Z appoptics:patching patched fs 
2021-11-23T06:58:08.506Z appoptics:patching patched pino 6.13.2
2021-11-23T06:58:08.510Z appoptics:debug starting runtimeMetrics


  pino v6.13.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (179ms)
  14 failing

  1) pino v6.13.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4594
         "time": 1637650688536
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.13.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "149D119EDC16D9AEC70846B644F53D9484EDDBA4-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4594
         "time": 1637650688543
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.13.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "19829A6D8D4E5A08ACEAF9527903CC0FBA18439C-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4594
         "time": 1637650688546
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.13.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "63054C9EB9464C19048317639CC2229026AB73CB-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4594
         "time": 1637650688548
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.13.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "65AF299901BF815BA82E1B921EA55D81065A7AB5-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4594
         "time": 1637650688551
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.13.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4594
         "time": 1637650688554
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4F7F9F7C6452C29802C2C10BB0445892D511046E-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4594
         "time": 1637650688555
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "66BBC19D2842A2E1E0D726FAE91625C76486DA98-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4594
         "time": 1637650688557
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4594
         "time": 1637650688558
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "84EF223C924B752D239263F3F28CE6D15E54D61C-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4594
         "time": 1637650688560
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4594
         "time": 1637650688561
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "6F3E997C5B69867FF92390C18BFC81EB94885C9B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4594
         "time": 1637650688563
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.13.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "225333D0AF342A0946D8B70144FEFACA9B5228FB-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4594
         "time": 1637650688666
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.13.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 6123826954CCAEF667219EF727DC9439F89FA9A3-1"
         "pid": 4594
         "time": 1637650688694
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@6.13.3
updated 1 package and audited 1086 packages in 5.98s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:58:15.850Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:15.850Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:15.850Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:15.858Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:15.931Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:16.114Z appoptics:patching patched crypto 
2021-11-23T06:58:16.136Z appoptics:patching patched https 
2021-11-23T06:58:16.136Z appoptics:patching patched http 
2021-11-23T06:58:16.171Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:16.172Z appoptics:patching patched fs 
2021-11-23T06:58:16.179Z appoptics:patching patched pino 6.13.3
2021-11-23T06:58:16.184Z appoptics:debug starting runtimeMetrics


  pino v6.13.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (185ms)
  14 failing

  1) pino v6.13.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4617
         "time": 1637650696211
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v6.13.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "065334E06517348F1BAD9FA3DE4B68E6EECDE0E4-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4617
         "time": 1637650696219
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v6.13.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "07B322E179D2AD0BF596A4940B27DE7B491EF31E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4617
         "time": 1637650696223
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v6.13.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "13E1B208CEED26EA4F3BACE0B96FC6BBE73D57A0-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4617
         "time": 1637650696226
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v6.13.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "34F7EDF103D61B751A36C5B650E9B696E9EF84BB-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4617
         "time": 1637650696229
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v6.13.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4617
         "time": 1637650696231
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v6.13.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0E4BF5A470D7796BC00D5333D92453D5FEBF6155-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4617
         "time": 1637650696233
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v6.13.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D077460844B3A35F859D9DBD362329362F03E829-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4617
         "time": 1637650696235
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v6.13.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4617
         "time": 1637650696237
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v6.13.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DDBBE09F92238B60B5EBF3C62E125E8C29C1954B-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4617
         "time": 1637650696238
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v6.13.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4617
         "time": 1637650696239
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v6.13.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FEE5769B08229537EAE5799705A38D91F49DEBE3-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4617
         "time": 1637650696243
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v6.13.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "80702D9FB1AF283F792B53920C62A7CBD950A069-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4617
         "time": 1637650696347
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v6.13.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous ECF4B4F7A5E0BDFE88E436107189869640669176-1"
         "pid": 4617
         "time": 1637650696375
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.0
added 6 packages from 4 contributors, removed 2 packages, updated 3 packages and audited 1090 packages in 6.816s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:58:24.274Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:24.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:24.275Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:24.277Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:24.339Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:24.511Z appoptics:patching patched crypto 
2021-11-23T06:58:24.532Z appoptics:patching patched https 
2021-11-23T06:58:24.533Z appoptics:patching patched http 
2021-11-23T06:58:24.569Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:24.569Z appoptics:patching patched fs 
2021-11-23T06:58:24.578Z appoptics:patching patched pino 7.0.0
2021-11-23T06:58:24.582Z appoptics:debug starting runtimeMetrics


  pino v7.0.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v7.0.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4640
         "time": 1637650704609
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3CECA16CEF8CDFAC38820FB001CA62B8666191BB-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4640
         "time": 1637650704616
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E91B376B3CCF8C96A95271B4C52009D89AD552FB-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4640
         "time": 1637650704619
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "19A392DD57968471A05CFC84DEA925D26414CFA9-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4640
         "time": 1637650704622
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F11D3803215AA91B65539CA1A6523280EE10D1FA-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4640
         "time": 1637650704625
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4640
         "time": 1637650704628
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0F87E705FA81650DA568AE15DD4C8EED863AD271-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4640
         "time": 1637650704630
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3ED9AAA1F49A84101F703F4DD121E8A26F4BCADD-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4640
         "time": 1637650704632
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4640
         "time": 1637650704633
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2433D8C64918331F02C100F735A384F8286021D2-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4640
         "time": 1637650704635
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4640
         "time": 1637650704636
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "279DE133946699B976B0D80ABFFCAA0857781577-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4640
         "time": 1637650704638
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1B074531E49977E2D7E82124409167B6D922A7E6-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4640
         "time": 1637650704742
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 556FAAA80C0FD1022AB6177623FA4B0EC1B387C4-1"
         "pid": 4640
         "time": 1637650704770
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.1
updated 1 package and audited 1090 packages in 5.547s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:58:31.420Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:31.421Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:31.421Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:31.423Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:31.489Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:31.668Z appoptics:patching patched crypto 
2021-11-23T06:58:31.687Z appoptics:patching patched https 
2021-11-23T06:58:31.688Z appoptics:patching patched http 
2021-11-23T06:58:31.723Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:31.724Z appoptics:patching patched fs 
2021-11-23T06:58:31.732Z appoptics:patching patched pino 7.0.1
2021-11-23T06:58:31.737Z appoptics:debug starting runtimeMetrics


  pino v7.0.1
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v7.0.1
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4663
         "time": 1637650711762
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.1
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B8B893CEEC8A7511614FA61610420FD3B88249A0-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4663
         "time": 1637650711769
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.1
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "84B5C9E3D37970B2444F9289F0293246CA229476-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4663
         "time": 1637650711772
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.1
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DF1C3AACCA2DEBE5D2104673E8D3E78E0393CDAC-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4663
         "time": 1637650711775
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.1
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "84950C4B08B6031BE2D0238D0AED21C4D874CAE8-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4663
         "time": 1637650711777
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.1
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4663
         "time": 1637650711781
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.1
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "696E2A8DF0BFC6A0748C1E1D4DF9F8093AA8B5FC-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4663
         "time": 1637650711782
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.1
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "98673EB6405DC8A5AD77DD63945E36791B7014B4-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4663
         "time": 1637650711785
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.1
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4663
         "time": 1637650711787
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.1
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "482A2DE157D31AADCA601E26B673215D0A93E603-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4663
         "time": 1637650711789
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.1
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4663
         "time": 1637650711790
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.1
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "129BF388028F5D0DCE1BB93672B4397E832DE578-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4663
         "time": 1637650711792
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.1
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5199721EA093A243D6AA386493D15999C7147D4C-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4663
         "time": 1637650711896
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.1
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous A08136F1EE424C1A092E4842597371F6FF1ADB87-1"
         "pid": 4663
         "time": 1637650711924
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.2
updated 1 package and audited 1090 packages in 7.464s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:58:40.572Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:40.573Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:40.573Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:40.575Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:40.640Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:40.810Z appoptics:patching patched crypto 
2021-11-23T06:58:40.827Z appoptics:patching patched https 
2021-11-23T06:58:40.828Z appoptics:patching patched http 
2021-11-23T06:58:40.861Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:40.861Z appoptics:patching patched fs 
2021-11-23T06:58:40.869Z appoptics:patching patched pino 7.0.2
2021-11-23T06:58:40.873Z appoptics:debug starting runtimeMetrics


  pino v7.0.2
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v7.0.2
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4686
         "time": 1637650720898
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.2
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5275F2511CEE4142A709AB415E8C7784D7E7A41E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4686
         "time": 1637650720906
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.2
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C2CF29B6257959EB3DC4F6232CE2C0BAD84EFD27-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4686
         "time": 1637650720908
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.2
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "07D9C1E717D7DC1D0FF1CDA6EB858DFB70C32380-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4686
         "time": 1637650720911
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.2
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "64BC0398121F024A7053B2C379CE6DDC58C23B52-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4686
         "time": 1637650720914
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.2
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4686
         "time": 1637650720917
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.2
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DFA4B45FAA90C3D467DF9F3775518F9E1A5FCDCC-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4686
         "time": 1637650720918
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.2
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "60734AF8EBB364CDDCBD23A0E2963D4D82E0CA27-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4686
         "time": 1637650720920
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.2
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4686
         "time": 1637650720921
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.2
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7B2ADAFD9DADF7F627C10F187D253CFFB035D94B-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4686
         "time": 1637650720923
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.2
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4686
         "time": 1637650720924
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.2
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1B849285D100F433923B542216BF36652EBC488C-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4686
         "time": 1637650720926
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.2
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "CF17FEBBA763E2C0B13CE74525B8DDEA29014981-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4686
         "time": 1637650721031
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.2
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 3C4A4524EF60EA7D9AAE1C84417C32E44C4BBEC5-1"
         "pid": 4686
         "time": 1637650721060
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.3
updated 1 package and audited 1090 packages in 5.707s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:58:48.288Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:48.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:48.289Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:48.291Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:48.356Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:48.624Z appoptics:patching patched crypto 
2021-11-23T06:58:48.664Z appoptics:patching patched https 
2021-11-23T06:58:48.665Z appoptics:patching patched http 
2021-11-23T06:58:48.716Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:48.716Z appoptics:patching patched fs 
2021-11-23T06:58:48.727Z appoptics:patching patched pino 7.0.3
2021-11-23T06:58:48.732Z appoptics:debug starting runtimeMetrics


  pino v7.0.3
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (186ms)
  14 failing

  1) pino v7.0.3
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4709
         "time": 1637650728764
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.3
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1511AE8621DA8ECC08A8814093F7D37EFA820D9B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4709
         "time": 1637650728772
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.3
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "39F30BA050AE9886A46333ACBB5B957F2BB8ED5E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4709
         "time": 1637650728775
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.3
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "7DE8909A827C78BB0BA74C959A70B294E6A5E7AD-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4709
         "time": 1637650728778
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.3
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "255701710BE56E307A08EC77A78A51C81664EE47-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4709
         "time": 1637650728781
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.3
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4709
         "time": 1637650728783
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.3
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "26D377913FACD087F856C95FF21F40EFC6E2ACAF-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4709
         "time": 1637650728786
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.3
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "028B60DE96FA073CD1A9159FB9C446B1B17CC4E4-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4709
         "time": 1637650728788
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.3
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4709
         "time": 1637650728789
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.3
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "264F2011011BF64A6F07EDB41514133F4E9F759A-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4709
         "time": 1637650728791
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.3
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4709
         "time": 1637650728792
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.3
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D255A835E6F499846767B4AB5364BA1421CE8824-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4709
         "time": 1637650728794
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.3
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "27ABA60B0EF2E0CB3F04C9DFE04C3D6FCFFBB7AE-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4709
         "time": 1637650728898
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.3
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 7B4DEF2178CFC33E41FE66B7BF7816ED3A26C9B6-1"
         "pid": 4709
         "time": 1637650728926
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.4
updated 1 package and audited 1090 packages in 6.124s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:58:56.232Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:58:56.232Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:58:56.232Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:58:56.235Z appoptics:debug using context provider: ace-context
2021-11-23T06:58:56.302Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:58:56.515Z appoptics:patching patched crypto 
2021-11-23T06:58:56.533Z appoptics:patching patched https 
2021-11-23T06:58:56.533Z appoptics:patching patched http 
2021-11-23T06:58:56.569Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:58:56.569Z appoptics:patching patched fs 
2021-11-23T06:58:56.578Z appoptics:patching patched pino 7.0.4
2021-11-23T06:58:56.583Z appoptics:debug starting runtimeMetrics


  pino v7.0.4
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (180ms)
  14 failing

  1) pino v7.0.4
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4732
         "time": 1637650736609
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.4
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1786827FCAD721258531D6353BE1FDB5E75832B9-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4732
         "time": 1637650736616
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.4
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D79FC66FDB904A4C402B474513F05D65308B8FFB-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4732
         "time": 1637650736619
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.4
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "9993D589881E8CFD7CEE1B43B8460579E5AAA6A9-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4732
         "time": 1637650736622
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.4
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2ED215BD0362067C7ADBADCD810A63A88930348E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4732
         "time": 1637650736625
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.4
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4732
         "time": 1637650736628
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.4
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FB8571D6BE492D1A64B1FF02E5EC51433E07E9F3-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4732
         "time": 1637650736629
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.4
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "640ABF55F453EFF02213CC7833C56A83D6FD20DA-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4732
         "time": 1637650736631
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.4
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4732
         "time": 1637650736632
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.4
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1CE63EE8DC1208EE955D7A9CAA815A16E18C1B31-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4732
         "time": 1637650736634
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.4
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4732
         "time": 1637650736635
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.4
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "99B8E5A6A2C38B023F29A5AC84D8BD967315521D-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4732
         "time": 1637650736637
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.4
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "03D4D5D75B196BB6FD560F9CA021BB997A8AADB2-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4732
         "time": 1637650736741
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.4
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 476D5C1BB277D5D1C1466480DB4DBCA19BEF0D28-1"
         "pid": 4732
         "time": 1637650736769
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.0.5
updated 1 package and audited 1090 packages in 6.387s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:59:04.269Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:04.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:04.270Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:04.271Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:04.343Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:04.535Z appoptics:patching patched crypto 
2021-11-23T06:59:04.556Z appoptics:patching patched https 
2021-11-23T06:59:04.556Z appoptics:patching patched http 
2021-11-23T06:59:04.590Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:04.590Z appoptics:patching patched fs 
2021-11-23T06:59:04.600Z appoptics:patching patched pino 7.0.5
2021-11-23T06:59:04.605Z appoptics:debug starting runtimeMetrics


  pino v7.0.5
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (183ms)
  14 failing

  1) pino v7.0.5
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4755
         "time": 1637650744632
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.0.5
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5EA407CDF326726340F2858401E85FBEAEDDFD6F-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4755
         "time": 1637650744640
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.0.5
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "D5E2027CC1CB1F0CFF805B04CC5DF9F39D6AAF90-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4755
         "time": 1637650744643
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.0.5
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "B425AFB1D2106F012B19D179937E2118DC063451-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4755
         "time": 1637650744646
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.0.5
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "2C8A2D1D0895107D208F1B17C7A2DDE307015460-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4755
         "time": 1637650744648
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.0.5
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4755
         "time": 1637650744651
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.0.5
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "522DABB0773A1577B2B2AE2EB60E68C60C557757-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4755
         "time": 1637650744653
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.0.5
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1A664D1DD430B1AC561866B202AD2B625C250AD5-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4755
         "time": 1637650744655
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.0.5
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4755
         "time": 1637650744656
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.0.5
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E08B067F0EBD77EE1BFF27C0B254F5FCB6C96489-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4755
         "time": 1637650744658
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.0.5
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4755
         "time": 1637650744659
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.0.5
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "63F16EB7FB71D6854CB9309C80C230C2B2B4C62A-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4755
         "time": 1637650744661
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.0.5
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E54EED8796C248AD7F400519A5CAC663F469DD28-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4755
         "time": 1637650744765
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.0.5
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 5FDABEE222F9A39FC67EEFC9B8C13CA02E61637A-1"
         "pid": 4755
         "time": 1637650744793
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.1.0
added 2 packages from 2 contributors, updated 3 packages and audited 1092 packages in 6.206s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:59:12.683Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:12.686Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:12.686Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:12.687Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:12.831Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:13.208Z appoptics:patching patched crypto 
2021-11-23T06:59:13.353Z appoptics:patching patched https 
2021-11-23T06:59:13.354Z appoptics:patching patched http 
2021-11-23T06:59:13.417Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:13.417Z appoptics:patching patched fs 
2021-11-23T06:59:13.431Z appoptics:patching patched pino 7.1.0
2021-11-23T06:59:13.437Z appoptics:debug starting runtimeMetrics


  pino v7.1.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (208ms)
  14 failing

  1) pino v7.1.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4778
         "time": 1637650753479
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.1.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5AA0C0A691AD10B1F815DC73DF737F768232BE03-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4778
         "time": 1637650753489
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.1.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C19BE049A753820B3FD421ACD767BC8A7F0AF005-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4778
         "time": 1637650753494
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.1.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E236233E74EDD331D1E80C62EED908FBA0A916A4-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4778
         "time": 1637650753498
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.1.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "67010A95C6CAD304491D270BE0F9E25677BE586F-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4778
         "time": 1637650753502
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.1.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4778
         "time": 1637650753505
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.1.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8D7B729FB2ABD79BFD6697B0FA0D8278547FC058-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4778
         "time": 1637650753507
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.1.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C4D8E958D915A9D8C23121D55839EF1C028A1F14-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4778
         "time": 1637650753509
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.1.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4778
         "time": 1637650753511
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.1.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "84DB8177BB876AF64ADBEAD8B39269DAE5B007CA-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4778
         "time": 1637650753514
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.1.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4778
         "time": 1637650753516
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.1.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FED40877EBA1E3FA0EAF908809BFECA4FB4967AE-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4778
         "time": 1637650753519
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.1.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3FDA1E8385CBC85033249E6B52221962836DCFAF-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4778
         "time": 1637650753624
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.1.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 83F1D08A35A3062F5EB2E3E34D18CE998699F119-1"
         "pid": 4778
         "time": 1637650753652
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.2.0
added 1 package from 2 contributors, updated 2 packages and audited 1093 packages in 5.588s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:59:20.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:20.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:20.457Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:20.458Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:20.527Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:20.706Z appoptics:patching patched crypto 
2021-11-23T06:59:20.725Z appoptics:patching patched https 
2021-11-23T06:59:20.725Z appoptics:patching patched http 
2021-11-23T06:59:20.761Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:20.761Z appoptics:patching patched fs 
2021-11-23T06:59:20.771Z appoptics:patching patched pino 7.2.0
2021-11-23T06:59:20.776Z appoptics:debug starting runtimeMetrics


  pino v7.2.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (182ms)
  14 failing

  1) pino v7.2.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4801
         "time": 1637650760803
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.2.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3C7A89C0677D27CFB8A7D4E985BBC6783296D195-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4801
         "time": 1637650760812
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.2.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C5FDDC53117A0651626BF514355E4A5A6961C371-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4801
         "time": 1637650760815
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.2.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "914FB9F5A344AEC73A815E1F77650EC6981624B0-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4801
         "time": 1637650760817
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.2.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE608E403C11311F24103FB73511E255879C0A1F-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4801
         "time": 1637650760820
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.2.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4801
         "time": 1637650760823
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.2.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "78FEE7A3067E8A4382A62CCE1FD31DE0AEE912BF-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4801
         "time": 1637650760824
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.2.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "97BF0B1D65A26F0E44998E4F4F1FE2BD9F715827-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4801
         "time": 1637650760826
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.2.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4801
         "time": 1637650760828
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.2.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "3F85F69C56C16596E5F31E1D454ED8F3C35CBB87-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4801
         "time": 1637650760829
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.2.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4801
         "time": 1637650760830
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.2.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "4A4ABBB6675E046F24E418EAD09866AB729D554B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4801
         "time": 1637650760832
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.2.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "DAD66F3C4044B2304CD8C52DEF578DCA401649E0-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4801
         "time": 1637650760936
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.2.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 1C225A49BC609E7F54A2A3F2BE6E20C76E1D652F-1"
         "pid": 4801
         "time": 1637650760965
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.3.0
updated 1 package and audited 1093 packages in 5.882s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:59:27.962Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:27.962Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:27.962Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:27.964Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:28.029Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:28.222Z appoptics:patching patched crypto 
2021-11-23T06:59:28.241Z appoptics:patching patched https 
2021-11-23T06:59:28.241Z appoptics:patching patched http 
2021-11-23T06:59:28.273Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:28.273Z appoptics:patching patched fs 
2021-11-23T06:59:28.283Z appoptics:patching patched pino 7.3.0
2021-11-23T06:59:28.287Z appoptics:debug starting runtimeMetrics


  pino v7.3.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (187ms)
  14 failing

  1) pino v7.3.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4824
         "time": 1637650768315
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.3.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "158D6E719E2EC0F943951846D79F0F02A0A2B7A8-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4824
         "time": 1637650768322
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.3.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "F1335C8F2D8E274A7F9D9A42CD69EC7E12C664F5-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4824
         "time": 1637650768325
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.3.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "A68690A1B9D617838849DAC51B32A9F65E09DE87-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4824
         "time": 1637650768329
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.3.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "44B62AB38F9269DE5B6EBD08755C6ED7E6D9167B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4824
         "time": 1637650768332
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.3.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4824
         "time": 1637650768335
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.3.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "84276C47B9C64D08E86077118CD0A9AFC8B79248-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4824
         "time": 1637650768337
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.3.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "50CCD96F47A9C1630CB3410FC05D4FD4F03DDFD9-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4824
         "time": 1637650768338
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.3.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4824
         "time": 1637650768340
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.3.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "1A28E2DFFE791580E741398BD7A17DD0DD42CD07-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4824
         "time": 1637650768341
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.3.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4824
         "time": 1637650768343
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.3.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "19A9C52C887258E96AD7B267EF475093DD0EEC7C-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4824
         "time": 1637650768345
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.3.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "346979E9802D1BFE8F5E7B506617559A6DF6702B-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4824
         "time": 1637650768449
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.3.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 98FE426A0C3CE9EC1C39EBB4F124771C5DE70C26-1"
         "pid": 4824
         "time": 1637650768477
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@7.4.0
updated 1 package and audited 1093 packages in 5.406s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:59:35.050Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:59:35.051Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:59:35.051Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:59:35.051Z appoptics:debug using context provider: ace-context
2021-11-23T06:59:35.129Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:59:35.330Z appoptics:patching patched crypto 
2021-11-23T06:59:35.349Z appoptics:patching patched https 
2021-11-23T06:59:35.349Z appoptics:patching patched http 
2021-11-23T06:59:35.399Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:59:35.399Z appoptics:patching patched fs 
2021-11-23T06:59:35.410Z appoptics:patching patched pino 7.4.0
2021-11-23T06:59:35.414Z appoptics:debug starting runtimeMetrics


  pino v7.4.0
    ✓ UDP might lose a message
    1) should not insert in sync sampled code when mode=false
    2) should insert in sync sampled code when mode=true
    3) should insert in sync sampled code when mode=traced
    4) should insert in sync sampled code when mode=sampledOnly
    5) should insert in sync sampled code when mode=always
    6) should not insert in sync unsampled code when mode=false
    7) should insert in sync unsampled code when mode=true
    8) should insert in sync unsampled code when mode=traced
    9) should not insert in sync unsampled code when mode=sampledOnly
    10) should insert in sync unsampled code when mode=always
    11) mode='always' should always insert a trace ID even if not tracing
    12) should insert trace IDs in asynchronous instrumented code
    13) should insert trace IDs in promise-based instrumented code
    14) should insert trace IDs using the function directly


  1 passing (178ms)
  14 failing

  1) pino v7.4.0
       should not insert in sync sampled code when mode=false:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous traced setting = false"
         "pid": 4847
         "time": 1637650775439
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) pino v7.4.0
       should insert in sync sampled code when mode=true:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "38660B05832EEDBF62E297D89EC04E30C15778F8-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = true"
         "pid": 4847
         "time": 1637650775445
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) pino v7.4.0
       should insert in sync sampled code when mode=traced:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8E8C1A7A7CAD86BABCFF70093187307B2B8FD92A-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = traced"
         "pid": 4847
         "time": 1637650775448
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) pino v7.4.0
       should insert in sync sampled code when mode=sampledOnly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "C49C49ED7D74AEC536494561161AE2A43C4367F6-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = sampledOnly"
         "pid": 4847
         "time": 1637650775451
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) pino v7.4.0
       should insert in sync sampled code when mode=always:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "5C5A595C62EF151E1E3A98C3887D72FE1B332089-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous traced setting = always"
         "pid": 4847
         "time": 1637650775454
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:228:9)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) pino v7.4.0
       should not insert in sync unsampled code when mode=false:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = false"
         "pid": 4847
         "time": 1637650775456
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  7) pino v7.4.0
       should insert in sync unsampled code when mode=true:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "E990AA29DDCD5A8778F27F3A7DF9A5BDF4C9C655-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = true"
         "pid": 4847
         "time": 1637650775458
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  8) pino v7.4.0
       should insert in sync unsampled code when mode=traced:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FA89790F2117C261AAC341FCE6621B68708EA375-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = traced"
         "pid": 4847
         "time": 1637650775459
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  9) pino v7.4.0
       should not insert in sync unsampled code when mode=sampledOnly:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "synchronous unsampled setting = sampledOnly"
         "pid": 4847
         "time": 1637650775461
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  10) pino v7.4.0
       should insert in sync unsampled code when mode=always:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "8439022FC3296BCDF6BFF97D0DD15A0C436A93F7-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "synchronous unsampled setting = always"
         "pid": 4847
         "time": 1637650775462
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:276:7)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  11) pino v7.4.0
       mode='always' should always insert a trace ID even if not tracing:

      AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "0000000000000000000000000000000000000000-0"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "always insert"
         "pid": 4847
         "time": 1637650775463
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at Context.<anonymous> (test/probes/pino.test.js:288:5)
      at processTicksAndRejections (internal/process/task_queues.js:77:11)

  12) pino v7.4.0
       should insert trace IDs in asynchronous instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "273D99E9D815267137CCE5DAC259AF908F238CD1-1"
      +  }
         "hostname": "8c2187579843"
         "level": 50
         "msg": "asynchronous instrumentation"
         "pid": 4847
         "time": 1637650775465
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:297:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) pino v7.4.0
       should insert trace IDs in promise-based instrumented code:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

       {
      +  "ao": {
      +    "traceId": "FE0ADD3E8810F310025FD97167A18444F657A49E-1"
      +  }
         "hostname": "8c2187579843"
         "level": 30
         "msg": "promise instrumentation"
         "pid": 4847
         "time": 1637650775569
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:330:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) pino v7.4.0
       should insert trace IDs using the function directly:

      Uncaught AssertionError: expected { Object (level, time, ...) } to deeply equal { Object (level, time, ...) }
      + expected - actual

         "level": 30
         "msg": "helper and synchronous 52F653F1B4353F0BAC6127810F9A2232881203D9-1"
         "pid": 4847
         "time": 1637650775597
      +  "v": 1
       }
      
      at checkEventInfo (test/probes/pino.test.js:89:26)
      at localDone (test/probes/pino.test.js:371:7)
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ pino@5.17.0
added 2 packages from 8 contributors, removed 10 packages, updated 5 packages and audited 1085 packages in 6.454s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
