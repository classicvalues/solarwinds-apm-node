npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.1.5: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.1.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.1.5
added 2 packages from 2 contributors, removed 26 packages, updated 2 packages and audited 1074 packages in 8.147s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:01.219Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:01.224Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:01.224Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:01.225Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:01.306Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:01.370Z appoptics:patching patched crypto 
2021-09-23T17:20:01.465Z appoptics:patching patched https 
2021-09-23T17:20:01.465Z appoptics:patching patched http 
2021-09-23T17:20:01.592Z appoptics:patching patched tedious 0.1.5
2021-09-23T17:20:01.598Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.1.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.1.5
       should support basic queries with a database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.1.5
       should support parameters with a database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.1.5
       should support sanitization with a database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.1.5
       should support basic queries with no database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.1.5
       should support parameters with no database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.1.5
       should support sanitization with no database name:
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.1
updated 2 packages and audited 1074 packages in 7.566s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:12.992Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:12.994Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:12.994Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:12.994Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:13.056Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:13.115Z appoptics:patching patched crypto 
2021-09-23T17:20:13.149Z appoptics:patching patched https 
2021-09-23T17:20:13.150Z appoptics:patching patched http 
2021-09-23T17:20:13.267Z appoptics:patching patched tedious 0.2.1
2021-09-23T17:20:13.273Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.2.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.2.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.2.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.2.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.2.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.2.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.2
updated 1 package and audited 1074 packages in 6.748s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:24.254Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:24.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:24.256Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:24.257Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:24.347Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:24.430Z appoptics:patching patched crypto 
2021-09-23T17:20:24.474Z appoptics:patching patched https 
2021-09-23T17:20:24.475Z appoptics:patching patched http 
2021-09-23T17:20:24.596Z appoptics:patching patched tedious 0.2.2
2021-09-23T17:20:24.602Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.2.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.2.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.2.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.2.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.2.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.2.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.3
removed 1 package, updated 1 package and audited 1073 packages in 5.951s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:34.354Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:34.356Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:34.356Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:34.357Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:34.432Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:34.530Z appoptics:patching patched crypto 
2021-09-23T17:20:34.572Z appoptics:patching patched https 
2021-09-23T17:20:34.572Z appoptics:patching patched http 
2021-09-23T17:20:34.778Z appoptics:patching patched tedious 0.2.3
2021-09-23T17:20:34.789Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.2.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.2.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.2.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.2.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.2.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.2.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.4: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.4
updated 2 packages and audited 1073 packages in 6.131s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:44.717Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:44.719Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:44.719Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:44.720Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:44.782Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:44.841Z appoptics:patching patched crypto 
2021-09-23T17:20:44.878Z appoptics:patching patched https 
2021-09-23T17:20:44.878Z appoptics:patching patched http 
2021-09-23T17:20:44.950Z appoptics:patching patched tedious 0.2.4
2021-09-23T17:20:44.958Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.2.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.2.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.2.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.2.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.2.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.2.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.3.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.3.0
updated 1 package and audited 1073 packages in 6.261s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:55.269Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:55.271Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:55.271Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:55.272Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:55.340Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:55.422Z appoptics:patching patched crypto 
2021-09-23T17:20:55.474Z appoptics:patching patched https 
2021-09-23T17:20:55.474Z appoptics:patching patched http 
2021-09-23T17:20:55.543Z appoptics:patching patched tedious 0.3.0
2021-09-23T17:20:55.551Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 0.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 0.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 0.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 0.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 0.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 0.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.0.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.0.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.0.0
updated 1 package and audited 1073 packages in 7.067s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:06.408Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:06.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:06.410Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:06.410Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:06.483Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:06.560Z appoptics:patching patched crypto 
2021-09-23T17:21:06.600Z appoptics:patching patched https 
2021-09-23T17:21:06.600Z appoptics:patching patched http 
2021-09-23T17:21:06.681Z appoptics:patching patched tedious 1.0.0
2021-09-23T17:21:06.695Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.1.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.1.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.1.0
added 1 package from 1 contributor, updated 1 package and audited 1074 packages in 7.064s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:17.608Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:17.610Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:17.610Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:17.611Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:17.687Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:17.753Z appoptics:patching patched crypto 
2021-09-23T17:21:17.792Z appoptics:patching patched https 
2021-09-23T17:21:17.792Z appoptics:patching patched http 
2021-09-23T17:21:17.880Z appoptics:patching patched tedious 1.1.0
2021-09-23T17:21:17.888Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.2.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.2.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.2.0
updated 1 package and audited 1074 packages in 6.727s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:28.442Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:28.444Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:28.444Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:28.445Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:28.534Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:28.608Z appoptics:patching patched crypto 
2021-09-23T17:21:28.647Z appoptics:patching patched https 
2021-09-23T17:21:28.648Z appoptics:patching patched http 
2021-09-23T17:21:28.723Z appoptics:patching patched tedious 1.2.0
2021-09-23T17:21:28.731Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.2.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.2.1
updated 1 package and audited 1074 packages in 6.473s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:39.118Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:39.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:39.121Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:39.122Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:39.236Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:39.349Z appoptics:patching patched crypto 
2021-09-23T17:21:39.426Z appoptics:patching patched https 
2021-09-23T17:21:39.427Z appoptics:patching patched http 
2021-09-23T17:21:39.568Z appoptics:patching patched tedious 1.2.1
2021-09-23T17:21:39.578Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.2.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.2.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.2.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.2.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.2.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.2.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.2.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.2.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.2.2
updated 1 package and audited 1074 packages in 6.106s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:49.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:49.541Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:49.541Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:49.542Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:49.601Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:49.657Z appoptics:patching patched crypto 
2021-09-23T17:21:49.690Z appoptics:patching patched https 
2021-09-23T17:21:49.691Z appoptics:patching patched http 
2021-09-23T17:21:49.752Z appoptics:patching patched tedious 1.2.2
2021-09-23T17:21:49.758Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.2.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.2.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.2.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.2.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.2.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.2.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.0
updated 1 package and audited 1074 packages in 6.039s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:00.010Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:00.012Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:00.012Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:00.013Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:00.073Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:00.132Z appoptics:patching patched crypto 
2021-09-23T17:22:00.167Z appoptics:patching patched https 
2021-09-23T17:22:00.168Z appoptics:patching patched http 
2021-09-23T17:22:00.233Z appoptics:patching patched tedious 1.3.0
2021-09-23T17:22:00.239Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.1
updated 1 package and audited 1074 packages in 7.151s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:11.389Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:11.393Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:11.394Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:11.394Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:11.491Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:11.552Z appoptics:patching patched crypto 
2021-09-23T17:22:11.586Z appoptics:patching patched https 
2021-09-23T17:22:11.586Z appoptics:patching patched http 
2021-09-23T17:22:11.649Z appoptics:patching patched tedious 1.3.1
2021-09-23T17:22:11.656Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.2
updated 1 package and audited 1074 packages in 7.046s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:22.501Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:22.503Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:22.503Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:22.504Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:22.578Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:22.639Z appoptics:patching patched crypto 
2021-09-23T17:22:22.672Z appoptics:patching patched https 
2021-09-23T17:22:22.672Z appoptics:patching patched http 
2021-09-23T17:22:22.734Z appoptics:patching patched tedious 1.3.2
2021-09-23T17:22:22.740Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.3
updated 1 package and audited 1074 packages in 7.207s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:33.771Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:33.774Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:33.774Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:33.775Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:33.835Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:33.899Z appoptics:patching patched crypto 
2021-09-23T17:22:33.933Z appoptics:patching patched https 
2021-09-23T17:22:33.933Z appoptics:patching patched http 
2021-09-23T17:22:33.991Z appoptics:patching patched tedious 1.3.3
2021-09-23T17:22:33.997Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.4: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.4
updated 1 package and audited 1074 packages in 6.454s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:44.663Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:44.665Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:44.665Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:44.667Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:44.771Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:44.857Z appoptics:patching patched crypto 
2021-09-23T17:22:44.908Z appoptics:patching patched https 
2021-09-23T17:22:44.909Z appoptics:patching patched http 
2021-09-23T17:22:45.022Z appoptics:patching patched tedious 1.3.4
2021-09-23T17:22:45.029Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.5: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.5
updated 1 package and audited 1074 packages in 6.103s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:54.941Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:54.943Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:54.943Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:54.944Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:55.050Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:55.121Z appoptics:patching patched crypto 
2021-09-23T17:22:55.165Z appoptics:patching patched https 
2021-09-23T17:22:55.165Z appoptics:patching patched http 
2021-09-23T17:22:55.269Z appoptics:patching patched tedious 1.3.5
2021-09-23T17:22:55.277Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.3.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.3.5
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.3.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.3.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.3.5
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.3.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.0
updated 1 package and audited 1074 packages in 6.024s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:05.186Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:05.187Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:05.188Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:05.188Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:05.253Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:05.321Z appoptics:patching patched crypto 
2021-09-23T17:23:05.360Z appoptics:patching patched https 
2021-09-23T17:23:05.360Z appoptics:patching patched http 
2021-09-23T17:23:05.440Z appoptics:patching patched tedious 1.4.0
2021-09-23T17:23:05.447Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.4.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.4.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.4.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.4.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.4.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.4.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.1
updated 1 package and audited 1074 packages in 6.685s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:16.119Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:16.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:16.121Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:16.122Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:16.182Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:16.240Z appoptics:patching patched crypto 
2021-09-23T17:23:16.274Z appoptics:patching patched https 
2021-09-23T17:23:16.274Z appoptics:patching patched http 
2021-09-23T17:23:16.341Z appoptics:patching patched tedious 1.4.1
2021-09-23T17:23:16.348Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.4.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.4.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.4.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.4.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.4.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.4.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.2
updated 1 package and audited 1074 packages in 6.861s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:27.072Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:27.074Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:27.074Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:27.075Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:27.140Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:27.198Z appoptics:patching patched crypto 
2021-09-23T17:23:27.233Z appoptics:patching patched https 
2021-09-23T17:23:27.233Z appoptics:patching patched http 
2021-09-23T17:23:27.291Z appoptics:patching patched tedious 1.4.2
2021-09-23T17:23:27.297Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.4.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.4.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.4.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.4.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.4.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.4.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.3
updated 1 package and audited 1074 packages in 7.43s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:38.487Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:38.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:38.489Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:38.489Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:38.550Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:38.609Z appoptics:patching patched crypto 
2021-09-23T17:23:38.643Z appoptics:patching patched https 
2021-09-23T17:23:38.644Z appoptics:patching patched http 
2021-09-23T17:23:38.742Z appoptics:patching patched tedious 1.4.3
2021-09-23T17:23:38.748Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.4.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.4.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.4.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.4.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.4.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.4.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.1
updated 1 package and audited 1074 packages in 6.849s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:49.664Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:49.666Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:49.666Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:49.667Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:49.734Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:49.792Z appoptics:patching patched crypto 
2021-09-23T17:23:49.827Z appoptics:patching patched https 
2021-09-23T17:23:49.827Z appoptics:patching patched http 
2021-09-23T17:23:49.886Z appoptics:patching patched tedious 1.5.1
2021-09-23T17:23:49.894Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.2
updated 1 package and audited 1074 packages in 6.067s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:59.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:59.930Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:59.930Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:59.931Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:59.994Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:00.062Z appoptics:patching patched crypto 
2021-09-23T17:24:00.103Z appoptics:patching patched https 
2021-09-23T17:24:00.104Z appoptics:patching patched http 
2021-09-23T17:24:00.199Z appoptics:patching patched tedious 1.5.2
2021-09-23T17:24:00.209Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.3
updated 1 package and audited 1074 packages in 6.17s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:10.149Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:10.152Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:10.152Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:10.153Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:10.215Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:10.272Z appoptics:patching patched crypto 
2021-09-23T17:24:10.305Z appoptics:patching patched https 
2021-09-23T17:24:10.305Z appoptics:patching patched http 
2021-09-23T17:24:10.367Z appoptics:patching patched tedious 1.5.3
2021-09-23T17:24:10.374Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.4: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.4
updated 1 package and audited 1074 packages in 6.312s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:20.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:20.802Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:20.802Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:20.803Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:20.866Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:20.923Z appoptics:patching patched crypto 
2021-09-23T17:24:20.956Z appoptics:patching patched https 
2021-09-23T17:24:20.956Z appoptics:patching patched http 
2021-09-23T17:24:21.020Z appoptics:patching patched tedious 1.5.4
2021-09-23T17:24:21.027Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.5: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.5
updated 1 package and audited 1074 packages in 7.078s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:31.962Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:31.964Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:31.964Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:31.965Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:32.030Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:32.086Z appoptics:patching patched crypto 
2021-09-23T17:24:32.116Z appoptics:patching patched https 
2021-09-23T17:24:32.117Z appoptics:patching patched http 
2021-09-23T17:24:32.176Z appoptics:patching patched tedious 1.5.5
2021-09-23T17:24:32.182Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.5
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.5
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.6: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.6
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.6
updated 1 package and audited 1074 packages in 6.876s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:42.848Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:42.850Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:42.850Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:42.851Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:42.911Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:42.988Z appoptics:patching patched crypto 
2021-09-23T17:24:43.036Z appoptics:patching patched https 
2021-09-23T17:24:43.036Z appoptics:patching patched http 
2021-09-23T17:24:43.106Z appoptics:patching patched tedious 1.5.6
2021-09-23T17:24:43.112Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.6
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.6
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.6
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.6
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.6
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.6
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.6
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.7: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.7
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.7
updated 1 package and audited 1074 packages in 6.413s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:53.612Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:53.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:53.614Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:53.615Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:53.674Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:53.731Z appoptics:patching patched crypto 
2021-09-23T17:24:53.766Z appoptics:patching patched https 
2021-09-23T17:24:53.766Z appoptics:patching patched http 
2021-09-23T17:24:53.836Z appoptics:patching patched tedious 1.5.7
2021-09-23T17:24:53.843Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.7
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.7
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.7
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.7
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.7
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.7
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.7
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.8: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.8
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.8
updated 1 package and audited 1074 packages in 7.087s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:04.921Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:04.923Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:04.923Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:04.928Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:05.049Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:05.112Z appoptics:patching patched crypto 
2021-09-23T17:25:05.151Z appoptics:patching patched https 
2021-09-23T17:25:05.152Z appoptics:patching patched http 
2021-09-23T17:25:05.245Z appoptics:patching patched tedious 1.5.8
2021-09-23T17:25:05.252Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.8
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.5.8
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.5.8
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.5.8
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.5.8
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.5.8
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.5.8
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.6.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.6.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.6.0
updated 1 package and audited 1074 packages in 6.065s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:15.571Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:15.573Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:15.573Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:15.574Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:15.642Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:15.709Z appoptics:patching patched crypto 
2021-09-23T17:25:15.745Z appoptics:patching patched https 
2021-09-23T17:25:15.746Z appoptics:patching patched http 
2021-09-23T17:25:15.841Z appoptics:patching patched tedious 1.6.0
2021-09-23T17:25:15.847Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.6.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.6.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.6.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.6.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.6.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.6.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.6.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.7.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.7.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.7.0
updated 1 package and audited 1074 packages in 6.02s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:26.053Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:26.055Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:26.055Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:26.056Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:26.112Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:26.168Z appoptics:patching patched crypto 
2021-09-23T17:25:26.202Z appoptics:patching patched https 
2021-09-23T17:25:26.202Z appoptics:patching patched http 
2021-09-23T17:25:26.271Z appoptics:patching patched tedious 1.7.0
2021-09-23T17:25:26.279Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.7.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.7.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.7.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.7.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.7.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.7.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.7.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.8.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.8.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.8.0
updated 1 package and audited 1074 packages in 6.466s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:36.887Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:36.889Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:36.889Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:36.890Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:36.951Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:37.012Z appoptics:patching patched crypto 
2021-09-23T17:25:37.054Z appoptics:patching patched https 
2021-09-23T17:25:37.054Z appoptics:patching patched http 
2021-09-23T17:25:37.115Z appoptics:patching patched tedious 1.8.0
2021-09-23T17:25:37.122Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.8.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.8.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.8.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.8.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.8.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.8.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.8.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.8.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.8.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.8.1
updated 1 package and audited 1074 packages in 7.429s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:48.440Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:48.442Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:48.442Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:48.443Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:48.501Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:48.559Z appoptics:patching patched crypto 
2021-09-23T17:25:48.593Z appoptics:patching patched https 
2021-09-23T17:25:48.593Z appoptics:patching patched http 
2021-09-23T17:25:48.662Z appoptics:patching patched tedious 1.8.1
2021-09-23T17:25:48.669Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.8.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.8.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.8.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.8.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.8.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.8.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.8.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.9.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.9.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.9.0
updated 1 package and audited 1074 packages in 6.892s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:59.335Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:59.337Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:59.337Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:59.337Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:59.397Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:59.453Z appoptics:patching patched crypto 
2021-09-23T17:25:59.487Z appoptics:patching patched https 
2021-09-23T17:25:59.487Z appoptics:patching patched http 
2021-09-23T17:25:59.547Z appoptics:patching patched tedious 1.9.0
2021-09-23T17:25:59.553Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.9.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.9.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.9.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.9.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.9.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.9.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.9.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.10.0
updated 4 packages and audited 1074 packages in 7.127s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:10.563Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:10.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:10.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:10.566Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:10.630Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:10.687Z appoptics:patching patched crypto 
2021-09-23T17:26:10.720Z appoptics:patching patched https 
2021-09-23T17:26:10.721Z appoptics:patching patched http 
2021-09-23T17:26:10.791Z appoptics:patching patched tedious 1.10.0
2021-09-23T17:26:10.798Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.10.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.10.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.10.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.10.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.10.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.10.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.10.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.0
updated 1 package and audited 1074 packages in 6.852s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:21.545Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:21.547Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:21.547Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:21.548Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:21.630Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:21.707Z appoptics:patching patched crypto 
2021-09-23T17:26:21.740Z appoptics:patching patched https 
2021-09-23T17:26:21.740Z appoptics:patching patched http 
2021-09-23T17:26:21.830Z appoptics:patching patched tedious 1.11.0
2021-09-23T17:26:21.838Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.1
updated 1 package and audited 1074 packages in 6.373s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:31.992Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:31.994Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:31.994Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:31.995Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:32.056Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:32.113Z appoptics:patching patched crypto 
2021-09-23T17:26:32.149Z appoptics:patching patched https 
2021-09-23T17:26:32.149Z appoptics:patching patched http 
2021-09-23T17:26:32.224Z appoptics:patching patched tedious 1.11.1
2021-09-23T17:26:32.235Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.2
updated 1 package and audited 1074 packages in 7.15s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:43.219Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:43.221Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:43.221Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:43.222Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:43.282Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:43.342Z appoptics:patching patched crypto 
2021-09-23T17:26:43.375Z appoptics:patching patched https 
2021-09-23T17:26:43.375Z appoptics:patching patched http 
2021-09-23T17:26:43.436Z appoptics:patching patched tedious 1.11.2
2021-09-23T17:26:43.442Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.4
updated 1 package and audited 1074 packages in 6.521s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:53.740Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:53.742Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:53.742Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:53.743Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:53.803Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:53.863Z appoptics:patching patched crypto 
2021-09-23T17:26:53.898Z appoptics:patching patched https 
2021-09-23T17:26:53.898Z appoptics:patching patched http 
2021-09-23T17:26:53.964Z appoptics:patching patched tedious 1.11.4
2021-09-23T17:26:53.975Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.5
updated 1 package and audited 1074 packages in 6.893s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:04.855Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:04.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:04.857Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:04.858Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:04.921Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:04.980Z appoptics:patching patched crypto 
2021-09-23T17:27:05.024Z appoptics:patching patched https 
2021-09-23T17:27:05.024Z appoptics:patching patched http 
2021-09-23T17:27:05.102Z appoptics:patching patched tedious 1.11.5
2021-09-23T17:27:05.108Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.11.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  2) probes.tedious 1.11.5
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  3) probes.tedious 1.11.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  4) probes.tedious 1.11.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  5) probes.tedious 1.11.5
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)

  6) probes.tedious 1.11.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at Socket.Readable.push (_stream_readable.js:224:10)
      at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.0
added 3 packages from 1 contributor, removed 1 package, updated 1 package and audited 1076 packages in 8.433s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:17.352Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:17.354Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:17.354Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:17.355Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:17.414Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:17.472Z appoptics:patching patched crypto 
2021-09-23T17:27:17.506Z appoptics:patching patched https 
2021-09-23T17:27:17.506Z appoptics:patching patched http 
2021-09-23T17:27:17.622Z appoptics:patching patched tedious 1.12.0
2021-09-23T17:27:17.633Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.12.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  2) probes.tedious 1.12.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  3) probes.tedious 1.12.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  4) probes.tedious 1.12.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  5) probes.tedious 1.12.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)

  6) probes.tedious 1.12.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.1
updated 1 package and audited 1076 packages in 7.614s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:29.030Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:29.032Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:29.032Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:29.033Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:29.097Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:29.157Z appoptics:patching patched crypto 
2021-09-23T17:27:29.199Z appoptics:patching patched https 
2021-09-23T17:27:29.199Z appoptics:patching patched http 
2021-09-23T17:27:29.305Z appoptics:patching patched tedious 1.12.1
2021-09-23T17:27:29.310Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.12.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  2) probes.tedious 1.12.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  3) probes.tedious 1.12.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  4) probes.tedious 1.12.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  5) probes.tedious 1.12.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  6) probes.tedious 1.12.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.2
updated 1 package and audited 1076 packages in 6.962s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:39.961Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:39.963Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:39.963Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:39.964Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:40.023Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:40.080Z appoptics:patching patched crypto 
2021-09-23T17:27:40.115Z appoptics:patching patched https 
2021-09-23T17:27:40.115Z appoptics:patching patched http 
2021-09-23T17:27:40.228Z appoptics:patching patched tedious 1.12.2
2021-09-23T17:27:40.242Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.12.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  2) probes.tedious 1.12.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  3) probes.tedious 1.12.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  4) probes.tedious 1.12.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  5) probes.tedious 1.12.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  6) probes.tedious 1.12.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.3
updated 1 package and audited 1076 packages in 6.714s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:50.899Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:50.901Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:50.901Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:50.902Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:50.964Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:51.025Z appoptics:patching patched crypto 
2021-09-23T17:27:51.059Z appoptics:patching patched https 
2021-09-23T17:27:51.059Z appoptics:patching patched http 
2021-09-23T17:27:51.176Z appoptics:patching patched tedious 1.12.3
2021-09-23T17:27:51.182Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.12.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  2) probes.tedious 1.12.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  3) probes.tedious 1.12.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  4) probes.tedious 1.12.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  5) probes.tedious 1.12.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)

  6) probes.tedious 1.12.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.13.0
updated 1 package and audited 1076 packages in 7.568s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:02.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:02.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:02.954Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:02.956Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:03.061Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:03.128Z appoptics:patching patched crypto 
2021-09-23T17:28:03.177Z appoptics:patching patched https 
2021-09-23T17:28:03.178Z appoptics:patching patched http 
2021-09-23T17:28:03.347Z appoptics:patching patched tedious 1.13.0
2021-09-23T17:28:03.357Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.13.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  2) probes.tedious 1.13.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  3) probes.tedious 1.13.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  4) probes.tedious 1.13.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  5) probes.tedious 1.13.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  6) probes.tedious 1.13.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.13.1
updated 1 package and audited 1076 packages in 6.363s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:13.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:13.677Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:13.677Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:13.678Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:13.759Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:13.822Z appoptics:patching patched crypto 
2021-09-23T17:28:13.859Z appoptics:patching patched https 
2021-09-23T17:28:13.860Z appoptics:patching patched http 
2021-09-23T17:28:13.966Z appoptics:patching patched tedious 1.13.1
2021-09-23T17:28:13.988Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.13.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  2) probes.tedious 1.13.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  3) probes.tedious 1.13.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  4) probes.tedious 1.13.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  5) probes.tedious 1.13.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  6) probes.tedious 1.13.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.13.2
updated 1 package and audited 1076 packages in 6.486s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:24.274Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:24.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:24.276Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:24.276Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:24.346Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:24.406Z appoptics:patching patched crypto 
2021-09-23T17:28:24.440Z appoptics:patching patched https 
2021-09-23T17:28:24.441Z appoptics:patching patched http 
2021-09-23T17:28:24.523Z appoptics:patching patched tedious 1.13.2
2021-09-23T17:28:24.537Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.13.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  2) probes.tedious 1.13.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  3) probes.tedious 1.13.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  4) probes.tedious 1.13.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  5) probes.tedious 1.13.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)

  6) probes.tedious 1.13.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.14.0
added 1 package, updated 1 package and audited 1077 packages in 6.542s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:35.083Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:35.085Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:35.085Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:35.086Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:35.150Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:35.214Z appoptics:patching patched crypto 
2021-09-23T17:28:35.250Z appoptics:patching patched https 
2021-09-23T17:28:35.250Z appoptics:patching patched http 
2021-09-23T17:28:35.339Z appoptics:patching patched tedious 1.14.0
2021-09-23T17:28:35.346Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.14.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.14.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  2) probes.tedious 1.14.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  3) probes.tedious 1.14.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  4) probes.tedious 1.14.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  5) probes.tedious 1.14.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)

  6) probes.tedious 1.14.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

> core-js@2.6.12 postinstall /__w/appoptics-apm-node/appoptics-apm-node/node_modules/core-js
> node -e "try{require('./postinstall')}catch(e){}"

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.15.0
added 2 packages from 2 contributors, updated 3 packages, moved 1 package and audited 1079 packages in 9.93s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:49.138Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:49.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:49.139Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:49.140Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:49.201Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:49.258Z appoptics:patching patched crypto 
2021-09-23T17:28:49.292Z appoptics:patching patched https 
2021-09-23T17:28:49.292Z appoptics:patching patched http 
2021-09-23T17:28:49.413Z appoptics:patching patched tedious 1.15.0
2021-09-23T17:28:49.418Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.15.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 1.15.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  2) probes.tedious 1.15.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  3) probes.tedious 1.15.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  4) probes.tedious 1.15.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  5) probes.tedious 1.15.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  6) probes.tedious 1.15.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.0.0
removed 2 packages, updated 1 package and audited 1077 packages in 6.515s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:29:00.145Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:00.147Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:00.147Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:00.148Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:00.211Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:00.279Z appoptics:patching patched crypto 
2021-09-23T17:29:00.324Z appoptics:patching patched https 
2021-09-23T17:29:00.325Z appoptics:patching patched http 
2021-09-23T17:29:00.467Z appoptics:patching patched tedious 2.0.0
2021-09-23T17:29:00.472Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  2) probes.tedious 2.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  3) probes.tedious 2.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  4) probes.tedious 2.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  5) probes.tedious 2.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  6) probes.tedious 2.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.0.1
updated 1 package and audited 1077 packages in 7.279s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:29:11.887Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:11.889Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:11.889Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:11.890Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:11.950Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:12.010Z appoptics:patching patched crypto 
2021-09-23T17:29:12.051Z appoptics:patching patched https 
2021-09-23T17:29:12.051Z appoptics:patching patched http 
2021-09-23T17:29:12.158Z appoptics:patching patched tedious 2.0.1
2021-09-23T17:29:12.164Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  2) probes.tedious 2.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  3) probes.tedious 2.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  4) probes.tedious 2.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  5) probes.tedious 2.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)

  6) probes.tedious 2.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

> sspi-client@0.1.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/sspi-client
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/sspi-client/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/sspi-client
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! sspi-client@0.1.0 install: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the sspi-client@0.1.0 install script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_29_22_688Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.1
added 2 packages from 11 contributors and audited 1077 packages in 6.634s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:29:31.171Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:31.173Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:31.173Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:31.174Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:31.260Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:31.341Z appoptics:patching patched crypto 
2021-09-23T17:29:31.387Z appoptics:patching patched https 
2021-09-23T17:29:31.388Z appoptics:patching patched http 
2021-09-23T17:29:31.568Z appoptics:patching patched tedious 2.1.1
2021-09-23T17:29:31.578Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.2
updated 1 package and audited 1077 packages in 6.103s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:29:41.641Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:41.642Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:41.643Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:41.643Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:41.702Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:41.758Z appoptics:patching patched crypto 
2021-09-23T17:29:41.794Z appoptics:patching patched https 
2021-09-23T17:29:41.794Z appoptics:patching patched http 
2021-09-23T17:29:41.910Z appoptics:patching patched tedious 2.1.2
2021-09-23T17:29:41.915Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.3
updated 1 package and audited 1077 packages in 6.285s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:29:52.080Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:52.082Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:52.082Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:52.083Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:52.146Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:52.205Z appoptics:patching patched crypto 
2021-09-23T17:29:52.242Z appoptics:patching patched https 
2021-09-23T17:29:52.242Z appoptics:patching patched http 
2021-09-23T17:29:52.352Z appoptics:patching patched tedious 2.1.3
2021-09-23T17:29:52.358Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.4
updated 1 package and audited 1077 packages in 6.608s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:30:02.871Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:02.873Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:02.873Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:02.874Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:02.940Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:02.998Z appoptics:patching patched crypto 
2021-09-23T17:30:03.036Z appoptics:patching patched https 
2021-09-23T17:30:03.037Z appoptics:patching patched http 
2021-09-23T17:30:03.154Z appoptics:patching patched tedious 2.1.4
2021-09-23T17:30:03.163Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.5
updated 1 package and audited 1077 packages in 7.482s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:30:14.351Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:14.353Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:14.353Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:14.354Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:14.415Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:14.478Z appoptics:patching patched crypto 
2021-09-23T17:30:14.513Z appoptics:patching patched https 
2021-09-23T17:30:14.513Z appoptics:patching patched http 
2021-09-23T17:30:14.621Z appoptics:patching patched tedious 2.1.5
2021-09-23T17:30:14.628Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.1.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.1.5
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.1.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.1.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.1.5
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.1.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.0
updated 1 package and audited 1077 packages in 7.299s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:30:25.741Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:25.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:25.743Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:25.744Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:25.804Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:25.868Z appoptics:patching patched crypto 
2021-09-23T17:30:25.906Z appoptics:patching patched https 
2021-09-23T17:30:25.907Z appoptics:patching patched http 
2021-09-23T17:30:26.021Z appoptics:patching patched tedious 2.2.0
2021-09-23T17:30:26.037Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.1
updated 1 package and audited 1077 packages in 7.393s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:30:37.185Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:37.187Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:37.187Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:37.188Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:37.253Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:37.313Z appoptics:patching patched crypto 
2021-09-23T17:30:37.348Z appoptics:patching patched https 
2021-09-23T17:30:37.348Z appoptics:patching patched http 
2021-09-23T17:30:37.455Z appoptics:patching patched tedious 2.2.1
2021-09-23T17:30:37.466Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.2
updated 1 package and audited 1077 packages in 6.899s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:30:48.254Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:48.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:48.256Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:48.257Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:48.339Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:48.436Z appoptics:patching patched crypto 
2021-09-23T17:30:48.485Z appoptics:patching patched https 
2021-09-23T17:30:48.485Z appoptics:patching patched http 
2021-09-23T17:30:48.645Z appoptics:patching patched tedious 2.2.2
2021-09-23T17:30:48.654Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.3
updated 1 package and audited 1077 packages in 6.287s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:30:58.752Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:30:58.754Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:30:58.754Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:30:58.755Z appoptics:debug using context provider: ace-context
2021-09-23T17:30:58.819Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:30:58.877Z appoptics:patching patched crypto 
2021-09-23T17:30:58.930Z appoptics:patching patched https 
2021-09-23T17:30:58.930Z appoptics:patching patched http 
2021-09-23T17:30:59.095Z appoptics:patching patched tedious 2.2.3
2021-09-23T17:30:59.103Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.4
updated 1 package and audited 1077 packages in 6.435s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:31:09.415Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:09.417Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:09.417Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:09.418Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:09.506Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:09.571Z appoptics:patching patched crypto 
2021-09-23T17:31:09.605Z appoptics:patching patched https 
2021-09-23T17:31:09.606Z appoptics:patching patched http 
2021-09-23T17:31:09.738Z appoptics:patching patched tedious 2.2.4
2021-09-23T17:31:09.743Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.2.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.2.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.2.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.2.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.2.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.2.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.3.0
updated 1 package and audited 1077 packages in 6.293s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:31:20.063Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:20.065Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:20.065Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:20.066Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:20.144Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:20.202Z appoptics:patching patched crypto 
2021-09-23T17:31:20.246Z appoptics:patching patched https 
2021-09-23T17:31:20.246Z appoptics:patching patched http 
2021-09-23T17:31:20.377Z appoptics:patching patched tedious 2.3.0
2021-09-23T17:31:20.389Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.3.1
updated 1 package and audited 1077 packages in 7.742s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:31:32.046Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:32.047Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:32.048Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:32.048Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:32.111Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:32.167Z appoptics:patching patched crypto 
2021-09-23T17:31:32.200Z appoptics:patching patched https 
2021-09-23T17:31:32.200Z appoptics:patching patched http 
2021-09-23T17:31:32.339Z appoptics:patching patched tedious 2.3.1
2021-09-23T17:31:32.350Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.3.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.3.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.3.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.3.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.3.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.3.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.3.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.4.0
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 1077 packages in 7.206s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:31:43.354Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:43.356Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:43.356Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:43.357Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:43.419Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:43.476Z appoptics:patching patched crypto 
2021-09-23T17:31:43.517Z appoptics:patching patched https 
2021-09-23T17:31:43.517Z appoptics:patching patched http 
2021-09-23T17:31:43.644Z appoptics:patching patched tedious 2.4.0
2021-09-23T17:31:43.656Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.4.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.4.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.4.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.4.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.4.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.4.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.4.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.5.0
added 1 package from 1 contributor, updated 1 package and audited 1078 packages in 7.683s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:31:55.080Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:31:55.082Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:31:55.082Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:31:55.083Z appoptics:debug using context provider: ace-context
2021-09-23T17:31:55.146Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:31:55.208Z appoptics:patching patched crypto 
2021-09-23T17:31:55.244Z appoptics:patching patched https 
2021-09-23T17:31:55.244Z appoptics:patching patched http 
2021-09-23T17:31:55.463Z appoptics:patching patched tedious 2.5.0
2021-09-23T17:31:55.477Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.5.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.5.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.5.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.5.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.5.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.5.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.5.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.5.1
updated 1 package and audited 1078 packages in 7.588s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:32:06.815Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:06.817Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:06.817Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:06.818Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:06.875Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:06.932Z appoptics:patching patched crypto 
2021-09-23T17:32:06.969Z appoptics:patching patched https 
2021-09-23T17:32:06.969Z appoptics:patching patched http 
2021-09-23T17:32:07.091Z appoptics:patching patched tedious 2.5.1
2021-09-23T17:32:07.096Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.5.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.5.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.5.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.5.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.5.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.5.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.5.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.0
updated 1 package and audited 1078 packages in 6.405s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:32:17.363Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:17.364Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:17.365Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:17.365Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:17.446Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:17.510Z appoptics:patching patched crypto 
2021-09-23T17:32:17.545Z appoptics:patching patched https 
2021-09-23T17:32:17.546Z appoptics:patching patched http 
2021-09-23T17:32:17.722Z appoptics:patching patched tedious 2.6.0
2021-09-23T17:32:17.727Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.1
updated 1 package and audited 1078 packages in 6.203s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:32:27.746Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:27.748Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:27.748Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:27.749Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:27.815Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:27.880Z appoptics:patching patched crypto 
2021-09-23T17:32:27.916Z appoptics:patching patched https 
2021-09-23T17:32:27.916Z appoptics:patching patched http 
2021-09-23T17:32:28.071Z appoptics:patching patched tedious 2.6.1
2021-09-23T17:32:28.092Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.2
updated 1 package and audited 1078 packages in 6.315s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:32:38.305Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:38.307Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:38.307Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:38.308Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:38.371Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:38.444Z appoptics:patching patched crypto 
2021-09-23T17:32:38.488Z appoptics:patching patched https 
2021-09-23T17:32:38.488Z appoptics:patching patched http 
2021-09-23T17:32:38.650Z appoptics:patching patched tedious 2.6.2
2021-09-23T17:32:38.656Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.2
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.2
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.3
updated 1 package and audited 1078 packages in 6.975s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:32:49.563Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:32:49.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:32:49.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:32:49.566Z appoptics:debug using context provider: ace-context
2021-09-23T17:32:49.632Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:32:49.691Z appoptics:patching patched crypto 
2021-09-23T17:32:49.724Z appoptics:patching patched https 
2021-09-23T17:32:49.724Z appoptics:patching patched http 
2021-09-23T17:32:49.867Z appoptics:patching patched tedious 2.6.3
2021-09-23T17:32:49.873Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.3
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.3
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.4
added 1 package from 1 contributor, updated 1 package and audited 1079 packages in 7.471s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:33:01.140Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:01.144Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:01.144Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:01.145Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:01.217Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:01.284Z appoptics:patching patched crypto 
2021-09-23T17:33:01.319Z appoptics:patching patched https 
2021-09-23T17:33:01.319Z appoptics:patching patched http 
2021-09-23T17:33:01.479Z appoptics:patching patched tedious 2.6.4
2021-09-23T17:33:01.485Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.6.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.6.4
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.6.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.6.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.6.4
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.6.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.7.0
updated 1 package and audited 1079 packages in 7.142s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:33:12.379Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:12.381Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:12.381Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:12.382Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:12.442Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:12.500Z appoptics:patching patched crypto 
2021-09-23T17:33:12.536Z appoptics:patching patched https 
2021-09-23T17:33:12.537Z appoptics:patching patched http 
2021-09-23T17:33:12.671Z appoptics:patching patched tedious 2.7.0
2021-09-23T17:33:12.677Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.7.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.7.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.7.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.7.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.7.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.7.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.7.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.7.1
updated 1 package and audited 1079 packages in 7.271s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:33:23.747Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:23.749Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:23.749Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:23.750Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:23.826Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:23.889Z appoptics:patching patched crypto 
2021-09-23T17:33:23.924Z appoptics:patching patched https 
2021-09-23T17:33:23.924Z appoptics:patching patched http 
2021-09-23T17:33:24.063Z appoptics:patching patched tedious 2.7.1
2021-09-23T17:33:24.069Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.7.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 2.7.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  2) probes.tedious 2.7.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  3) probes.tedious 2.7.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  4) probes.tedious 2.7.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  5) probes.tedious 2.7.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)

  6) probes.tedious 2.7.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@3.0.0
updated 1 package and audited 1079 packages in 7.286s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:33:35.440Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:35.442Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:35.442Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:35.443Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:35.514Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:35.582Z appoptics:patching patched crypto 
2021-09-23T17:33:35.621Z appoptics:patching patched https 
2021-09-23T17:33:35.622Z appoptics:patching patched http 
2021-09-23T17:33:35.730Z appoptics:patching patched tedious 3.0.0
2021-09-23T17:33:35.742Z appoptics:debug starting runtimeMetrics


  probes.tedious 3.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 3.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  2) probes.tedious 3.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  3) probes.tedious 3.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  4) probes.tedious 3.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  5) probes.tedious 3.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)

  6) probes.tedious 3.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:601:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:46:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:152:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:332:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:324:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:331:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:128:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@3.0.1
added 1 package, removed 4 packages, updated 2 packages and audited 1076 packages in 7.264s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:33:46.904Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:46.906Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:46.906Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:46.907Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:47.074Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:47.204Z appoptics:patching patched crypto 
2021-09-23T17:33:47.262Z appoptics:patching patched https 
2021-09-23T17:33:47.263Z appoptics:patching patched http 
2021-09-23T17:33:47.407Z appoptics:patching patched tedious 3.0.1
2021-09-23T17:33:47.430Z appoptics:debug starting runtimeMetrics


  probes.tedious 3.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 3.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  2) probes.tedious 3.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  3) probes.tedious 3.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  4) probes.tedious 3.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  5) probes.tedious 3.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)

  6) probes.tedious 3.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.tokenStreamParser.on.token (node_modules/tedious/lib/connection.js:654:29)
      at Parser.parser.on.token (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at token (node_modules/tedious/lib/token/infoerror-token-parser.js:48:5)
      at call.lineNumber (node_modules/tedious/lib/token/infoerror-token-parser.js:13:19)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:153:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at parser.readBVarChar.procName (node_modules/tedious/lib/token/infoerror-token-parser.js:12:90)
      at readBuffer.data (node_modules/tedious/lib/token/stream-parser.js:322:9)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:314:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at readUInt8.length (node_modules/tedious/lib/token/stream-parser.js:321:12)
      at awaitData (node_modules/tedious/lib/token/stream-parser.js:129:7)
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.0
updated 1 package and audited 1076 packages in 6.308s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:33:57.685Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:33:57.688Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:33:57.688Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:33:57.689Z appoptics:debug using context provider: ace-context
2021-09-23T17:33:57.749Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:33:57.809Z appoptics:patching patched crypto 
2021-09-23T17:33:57.846Z appoptics:patching patched https 
2021-09-23T17:33:57.846Z appoptics:patching patched http 
2021-09-23T17:33:57.953Z appoptics:patching patched tedious 4.0.0
2021-09-23T17:33:57.963Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support sanitization with a database name
    4) should support basic queries with no database name
    5) should support parameters with no database name
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 4.0.0
       should support basic queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:117:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:116:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  2) probes.tedious 4.0.0
       should support parameters with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:138:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:137:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  3) probes.tedious 4.0.0
       should support sanitization with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:170:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:168:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  4) probes.tedious 4.0.0
       should support basic queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:117:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:116:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  5) probes.tedious 4.0.0
       should support parameters with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:138:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:137:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)

  6) probes.tedious 4.0.0
       should support sanitization with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:216:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:170:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:168:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:48:7)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.1
updated 1 package and audited 1076 packages in 6.038s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:34:07.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:07.930Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:07.930Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:07.931Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:07.993Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:08.052Z appoptics:patching patched crypto 
2021-09-23T17:34:08.087Z appoptics:patching patched https 
2021-09-23T17:34:08.087Z appoptics:patching patched http 
2021-09-23T17:34:08.184Z appoptics:patching patched tedious 4.0.1
2021-09-23T17:34:08.191Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.2
updated 1 package and audited 1076 packages in 6.495s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:34:18.801Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:18.803Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:18.803Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:18.804Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:18.884Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:18.953Z appoptics:patching patched crypto 
2021-09-23T17:34:18.992Z appoptics:patching patched https 
2021-09-23T17:34:18.992Z appoptics:patching patched http 
2021-09-23T17:34:19.103Z appoptics:patching patched tedious 4.0.2
2021-09-23T17:34:19.109Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.0.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.0.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.0.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.0.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.0.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.0.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.0.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.0.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.0.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.0.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.3
updated 1 package and audited 1076 packages in 6.958s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:34:30.090Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:30.092Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:30.092Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:30.093Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:30.160Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:30.228Z appoptics:patching patched crypto 
2021-09-23T17:34:30.267Z appoptics:patching patched https 
2021-09-23T17:34:30.267Z appoptics:patching patched http 
2021-09-23T17:34:30.362Z appoptics:patching patched tedious 4.0.3
2021-09-23T17:34:30.368Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.0.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.0.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.0.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.0.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.0.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.0.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.0.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.0.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.0.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.0.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.4
updated 1 package and audited 1076 packages in 6.772s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:34:41.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:41.389Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:41.389Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:41.390Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:41.447Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:41.507Z appoptics:patching patched crypto 
2021-09-23T17:34:41.542Z appoptics:patching patched https 
2021-09-23T17:34:41.542Z appoptics:patching patched http 
2021-09-23T17:34:41.639Z appoptics:patching patched tedious 4.0.4
2021-09-23T17:34:41.645Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.0.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.0.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.0.4
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.0.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.0.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.0.4
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.0.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.0.4
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.0.4
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.0.4
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.0.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:938:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.0.4
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.0
added 9 packages from 37 contributors, updated 1 package and audited 1085 packages in 7.59s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:34:53.007Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:34:53.010Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:34:53.010Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:34:53.010Z appoptics:debug using context provider: ace-context
2021-09-23T17:34:53.072Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:34:53.134Z appoptics:patching patched crypto 
2021-09-23T17:34:53.169Z appoptics:patching patched https 
2021-09-23T17:34:53.169Z appoptics:patching patched http 
2021-09-23T17:34:53.258Z appoptics:patching patched zlib 
2021-09-23T17:34:53.326Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:34:53.326Z appoptics:patching patched fs 
2021-09-23T17:34:53.540Z appoptics:patching patched tedious 4.1.0
2021-09-23T17:34:53.546Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.1.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.1.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.1.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1077:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:949:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.1.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.1
updated 1 package and audited 1085 packages in 6.865s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:35:04.887Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:04.888Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:04.889Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:04.889Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:04.956Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:05.023Z appoptics:patching patched crypto 
2021-09-23T17:35:05.057Z appoptics:patching patched https 
2021-09-23T17:35:05.057Z appoptics:patching patched http 
2021-09-23T17:35:05.156Z appoptics:patching patched zlib 
2021-09-23T17:35:05.231Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:05.232Z appoptics:patching patched fs 
2021-09-23T17:35:05.380Z appoptics:patching patched tedious 4.1.1
2021-09-23T17:35:05.387Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.1.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.1.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.2
updated 1 package and audited 1085 packages in 6.244s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:35:15.875Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:15.877Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:15.877Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:15.878Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:15.954Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:16.036Z appoptics:patching patched crypto 
2021-09-23T17:35:16.078Z appoptics:patching patched https 
2021-09-23T17:35:16.079Z appoptics:patching patched http 
2021-09-23T17:35:16.189Z appoptics:patching patched zlib 
2021-09-23T17:35:16.254Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:16.255Z appoptics:patching patched fs 
2021-09-23T17:35:16.434Z appoptics:patching patched tedious 4.1.2
2021-09-23T17:35:16.441Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.1.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.1.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.1.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.1.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.1.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.1.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.1.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.1.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.1.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.1.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.3
updated 1 package and audited 1085 packages in 6.08s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:35:26.513Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:26.521Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:26.521Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:26.522Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:26.601Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:26.670Z appoptics:patching patched crypto 
2021-09-23T17:35:26.710Z appoptics:patching patched https 
2021-09-23T17:35:26.710Z appoptics:patching patched http 
2021-09-23T17:35:26.810Z appoptics:patching patched zlib 
2021-09-23T17:35:26.888Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:26.888Z appoptics:patching patched fs 
2021-09-23T17:35:27.034Z appoptics:patching patched tedious 4.1.3
2021-09-23T17:35:27.041Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.1.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.1.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.1.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.1.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.1.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.1.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.1.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.1.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.1.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.1.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.1.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.1.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.2.0
updated 1 package and audited 1085 packages in 6.06s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:35:37.023Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:37.024Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:37.024Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:37.025Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:37.109Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:37.194Z appoptics:patching patched crypto 
2021-09-23T17:35:37.235Z appoptics:patching patched https 
2021-09-23T17:35:37.235Z appoptics:patching patched http 
2021-09-23T17:35:37.357Z appoptics:patching patched zlib 
2021-09-23T17:35:37.428Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:37.428Z appoptics:patching patched fs 
2021-09-23T17:35:37.618Z appoptics:patching patched tedious 4.2.0
2021-09-23T17:35:37.625Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 4.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 4.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 4.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 4.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 4.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 4.2.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 4.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 4.2.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 4.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 4.2.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 4.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:971:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:63:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 4.2.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.0
updated 1 package and audited 1085 packages in 6.556s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:35:48.241Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:35:48.242Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:35:48.243Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:35:48.244Z appoptics:debug using context provider: ace-context
2021-09-23T17:35:48.326Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:35:48.400Z appoptics:patching patched crypto 
2021-09-23T17:35:48.439Z appoptics:patching patched https 
2021-09-23T17:35:48.440Z appoptics:patching patched http 
2021-09-23T17:35:48.558Z appoptics:patching patched zlib 
2021-09-23T17:35:48.616Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:35:48.617Z appoptics:patching patched fs 
2021-09-23T17:35:48.780Z appoptics:patching patched tedious 5.0.0
2021-09-23T17:35:48.787Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 5.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 5.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 5.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 5.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 5.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 5.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 5.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 5.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 5.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 5.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 5.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:996:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 5.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.1
updated 1 package and audited 1085 packages in 7.449s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:36:00.395Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:00.397Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:00.397Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:00.398Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:00.458Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:00.518Z appoptics:patching patched crypto 
2021-09-23T17:36:00.557Z appoptics:patching patched https 
2021-09-23T17:36:00.557Z appoptics:patching patched http 
2021-09-23T17:36:00.650Z appoptics:patching patched zlib 
2021-09-23T17:36:00.715Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:00.715Z appoptics:patching patched fs 
2021-09-23T17:36:00.848Z appoptics:patching patched tedious 5.0.1
2021-09-23T17:36:00.854Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 5.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 5.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 5.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 5.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 5.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 5.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 5.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 5.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 5.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 5.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 5.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 5.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.2
updated 1 package and audited 1085 packages in 7.352s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:36:12.174Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:12.176Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:12.176Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:12.177Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:12.240Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:12.300Z appoptics:patching patched crypto 
2021-09-23T17:36:12.334Z appoptics:patching patched https 
2021-09-23T17:36:12.334Z appoptics:patching patched http 
2021-09-23T17:36:12.417Z appoptics:patching patched zlib 
2021-09-23T17:36:12.478Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:12.478Z appoptics:patching patched fs 
2021-09-23T17:36:12.638Z appoptics:patching patched tedious 5.0.2
2021-09-23T17:36:12.645Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 5.0.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 5.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 5.0.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 5.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 5.0.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 5.0.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 5.0.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 5.0.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 5.0.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 5.0.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 5.0.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 5.0.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.3
updated 1 package and audited 1085 packages in 7.604s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:36:24.117Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:24.119Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:24.119Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:24.120Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:24.191Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:24.249Z appoptics:patching patched crypto 
2021-09-23T17:36:24.285Z appoptics:patching patched https 
2021-09-23T17:36:24.286Z appoptics:patching patched http 
2021-09-23T17:36:24.394Z appoptics:patching patched zlib 
2021-09-23T17:36:24.456Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:24.456Z appoptics:patching patched fs 
2021-09-23T17:36:24.610Z appoptics:patching patched tedious 5.0.3
2021-09-23T17:36:24.619Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 5.0.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 5.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 5.0.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 5.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 5.0.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 5.0.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 5.0.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 5.0.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 5.0.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 5.0.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 5.0.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:998:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 5.0.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.0.0
updated 1 package and audited 1085 packages in 7.617s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:36:36.079Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:36.080Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:36.081Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:36.082Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:36.147Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:36.208Z appoptics:patching patched crypto 
2021-09-23T17:36:36.245Z appoptics:patching patched https 
2021-09-23T17:36:36.246Z appoptics:patching patched http 
2021-09-23T17:36:36.342Z appoptics:patching patched zlib 
2021-09-23T17:36:36.406Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:36.407Z appoptics:patching patched fs 
2021-09-23T17:36:36.543Z appoptics:patching patched tedious 6.0.0
2021-09-23T17:36:36.550Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.0.1
updated 1 package and audited 1085 packages in 7.961s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:36:48.316Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:48.318Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:48.318Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:48.319Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:48.381Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:36:48.440Z appoptics:patching patched crypto 
2021-09-23T17:36:48.474Z appoptics:patching patched https 
2021-09-23T17:36:48.474Z appoptics:patching patched http 
2021-09-23T17:36:48.564Z appoptics:patching patched zlib 
2021-09-23T17:36:48.620Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:36:48.621Z appoptics:patching patched fs 
2021-09-23T17:36:48.768Z appoptics:patching patched tedious 6.0.1
2021-09-23T17:36:48.777Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1021:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.1.0
updated 1 package and audited 1085 packages in 6.901s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:36:59.877Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:36:59.879Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:36:59.879Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:36:59.880Z appoptics:debug using context provider: ace-context
2021-09-23T17:36:59.972Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:00.047Z appoptics:patching patched crypto 
2021-09-23T17:37:00.125Z appoptics:patching patched https 
2021-09-23T17:37:00.125Z appoptics:patching patched http 
2021-09-23T17:37:00.357Z appoptics:patching patched zlib 
2021-09-23T17:37:00.434Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:00.435Z appoptics:patching patched fs 
2021-09-23T17:37:00.564Z appoptics:patching patched tedious 6.1.0
2021-09-23T17:37:00.571Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.1.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.1.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.1.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.1.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.1.1
updated 1 package and audited 1085 packages in 6.423s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:37:11.061Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:11.063Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:11.063Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:11.064Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:11.131Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:11.208Z appoptics:patching patched crypto 
2021-09-23T17:37:11.246Z appoptics:patching patched https 
2021-09-23T17:37:11.246Z appoptics:patching patched http 
2021-09-23T17:37:11.395Z appoptics:patching patched zlib 
2021-09-23T17:37:11.456Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:11.456Z appoptics:patching patched fs 
2021-09-23T17:37:11.640Z appoptics:patching patched tedious 6.1.1
2021-09-23T17:37:11.646Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.1.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.1.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.1.2
updated 1 package and audited 1085 packages in 6.506s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:37:22.080Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:22.081Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:22.082Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:22.082Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:22.146Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:22.202Z appoptics:patching patched crypto 
2021-09-23T17:37:22.235Z appoptics:patching patched https 
2021-09-23T17:37:22.235Z appoptics:patching patched http 
2021-09-23T17:37:22.323Z appoptics:patching patched zlib 
2021-09-23T17:37:22.385Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:22.386Z appoptics:patching patched fs 
2021-09-23T17:37:22.534Z appoptics:patching patched tedious 6.1.2
2021-09-23T17:37:22.541Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 6.1.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 6.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 6.1.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 6.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 6.1.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 6.1.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 6.1.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 6.1.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 6.1.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 6.1.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 6.1.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1032:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:68:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 6.1.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.2.0
updated 1 package and audited 1085 packages in 6.378s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:37:32.828Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:32.829Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:32.830Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:32.831Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:32.894Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:32.952Z appoptics:patching patched crypto 
2021-09-23T17:37:32.992Z appoptics:patching patched https 
2021-09-23T17:37:32.993Z appoptics:patching patched http 
2021-09-23T17:37:33.091Z appoptics:patching patched zlib 
2021-09-23T17:37:33.148Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:33.148Z appoptics:patching patched fs 
2021-09-23T17:37:33.278Z appoptics:patching patched tedious 6.2.0
2021-09-23T17:37:33.285Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (44ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.2.1
added 2 packages from 1 contributor, updated 1 package and audited 1087 packages in 6.287s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:37:43.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:43.729Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:43.729Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:43.731Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:43.792Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:43.848Z appoptics:patching patched crypto 
2021-09-23T17:37:43.882Z appoptics:patching patched https 
2021-09-23T17:37:43.882Z appoptics:patching patched http 
2021-09-23T17:37:43.961Z appoptics:patching patched zlib 
2021-09-23T17:37:44.028Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:44.029Z appoptics:patching patched fs 
2021-09-23T17:37:44.159Z appoptics:patching patched tedious 6.2.1
2021-09-23T17:37:44.168Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (46ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.3.0
added 9 packages from 4 contributors, updated 1 package and audited 1096 packages in 8.41s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:37:56.611Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:37:56.613Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:37:56.613Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:37:56.614Z appoptics:debug using context provider: ace-context
2021-09-23T17:37:56.689Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:37:56.761Z appoptics:patching patched crypto 
2021-09-23T17:37:56.796Z appoptics:patching patched https 
2021-09-23T17:37:56.796Z appoptics:patching patched http 
2021-09-23T17:37:56.871Z appoptics:patching patched zlib 
2021-09-23T17:37:56.885Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:37:56.885Z appoptics:patching patched fs 
2021-09-23T17:37:57.150Z appoptics:patching patched tedious 6.3.0
2021-09-23T17:37:57.156Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (44ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.4.0
added 1 package from 37 contributors, updated 1 package and audited 1097 packages in 7.716s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:38:08.864Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:08.867Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:08.867Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:08.868Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:08.934Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:08.999Z appoptics:patching patched crypto 
2021-09-23T17:38:09.038Z appoptics:patching patched https 
2021-09-23T17:38:09.038Z appoptics:patching patched http 
2021-09-23T17:38:09.120Z appoptics:patching patched zlib 
2021-09-23T17:38:09.129Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:09.129Z appoptics:patching patched fs 
2021-09-23T17:38:09.403Z appoptics:patching patched tedious 6.4.0
2021-09-23T17:38:09.410Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.4.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (53ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.5.0
added 2 packages from 1 contributor, removed 1 package, updated 3 packages and audited 1098 packages in 7.913s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:38:21.167Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:21.169Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:21.169Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:21.170Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:21.232Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:21.292Z appoptics:patching patched crypto 
2021-09-23T17:38:21.334Z appoptics:patching patched https 
2021-09-23T17:38:21.334Z appoptics:patching patched http 
2021-09-23T17:38:21.417Z appoptics:patching patched zlib 
2021-09-23T17:38:21.429Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:21.430Z appoptics:patching patched fs 
2021-09-23T17:38:21.749Z appoptics:patching patched tedious 6.5.0
2021-09-23T17:38:21.755Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.5.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (44ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.0
updated 1 package and audited 1098 packages in 8.071s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:38:33.657Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:33.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:33.659Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:33.660Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:33.721Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:33.780Z appoptics:patching patched crypto 
2021-09-23T17:38:33.813Z appoptics:patching patched https 
2021-09-23T17:38:33.813Z appoptics:patching patched http 
2021-09-23T17:38:33.887Z appoptics:patching patched zlib 
2021-09-23T17:38:33.897Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:33.897Z appoptics:patching patched fs 
2021-09-23T17:38:34.163Z appoptics:patching patched tedious 6.6.0
2021-09-23T17:38:34.169Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (70ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.1
added 1 package from 2 contributors, updated 1 package and audited 1099 packages in 7.472s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:38:45.571Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:45.572Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:45.573Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:45.573Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:45.630Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:45.687Z appoptics:patching patched crypto 
2021-09-23T17:38:45.721Z appoptics:patching patched https 
2021-09-23T17:38:45.721Z appoptics:patching patched http 
2021-09-23T17:38:45.795Z appoptics:patching patched zlib 
2021-09-23T17:38:45.804Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:45.804Z appoptics:patching patched fs 
2021-09-23T17:38:46.076Z appoptics:patching patched tedious 6.6.1
2021-09-23T17:38:46.086Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (48ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.2
updated 1 package and audited 1099 packages in 7.381s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:38:57.335Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:38:57.337Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:38:57.337Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:38:57.338Z appoptics:debug using context provider: ace-context
2021-09-23T17:38:57.402Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:38:57.465Z appoptics:patching patched crypto 
2021-09-23T17:38:57.500Z appoptics:patching patched https 
2021-09-23T17:38:57.500Z appoptics:patching patched http 
2021-09-23T17:38:57.596Z appoptics:patching patched zlib 
2021-09-23T17:38:57.607Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:38:57.607Z appoptics:patching patched fs 
2021-09-23T17:38:57.885Z appoptics:patching patched tedious 6.6.2
2021-09-23T17:38:57.892Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (50ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.3
updated 1 package and audited 1099 packages in 7.429s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:39:09.266Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:09.267Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:09.267Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:09.268Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:09.346Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:09.414Z appoptics:patching patched crypto 
2021-09-23T17:39:09.461Z appoptics:patching patched https 
2021-09-23T17:39:09.462Z appoptics:patching patched http 
2021-09-23T17:39:09.567Z appoptics:patching patched zlib 
2021-09-23T17:39:09.577Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:09.577Z appoptics:patching patched fs 
2021-09-23T17:39:09.876Z appoptics:patching patched tedious 6.6.3
2021-09-23T17:39:09.892Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (45ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name (49ms)
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.4
updated 1 package and audited 1099 packages in 7.132s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:39:21.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:21.050Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:21.050Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:21.051Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:21.110Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:21.175Z appoptics:patching patched crypto 
2021-09-23T17:39:21.209Z appoptics:patching patched https 
2021-09-23T17:39:21.209Z appoptics:patching patched http 
2021-09-23T17:39:21.281Z appoptics:patching patched zlib 
2021-09-23T17:39:21.289Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:21.289Z appoptics:patching patched fs 
2021-09-23T17:39:21.565Z appoptics:patching patched tedious 6.6.4
2021-09-23T17:39:21.572Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (60ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.5
updated 1 package and audited 1099 packages in 7.132s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:39:33.293Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:33.298Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:33.298Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:33.300Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:33.485Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:33.595Z appoptics:patching patched crypto 
2021-09-23T17:39:33.637Z appoptics:patching patched https 
2021-09-23T17:39:33.637Z appoptics:patching patched http 
2021-09-23T17:39:33.735Z appoptics:patching patched zlib 
2021-09-23T17:39:33.744Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:33.745Z appoptics:patching patched fs 
2021-09-23T17:39:34.088Z appoptics:patching patched tedious 6.6.5
2021-09-23T17:39:34.095Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (61ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.6
updated 1 package and audited 1099 packages in 6.376s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:39:44.638Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:44.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:44.648Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:44.649Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:44.817Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:44.939Z appoptics:patching patched crypto 
2021-09-23T17:39:45.011Z appoptics:patching patched https 
2021-09-23T17:39:45.012Z appoptics:patching patched http 
2021-09-23T17:39:45.125Z appoptics:patching patched zlib 
2021-09-23T17:39:45.138Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:45.140Z appoptics:patching patched fs 
2021-09-23T17:39:45.648Z appoptics:patching patched tedious 6.6.6
2021-09-23T17:39:45.666Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.6
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (44ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.7.0
updated 1 package and audited 1099 packages in 6.35s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:39:55.985Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:39:55.987Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:39:55.987Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:39:55.988Z appoptics:debug using context provider: ace-context
2021-09-23T17:39:56.076Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:39:56.140Z appoptics:patching patched crypto 
2021-09-23T17:39:56.179Z appoptics:patching patched https 
2021-09-23T17:39:56.179Z appoptics:patching patched http 
2021-09-23T17:39:56.319Z appoptics:patching patched zlib 
2021-09-23T17:39:56.365Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:39:56.366Z appoptics:patching patched fs 
2021-09-23T17:39:56.920Z appoptics:patching patched tedious 6.7.0
2021-09-23T17:39:56.927Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.7.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (62ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.7.1
added 9 packages from 13 contributors, removed 2 packages, updated 5 packages and audited 1106 packages in 9.288s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:40:10.299Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:10.301Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:10.301Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:10.302Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:10.385Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:10.468Z appoptics:patching patched crypto 
2021-09-23T17:40:10.508Z appoptics:patching patched https 
2021-09-23T17:40:10.508Z appoptics:patching patched http 
2021-09-23T17:40:10.698Z appoptics:patching patched zlib 
2021-09-23T17:40:10.706Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:10.706Z appoptics:patching patched fs 
2021-09-23T17:40:10.921Z appoptics:patching patched tedious 6.7.1
2021-09-23T17:40:10.931Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.7.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (45ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@7.0.0
added 2 packages from 29 contributors, removed 11 packages, updated 5 packages and audited 1097 packages in 6.775s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:40:21.784Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:21.786Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:21.786Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:21.787Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:21.885Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:21.952Z appoptics:patching patched crypto 
2021-09-23T17:40:22.002Z appoptics:patching patched https 
2021-09-23T17:40:22.003Z appoptics:patching patched http 
2021-09-23T17:40:22.130Z appoptics:patching patched zlib 
2021-09-23T17:40:22.142Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:22.143Z appoptics:patching patched fs 
2021-09-23T17:40:22.493Z appoptics:patching patched tedious 7.0.0
2021-09-23T17:40:22.500Z appoptics:debug starting runtimeMetrics


  probes.tedious 7.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (86ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.0.0
added 1 package from 1 contributor, updated 1 package and audited 1098 packages in 6.605s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:40:33.040Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:33.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:33.042Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:33.042Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:33.104Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:33.164Z appoptics:patching patched crypto 
2021-09-23T17:40:33.201Z appoptics:patching patched https 
2021-09-23T17:40:33.201Z appoptics:patching patched http 
2021-09-23T17:40:33.281Z appoptics:patching patched zlib 
2021-09-23T17:40:33.290Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:33.290Z appoptics:patching patched fs 
2021-09-23T17:40:33.626Z appoptics:patching patched tedious 8.0.0
2021-09-23T17:40:33.642Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (69ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.0.1
updated 1 package and audited 1098 packages in 6.283s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:40:43.915Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:43.917Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:43.917Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:43.917Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:43.980Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:44.037Z appoptics:patching patched crypto 
2021-09-23T17:40:44.083Z appoptics:patching patched https 
2021-09-23T17:40:44.083Z appoptics:patching patched http 
2021-09-23T17:40:44.164Z appoptics:patching patched zlib 
2021-09-23T17:40:44.172Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:44.173Z appoptics:patching patched fs 
2021-09-23T17:40:44.471Z appoptics:patching patched tedious 8.0.1
2021-09-23T17:40:44.478Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    ✓ should support basic queries with a database name (56ms)
    ✓ should support parameters with a database name
    ✓ should support sanitization with a database name
    ✓ should support basic queries with no database name
    ✓ should support parameters with no database name
    ✓ should support sanitization with no database name


  8 passing (2s)

npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.1.0
updated 2 packages and audited 1098 packages in 7.017s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:40:55.337Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:40:55.339Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:40:55.339Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:40:55.340Z appoptics:debug using context provider: ace-context
2021-09-23T17:40:55.400Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:40:55.464Z appoptics:patching patched crypto 
2021-09-23T17:40:55.500Z appoptics:patching patched https 
2021-09-23T17:40:55.500Z appoptics:patching patched http 
2021-09-23T17:40:55.581Z appoptics:patching patched zlib 
2021-09-23T17:40:55.589Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:40:55.590Z appoptics:patching patched fs 
2021-09-23T17:40:55.886Z appoptics:patching patched tedious 8.1.0
2021-09-23T17:40:55.893Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.1.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.1.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.1.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.1.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.1.1
updated 1 package and audited 1098 packages in 7.117s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:41:06.908Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:06.909Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:06.909Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:06.910Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:06.973Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:07.031Z appoptics:patching patched crypto 
2021-09-23T17:41:07.064Z appoptics:patching patched https 
2021-09-23T17:41:07.064Z appoptics:patching patched http 
2021-09-23T17:41:07.140Z appoptics:patching patched zlib 
2021-09-23T17:41:07.148Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:07.148Z appoptics:patching patched fs 
2021-09-23T17:41:07.464Z appoptics:patching patched tedious 8.1.1
2021-09-23T17:41:07.470Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.1.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1126:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.1.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.2.0
updated 1 package and audited 1098 packages in 7.127s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:41:18.917Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:18.923Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:18.923Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:18.924Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:18.986Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:19.047Z appoptics:patching patched crypto 
2021-09-23T17:41:19.086Z appoptics:patching patched https 
2021-09-23T17:41:19.087Z appoptics:patching patched http 
2021-09-23T17:41:19.167Z appoptics:patching patched zlib 
2021-09-23T17:41:19.175Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:19.176Z appoptics:patching patched fs 
2021-09-23T17:41:19.479Z appoptics:patching patched tedious 8.2.0
2021-09-23T17:41:19.486Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:41:20 GMT tedious deprecated The default value for `config.options.trustServerCertificate` will change from `true` to `false` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.2.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.2.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.2.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1128:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.2.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.3.0
updated 1 package and audited 1098 packages in 11.836s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:41:35.538Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:35.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:35.540Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:35.541Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:35.617Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:35.685Z appoptics:patching patched crypto 
2021-09-23T17:41:35.733Z appoptics:patching patched https 
2021-09-23T17:41:35.733Z appoptics:patching patched http 
2021-09-23T17:41:35.816Z appoptics:patching patched zlib 
2021-09-23T17:41:35.826Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:35.827Z appoptics:patching patched fs 
2021-09-23T17:41:36.216Z appoptics:patching patched tedious 8.3.0
2021-09-23T17:41:36.228Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:41:37 GMT tedious deprecated The default value for `config.options.trustServerCertificate` will change from `true` to `false` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Thu, 23 Sep 2021 17:41:37 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.3.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.3.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.3.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.3.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.3.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.3.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.3.1
updated 1 package and audited 1098 packages in 6.451s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:41:46.651Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:46.652Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:46.652Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:46.653Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:46.714Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:46.771Z appoptics:patching patched crypto 
2021-09-23T17:41:46.808Z appoptics:patching patched https 
2021-09-23T17:41:46.808Z appoptics:patching patched http 
2021-09-23T17:41:46.883Z appoptics:patching patched zlib 
2021-09-23T17:41:46.892Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:46.892Z appoptics:patching patched fs 
2021-09-23T17:41:47.201Z appoptics:patching patched tedious 8.3.1
2021-09-23T17:41:47.207Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.3.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:41:48 GMT tedious deprecated The default value for `config.options.trustServerCertificate` will change from `true` to `false` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Thu, 23 Sep 2021 17:41:48 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 8.3.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 8.3.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 8.3.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 8.3.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 8.3.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 8.3.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 8.3.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 8.3.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 8.3.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 8.3.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 8.3.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1312:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1143:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 8.3.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 8.3.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.0.0
updated 1 package and audited 1098 packages in 6.348s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:41:57.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:41:57.566Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:41:57.566Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:41:57.567Z appoptics:debug using context provider: ace-context
2021-09-23T17:41:57.631Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:41:57.692Z appoptics:patching patched crypto 
2021-09-23T17:41:57.729Z appoptics:patching patched https 
2021-09-23T17:41:57.729Z appoptics:patching patched http 
2021-09-23T17:41:57.805Z appoptics:patching patched zlib 
2021-09-23T17:41:57.815Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:41:57.815Z appoptics:patching patched fs 
2021-09-23T17:41:58.112Z appoptics:patching patched tedious 9.0.0
2021-09-23T17:41:58.119Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:41:59 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.0.1
updated 1 package and audited 1098 packages in 6.649s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:42:08.853Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:42:08.855Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:42:08.855Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:42:08.856Z appoptics:debug using context provider: ace-context
2021-09-23T17:42:08.930Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:42:08.997Z appoptics:patching patched crypto 
2021-09-23T17:42:09.032Z appoptics:patching patched https 
2021-09-23T17:42:09.032Z appoptics:patching patched http 
2021-09-23T17:42:09.104Z appoptics:patching patched zlib 
2021-09-23T17:42:09.113Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:42:09.114Z appoptics:patching patched fs 
2021-09-23T17:42:09.480Z appoptics:patching patched tedious 9.0.1
2021-09-23T17:42:09.487Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:42:10 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1310:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1141:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.1.0
updated 1 package and audited 1098 packages in 8.057s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:42:21.714Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:42:21.715Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:42:21.716Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:42:21.716Z appoptics:debug using context provider: ace-context
2021-09-23T17:42:21.789Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:42:21.860Z appoptics:patching patched crypto 
2021-09-23T17:42:21.915Z appoptics:patching patched https 
2021-09-23T17:42:21.915Z appoptics:patching patched http 
2021-09-23T17:42:22.020Z appoptics:patching patched zlib 
2021-09-23T17:42:22.027Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:42:22.028Z appoptics:patching patched fs 
2021-09-23T17:42:22.345Z appoptics:patching patched tedious 9.1.0
2021-09-23T17:42:22.358Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:42:23 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.1.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.1.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.1.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1632:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1395:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.1.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.1.1
updated 3 packages and audited 1098 packages in 7.76s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:42:34.152Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:42:34.154Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:42:34.154Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:42:34.155Z appoptics:debug using context provider: ace-context
2021-09-23T17:42:34.228Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:42:34.285Z appoptics:patching patched crypto 
2021-09-23T17:42:34.318Z appoptics:patching patched https 
2021-09-23T17:42:34.319Z appoptics:patching patched http 
2021-09-23T17:42:34.394Z appoptics:patching patched zlib 
2021-09-23T17:42:34.402Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:42:34.402Z appoptics:patching patched fs 
2021-09-23T17:42:34.730Z appoptics:patching patched tedious 9.1.1
2021-09-23T17:42:34.737Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:42:35 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.1.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1646:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1406:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.1.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.1.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.0
updated 1 package and audited 1098 packages in 7.691s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:42:46.307Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:42:46.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:42:46.309Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:42:46.310Z appoptics:debug using context provider: ace-context
2021-09-23T17:42:46.379Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:42:46.442Z appoptics:patching patched crypto 
2021-09-23T17:42:46.477Z appoptics:patching patched https 
2021-09-23T17:42:46.477Z appoptics:patching patched http 
2021-09-23T17:42:46.552Z appoptics:patching patched zlib 
2021-09-23T17:42:46.566Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:42:46.566Z appoptics:patching patched fs 
2021-09-23T17:42:46.884Z appoptics:patching patched tedious 9.2.0
2021-09-23T17:42:46.890Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:42:47 GMT tedious deprecated The default value for "config.options.validateBulkLoadParameters" will change from `false` to `true` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Thu, 23 Sep 2021 17:42:47 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.2.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.2.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.2.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.2.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.1
updated 1 package and audited 1098 packages in 7.841s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:42:58.669Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:42:58.671Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:42:58.671Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:42:58.672Z appoptics:debug using context provider: ace-context
2021-09-23T17:42:58.732Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:42:58.795Z appoptics:patching patched crypto 
2021-09-23T17:42:58.834Z appoptics:patching patched https 
2021-09-23T17:42:58.834Z appoptics:patching patched http 
2021-09-23T17:42:58.913Z appoptics:patching patched zlib 
2021-09-23T17:42:58.922Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:42:58.923Z appoptics:patching patched fs 
2021-09-23T17:42:59.242Z appoptics:patching patched tedious 9.2.1
2021-09-23T17:42:59.249Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:43:00 GMT tedious deprecated The default value for "config.options.validateBulkLoadParameters" will change from `false` to `true` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Thu, 23 Sep 2021 17:43:00 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.2.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.2.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.2.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.2.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.2.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.2.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.2.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.2.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.2.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.2.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.2.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.2.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.2
added 9 packages from 13 contributors, removed 2 packages, updated 5 packages and audited 1105 packages in 8.741s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:43:11.867Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:43:11.869Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:43:11.869Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:43:11.870Z appoptics:debug using context provider: ace-context
2021-09-23T17:43:11.956Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:43:12.031Z appoptics:patching patched crypto 
2021-09-23T17:43:12.066Z appoptics:patching patched https 
2021-09-23T17:43:12.067Z appoptics:patching patched http 
2021-09-23T17:43:12.188Z appoptics:patching patched zlib 
2021-09-23T17:43:12.192Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:43:12.193Z appoptics:patching patched fs 
2021-09-23T17:43:12.390Z appoptics:patching patched tedious 9.2.2
2021-09-23T17:43:12.396Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:43:13 GMT tedious deprecated The default value for "config.options.validateBulkLoadParameters" will change from `false` to `true` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Thu, 23 Sep 2021 17:43:13 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.2.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.2.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.2.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.2.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.2.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.2.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.2.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.2.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.2.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.2.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.2.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1658:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1418:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.2.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.3
added 3 packages from 30 contributors, updated 2 packages, moved 1 package and audited 1108 packages in 7.779s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:43:24.040Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:43:24.042Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:43:24.042Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:43:24.043Z appoptics:debug using context provider: ace-context
2021-09-23T17:43:24.104Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:43:24.182Z appoptics:patching patched crypto 
2021-09-23T17:43:24.230Z appoptics:patching patched https 
2021-09-23T17:43:24.230Z appoptics:patching patched http 
2021-09-23T17:43:24.355Z appoptics:patching patched zlib 
2021-09-23T17:43:24.359Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:43:24.360Z appoptics:patching patched fs 
2021-09-23T17:43:24.690Z appoptics:patching patched tedious 9.2.3
2021-09-23T17:43:24.697Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
Thu, 23 Sep 2021 17:43:25 GMT tedious deprecated The default value for "config.options.validateBulkLoadParameters" will change from `false` to `true` in the next major version of `tedious`. Set the value to `true` or `false` explicitly to silence this message. at test/probes/tedious.test.js:216:24
Thu, 23 Sep 2021 17:43:25 GMT tedious deprecated In the next major version of `tedious`, creating a new `Connection` instance will no longer establish a connection to the server automatically. Please use the new `connect` helper function or call the `.connect` method on the newly created `Connection` object to silence this message. at internal/process/next_tick.js:61:11
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 9.2.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 9.2.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 9.2.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 9.2.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 9.2.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 9.2.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 9.2.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 9.2.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 9.2.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 9.2.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 9.2.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 9.2.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 9.2.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@10.0.0
updated 1 package and audited 1108 packages in 7.623s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:43:36.233Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:43:36.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:43:36.235Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:43:36.236Z appoptics:debug using context provider: ace-context
2021-09-23T17:43:36.300Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:43:36.376Z appoptics:patching patched crypto 
2021-09-23T17:43:36.428Z appoptics:patching patched https 
2021-09-23T17:43:36.428Z appoptics:patching patched http 
2021-09-23T17:43:36.581Z appoptics:patching patched zlib 
2021-09-23T17:43:36.585Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:43:36.586Z appoptics:patching patched fs 
2021-09-23T17:43:36.906Z appoptics:patching patched tedious 10.0.0
2021-09-23T17:43:36.913Z appoptics:debug starting runtimeMetrics


  probes.tedious 10.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 10.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 10.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 10.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 10.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 10.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 10.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 10.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 10.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 10.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 10.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 10.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 10.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 10.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.0
updated 1 package and audited 1108 packages in 7.548s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:43:48.453Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:43:48.455Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:43:48.455Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:43:48.456Z appoptics:debug using context provider: ace-context
2021-09-23T17:43:48.523Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:43:48.581Z appoptics:patching patched crypto 
2021-09-23T17:43:48.616Z appoptics:patching patched https 
2021-09-23T17:43:48.616Z appoptics:patching patched http 
2021-09-23T17:43:48.730Z appoptics:patching patched zlib 
2021-09-23T17:43:48.734Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:43:48.735Z appoptics:patching patched fs 
2021-09-23T17:43:49.055Z appoptics:patching patched tedious 11.0.0
2021-09-23T17:43:49.063Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.0
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1651:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1411:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.0
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.0 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.1
added 1 package from 3 contributors, removed 3 packages, updated 3 packages, moved 1 package and audited 1106 packages in 7.355s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:44:00.379Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:44:00.381Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:44:00.381Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:44:00.382Z appoptics:debug using context provider: ace-context
2021-09-23T17:44:00.446Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:44:00.504Z appoptics:patching patched crypto 
2021-09-23T17:44:00.540Z appoptics:patching patched https 
2021-09-23T17:44:00.540Z appoptics:patching patched http 
2021-09-23T17:44:00.659Z appoptics:patching patched zlib 
2021-09-23T17:44:00.664Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:44:00.665Z appoptics:patching patched fs 
2021-09-23T17:44:00.866Z appoptics:patching patched tedious 11.0.1
2021-09-23T17:44:00.872Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.1
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.1
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.1 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.2
added 1 package from 1 contributor, updated 1 package and audited 1107 packages in 6.946s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:44:12.184Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:44:12.186Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:44:12.186Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:44:12.187Z appoptics:debug using context provider: ace-context
2021-09-23T17:44:12.278Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:44:12.355Z appoptics:patching patched crypto 
2021-09-23T17:44:12.398Z appoptics:patching patched https 
2021-09-23T17:44:12.398Z appoptics:patching patched http 
2021-09-23T17:44:12.558Z appoptics:patching patched zlib 
2021-09-23T17:44:12.563Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:44:12.563Z appoptics:patching patched fs 
2021-09-23T17:44:12.875Z appoptics:patching patched tedious 11.0.2
2021-09-23T17:44:12.886Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.2
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1656:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1416:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.2
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.2 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.3
updated 1 package and audited 1107 packages in 6.832s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:44:24.373Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:44:24.380Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:44:24.380Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:44:24.381Z appoptics:debug using context provider: ace-context
2021-09-23T17:44:24.511Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:44:24.612Z appoptics:patching patched crypto 
2021-09-23T17:44:24.660Z appoptics:patching patched https 
2021-09-23T17:44:24.661Z appoptics:patching patched http 
2021-09-23T17:44:24.883Z appoptics:patching patched zlib 
2021-09-23T17:44:24.892Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:44:24.892Z appoptics:patching patched fs 
2021-09-23T17:44:25.309Z appoptics:patching patched tedious 11.0.3
2021-09-23T17:44:25.321Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.3
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.3
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.3 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.4
updated 1 package and audited 1107 packages in 7.245s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:44:37.080Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:44:37.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:44:37.084Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:44:37.085Z appoptics:debug using context provider: ace-context
2021-09-23T17:44:37.357Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:44:37.492Z appoptics:patching patched crypto 
2021-09-23T17:44:37.555Z appoptics:patching patched https 
2021-09-23T17:44:37.556Z appoptics:patching patched http 
2021-09-23T17:44:37.693Z appoptics:patching patched zlib 
2021-09-23T17:44:37.698Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:44:37.698Z appoptics:patching patched fs 
2021-09-23T17:44:37.945Z appoptics:patching patched tedious 11.0.4
2021-09-23T17:44:37.952Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.4
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.4
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.4
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.4
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.4
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.4
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.4
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.4
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.4
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.4
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1662:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.4
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.4 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.5
updated 1 package and audited 1107 packages in 8.047s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:44:50.194Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:44:50.196Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:44:50.196Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:44:50.196Z appoptics:debug using context provider: ace-context
2021-09-23T17:44:50.288Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:44:50.358Z appoptics:patching patched crypto 
2021-09-23T17:44:50.400Z appoptics:patching patched https 
2021-09-23T17:44:50.401Z appoptics:patching patched http 
2021-09-23T17:44:50.565Z appoptics:patching patched zlib 
2021-09-23T17:44:50.569Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:44:50.570Z appoptics:patching patched fs 
2021-09-23T17:44:50.847Z appoptics:patching patched tedious 11.0.5
2021-09-23T17:44:50.857Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.5
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.5
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.5
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.5
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.5
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.5
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.5
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.5
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.5
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.5
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.5
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.5
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1647:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1407:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.5
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.5 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.6
updated 1 package and audited 1107 packages in 8.139s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:45:03.479Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:45:03.481Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:45:03.481Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:45:03.482Z appoptics:debug using context provider: ace-context
2021-09-23T17:45:03.561Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:45:03.630Z appoptics:patching patched crypto 
2021-09-23T17:45:03.681Z appoptics:patching patched https 
2021-09-23T17:45:03.682Z appoptics:patching patched http 
2021-09-23T17:45:03.893Z appoptics:patching patched zlib 
2021-09-23T17:45:03.902Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:45:03.903Z appoptics:patching patched fs 
2021-09-23T17:45:04.236Z appoptics:patching patched tedious 11.0.6
2021-09-23T17:45:04.246Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.6
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.6
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.6
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.6
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.6
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.6
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.6
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.6
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.6
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.6
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.6
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.6
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.6
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.6 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.7
updated 1 package and audited 1107 packages in 7.103s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:45:15.573Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:45:15.575Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:45:15.575Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:45:15.576Z appoptics:debug using context provider: ace-context
2021-09-23T17:45:15.655Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:45:15.742Z appoptics:patching patched crypto 
2021-09-23T17:45:15.777Z appoptics:patching patched https 
2021-09-23T17:45:15.777Z appoptics:patching patched http 
2021-09-23T17:45:15.906Z appoptics:patching patched zlib 
2021-09-23T17:45:15.911Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:45:15.911Z appoptics:patching patched fs 
2021-09-23T17:45:16.148Z appoptics:patching patched tedious 11.0.7
2021-09-23T17:45:16.155Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.7
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.7
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.7
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.7
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.7
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.7
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.7
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.7
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.7
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.7
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.7
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.7
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.7
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.7 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.8
updated 1 package and audited 1107 packages in 6.667s

72 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:45:26.987Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:45:26.990Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:45:26.990Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:45:26.991Z appoptics:debug using context provider: ace-context
2021-09-23T17:45:27.061Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:45:27.118Z appoptics:patching patched crypto 
2021-09-23T17:45:27.159Z appoptics:patching patched https 
2021-09-23T17:45:27.160Z appoptics:patching patched http 
2021-09-23T17:45:27.298Z appoptics:patching patched zlib 
2021-09-23T17:45:27.302Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:45:27.303Z appoptics:patching patched fs 
2021-09-23T17:45:27.517Z appoptics:patching patched tedious 11.0.8
2021-09-23T17:45:27.524Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.8
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.8
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.8
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.8
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.8
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.8
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.8
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.8
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.8
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.8
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.8
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.8
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1645:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1405:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.8
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.8 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_45_43_720Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.0.9
added 54 packages from 46 contributors, removed 2 packages, updated 3 packages and audited 1184 packages in 13.918s

76 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:45:45.479Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:45:45.481Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:45:45.481Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:45:45.482Z appoptics:debug using context provider: ace-context
2021-09-23T17:45:45.541Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:45:45.600Z appoptics:patching patched crypto 
2021-09-23T17:45:45.635Z appoptics:patching patched https 
2021-09-23T17:45:45.635Z appoptics:patching patched http 
2021-09-23T17:45:45.758Z appoptics:patching patched zlib 
2021-09-23T17:45:45.763Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:45:45.764Z appoptics:patching patched fs 
2021-09-23T17:45:45.965Z appoptics:patching patched tedious 11.0.9
2021-09-23T17:45:45.971Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.9
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should support sanitization with a database name
    6) should support sanitization with a database name
    7) should support basic queries with no database name
    8) should support basic queries with no database name
    9) should support parameters with no database name
    10) should support parameters with no database name
    11) should support sanitization with no database name
    12) should support sanitization with no database name


  2 passing (2s)
  12 failing

  1) probes.tedious 11.0.9
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.9
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  3) probes.tedious 11.0.9
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.9
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  5) probes.tedious 11.0.9
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.9
       should support sanitization with a database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support sanitization with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  7) probes.tedious 11.0.9
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  8) probes.tedious 11.0.9
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  9) probes.tedious 11.0.9
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  10) probes.tedious 11.0.9
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)

  11) probes.tedious 11.0.9
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1657:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1417:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  12) probes.tedious 11.0.9
       should support sanitization with no database name:
     Error: done() called multiple times in test <probes.tedious 11.0.9 should support sanitization with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:191:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:628:8)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_45_58_384Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.0.10
updated 1 package and audited 1184 packages in 10.164s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:46:00.166Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:46:00.168Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:46:00.168Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:46:00.169Z appoptics:debug using context provider: ace-context
2021-09-23T17:46:00.235Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:46:00.296Z appoptics:patching patched crypto 
2021-09-23T17:46:00.331Z appoptics:patching patched https 
2021-09-23T17:46:00.331Z appoptics:patching patched http 
2021-09-23T17:46:00.465Z appoptics:patching patched zlib 
2021-09-23T17:46:00.470Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:46:00.470Z appoptics:patching patched fs 
2021-09-23T17:46:00.674Z appoptics:patching patched tedious 11.0.10
2021-09-23T17:46:00.681Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.10
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:46:01.720Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:46:01.991Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:46:02.256Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:46:02.519Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:46:02.780Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:46:03.047Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2012:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1057:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1943:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2921:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.0.10
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.0.10
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.0.10
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.0.10
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.0.10
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.0.10
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1659:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1419:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_46_12_942Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.1.0
updated 1 package and audited 1184 packages in 9.989s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:46:14.662Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:46:14.664Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:46:14.664Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:46:14.665Z appoptics:debug using context provider: ace-context
2021-09-23T17:46:14.732Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:46:14.802Z appoptics:patching patched crypto 
2021-09-23T17:46:14.837Z appoptics:patching patched https 
2021-09-23T17:46:14.837Z appoptics:patching patched http 
2021-09-23T17:46:14.945Z appoptics:patching patched zlib 
2021-09-23T17:46:14.949Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:46:14.950Z appoptics:patching patched fs 
2021-09-23T17:46:15.190Z appoptics:patching patched tedious 11.1.0
2021-09-23T17:46:15.196Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:46:16.216Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:46:16.485Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:46:16.754Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:46:17.017Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:46:17.278Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:46:17.542Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_46_27_521Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.1.1
updated 1 package and audited 1184 packages in 10.408s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:46:29.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:46:29.693Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:46:29.693Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:46:29.694Z appoptics:debug using context provider: ace-context
2021-09-23T17:46:29.758Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:46:29.819Z appoptics:patching patched crypto 
2021-09-23T17:46:29.853Z appoptics:patching patched https 
2021-09-23T17:46:29.853Z appoptics:patching patched http 
2021-09-23T17:46:29.967Z appoptics:patching patched zlib 
2021-09-23T17:46:29.972Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:46:29.972Z appoptics:patching patched fs 
2021-09-23T17:46:30.175Z appoptics:patching patched tedious 11.1.1
2021-09-23T17:46:30.181Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.1.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:46:31.203Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:46:31.473Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:46:31.742Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:46:32.007Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:46:32.299Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:46:32.565Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.1.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.1.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.1.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.1.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.1.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.1.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_46_41_732Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.2.0
updated 1 package and audited 1184 packages in 9.139s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:46:43.480Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:46:43.482Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:46:43.482Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:46:43.483Z appoptics:debug using context provider: ace-context
2021-09-23T17:46:43.543Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:46:43.606Z appoptics:patching patched crypto 
2021-09-23T17:46:43.648Z appoptics:patching patched https 
2021-09-23T17:46:43.648Z appoptics:patching patched http 
2021-09-23T17:46:43.802Z appoptics:patching patched zlib 
2021-09-23T17:46:43.807Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:46:43.807Z appoptics:patching patched fs 
2021-09-23T17:46:44.028Z appoptics:patching patched tedious 11.2.0
2021-09-23T17:46:44.035Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:46:45.105Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:46:45.386Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:46:45.658Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:46:45.920Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:46:46.184Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:46:46.446Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2016:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1061:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1947:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2925:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1663:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1423:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_46_55_454Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.3.0
added 1 package from 2 contributors, updated 4 packages and audited 1185 packages in 9.285s

76 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:46:57.603Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:46:57.605Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:46:57.605Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:46:57.606Z appoptics:debug using context provider: ace-context
2021-09-23T17:46:57.687Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:46:57.750Z appoptics:patching patched crypto 
2021-09-23T17:46:57.796Z appoptics:patching patched https 
2021-09-23T17:46:57.797Z appoptics:patching patched http 
2021-09-23T17:46:57.972Z appoptics:patching patched zlib 
2021-09-23T17:46:57.977Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:46:57.978Z appoptics:patching patched fs 
2021-09-23T17:46:58.351Z appoptics:patching patched tedious 11.3.0
2021-09-23T17:46:58.358Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:46:59.382Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:46:59.663Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:46:59.929Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:47:00.192Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:47:00.454Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:47:00.718Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_47_10_742Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.3.1
updated 1 package and audited 1185 packages in 10.263s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:47:12.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:47:12.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:47:12.954Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:47:12.955Z appoptics:debug using context provider: ace-context
2021-09-23T17:47:13.034Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:47:13.096Z appoptics:patching patched crypto 
2021-09-23T17:47:13.135Z appoptics:patching patched https 
2021-09-23T17:47:13.136Z appoptics:patching patched http 
2021-09-23T17:47:13.253Z appoptics:patching patched zlib 
2021-09-23T17:47:13.259Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:47:13.259Z appoptics:patching patched fs 
2021-09-23T17:47:13.463Z appoptics:patching patched tedious 11.3.1
2021-09-23T17:47:13.470Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.3.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:47:14.518Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:47:14.796Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:47:15.064Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:47:15.332Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:47:15.595Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:47:15.864Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2018:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1949:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2927:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.3.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.3.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.3.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.3.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.3.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.3.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1665:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1425:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_47_28_387Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.4.0
updated 1 package and audited 1185 packages in 12.589s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:47:30.297Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:47:30.298Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:47:30.299Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:47:30.299Z appoptics:debug using context provider: ace-context
2021-09-23T17:47:30.361Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:47:30.421Z appoptics:patching patched crypto 
2021-09-23T17:47:30.479Z appoptics:patching patched https 
2021-09-23T17:47:30.479Z appoptics:patching patched http 
2021-09-23T17:47:30.606Z appoptics:patching patched zlib 
2021-09-23T17:47:30.611Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:47:30.611Z appoptics:patching patched fs 
2021-09-23T17:47:30.825Z appoptics:patching patched tedious 11.4.0
2021-09-23T17:47:30.832Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:47:31.844Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:47:32.114Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:47:32.378Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:47:32.640Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:47:32.902Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:47:33.167Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2938:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.4.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.4.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.4.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.4.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.4.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.4.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_47_43_618Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.4.1
updated 1 package and audited 1185 packages in 10.563s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:47:45.360Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:47:45.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:47:45.362Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:47:45.363Z appoptics:debug using context provider: ace-context
2021-09-23T17:47:45.432Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:47:45.491Z appoptics:patching patched crypto 
2021-09-23T17:47:45.526Z appoptics:patching patched https 
2021-09-23T17:47:45.526Z appoptics:patching patched http 
2021-09-23T17:47:45.630Z appoptics:patching patched zlib 
2021-09-23T17:47:45.634Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:47:45.635Z appoptics:patching patched fs 
2021-09-23T17:47:45.876Z appoptics:patching patched tedious 11.4.1
2021-09-23T17:47:45.882Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:47:47.055Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:47:47.329Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:47:47.601Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:47:47.866Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:47:48.134Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:47:48.402Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.4.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.4.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.4.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.4.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.4.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.4.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_47_58_094Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.4.2
updated 1 package and audited 1185 packages in 9.553s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:48:00.024Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:48:00.026Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:48:00.026Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:48:00.028Z appoptics:debug using context provider: ace-context
2021-09-23T17:48:00.177Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:48:00.290Z appoptics:patching patched crypto 
2021-09-23T17:48:00.352Z appoptics:patching patched https 
2021-09-23T17:48:00.352Z appoptics:patching patched http 
2021-09-23T17:48:00.544Z appoptics:patching patched zlib 
2021-09-23T17:48:00.556Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:48:00.558Z appoptics:patching patched fs 
2021-09-23T17:48:00.915Z appoptics:patching patched tedious 11.4.2
2021-09-23T17:48:00.922Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:48:02.085Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:48:02.353Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:48:02.617Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:48:02.880Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:48:03.143Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:48:03.411Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.4.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.4.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.4.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.4.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.4.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.4.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:681:20)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at OutgoingMessageStream.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_48_12_722Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.5.0
updated 1 package and audited 1185 packages in 9.673s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:48:14.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:48:14.930Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:48:14.930Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:48:14.931Z appoptics:debug using context provider: ace-context
2021-09-23T17:48:14.995Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:48:15.062Z appoptics:patching patched crypto 
2021-09-23T17:48:15.102Z appoptics:patching patched https 
2021-09-23T17:48:15.102Z appoptics:patching patched http 
2021-09-23T17:48:15.207Z appoptics:patching patched zlib 
2021-09-23T17:48:15.211Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:48:15.214Z appoptics:patching patched fs 
2021-09-23T17:48:15.428Z appoptics:patching patched tedious 11.5.0
2021-09-23T17:48:15.436Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.5.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:48:16.448Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:48:16.716Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:48:16.990Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:48:17.253Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:48:17.516Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:48:17.778Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2940:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.5.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.5.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.5.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.5.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.5.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.5.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_48_28_019Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.6.0
updated 1 package and audited 1185 packages in 10.359s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:48:29.755Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:48:29.757Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:48:29.757Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:48:29.758Z appoptics:debug using context provider: ace-context
2021-09-23T17:48:29.827Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:48:29.932Z appoptics:patching patched crypto 
2021-09-23T17:48:29.985Z appoptics:patching patched https 
2021-09-23T17:48:29.985Z appoptics:patching patched http 
2021-09-23T17:48:30.142Z appoptics:patching patched zlib 
2021-09-23T17:48:30.146Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:48:30.147Z appoptics:patching patched fs 
2021-09-23T17:48:30.396Z appoptics:patching patched tedious 11.6.0
2021-09-23T17:48:30.404Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.6.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:48:31.559Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:48:31.828Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:48:32.094Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:48:32.366Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:48:32.628Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:48:32.889Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1065:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1960:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2994:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.6.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.6.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.6.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.6.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.6.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.6.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1667:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1427:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_48_42_929Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.6.1
updated 1 package and audited 1185 packages in 10.181s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:48:44.687Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:48:44.688Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:48:44.689Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:48:44.689Z appoptics:debug using context provider: ace-context
2021-09-23T17:48:44.755Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:48:44.813Z appoptics:patching patched crypto 
2021-09-23T17:48:44.850Z appoptics:patching patched https 
2021-09-23T17:48:44.850Z appoptics:patching patched http 
2021-09-23T17:48:44.952Z appoptics:patching patched zlib 
2021-09-23T17:48:44.956Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:48:44.956Z appoptics:patching patched fs 
2021-09-23T17:48:45.168Z appoptics:patching patched tedious 11.6.1
2021-09-23T17:48:45.175Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.6.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:48:46.194Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:48:46.465Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:48:46.729Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:48:46.991Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:48:47.256Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:48:47.523Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.6.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.6.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.6.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.6.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.6.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.6.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_48_57_502Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.7.0
updated 1 package and audited 1185 packages in 10.109s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:48:59.314Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:48:59.316Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:48:59.316Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:48:59.316Z appoptics:debug using context provider: ace-context
2021-09-23T17:48:59.377Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:48:59.433Z appoptics:patching patched crypto 
2021-09-23T17:48:59.465Z appoptics:patching patched https 
2021-09-23T17:48:59.466Z appoptics:patching patched http 
2021-09-23T17:48:59.564Z appoptics:patching patched zlib 
2021-09-23T17:48:59.568Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:48:59.569Z appoptics:patching patched fs 
2021-09-23T17:48:59.780Z appoptics:patching patched tedious 11.7.0
2021-09-23T17:48:59.786Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.7.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:49:00.792Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:49:01.060Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:49:01.324Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:49:01.588Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:49:01.859Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:49:02.128Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.7.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.7.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.7.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.7.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.7.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.7.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_49_11_951Z-debug.log
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.8.0
updated 1 package and audited 1185 packages in 10.038s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:49:13.763Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:49:13.765Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:49:13.765Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:49:13.766Z appoptics:debug using context provider: ace-context
2021-09-23T17:49:13.826Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:49:13.882Z appoptics:patching patched crypto 
2021-09-23T17:49:13.917Z appoptics:patching patched https 
2021-09-23T17:49:13.918Z appoptics:patching patched http 
2021-09-23T17:49:14.012Z appoptics:patching patched zlib 
2021-09-23T17:49:14.016Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:49:14.016Z appoptics:patching patched fs 
2021-09-23T17:49:14.263Z appoptics:patching patched tedious 11.8.0
2021-09-23T17:49:14.269Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.8.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:49:15.305Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:49:15.574Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:49:15.839Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:49:16.102Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:49:16.364Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:49:16.629Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2035:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1071:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1966:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3000:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 11.8.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 11.8.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 11.8.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 11.8.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 11.8.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 11.8.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1673:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1433:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_49_26_153Z-debug.log
npm WARN notsup Unsupported engine for tedious@12.0.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@12.0.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.0.0
updated 1 package and audited 1185 packages in 9.703s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:49:28.073Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:49:28.075Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:49:28.075Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:49:28.076Z appoptics:debug using context provider: ace-context
2021-09-23T17:49:28.146Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:49:28.208Z appoptics:patching patched crypto 
2021-09-23T17:49:28.246Z appoptics:patching patched https 
2021-09-23T17:49:28.246Z appoptics:patching patched http 
2021-09-23T17:49:28.378Z appoptics:patching patched zlib 
2021-09-23T17:49:28.382Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:49:28.383Z appoptics:patching patched fs 
2021-09-23T17:49:28.626Z appoptics:patching patched tedious 12.0.0
2021-09-23T17:49:28.633Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:49:29.666Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:49:29.956Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:49:30.230Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:49:30.505Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:49:30.781Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:49:31.048Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2022:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1058:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1953:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2987:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 12.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 12.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 12.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 12.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 12.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 12.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1660:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1420:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_49_40_677Z-debug.log
npm WARN notsup Unsupported engine for tedious@12.1.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@12.1.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.1.0
updated 1 package and audited 1185 packages in 9.755s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:49:42.877Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:49:42.883Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:49:42.883Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:49:42.884Z appoptics:debug using context provider: ace-context
2021-09-23T17:49:42.970Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:49:43.032Z appoptics:patching patched crypto 
2021-09-23T17:49:43.070Z appoptics:patching patched https 
2021-09-23T17:49:43.070Z appoptics:patching patched http 
2021-09-23T17:49:43.206Z appoptics:patching patched zlib 
2021-09-23T17:49:43.210Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:49:43.211Z appoptics:patching patched fs 
2021-09-23T17:49:43.452Z appoptics:patching patched tedious 12.1.0
2021-09-23T17:49:43.458Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.1.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:49:44.522Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:49:44.800Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:49:45.063Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:49:45.326Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:49:45.591Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:49:45.855Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 12.1.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 12.1.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 12.1.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 12.1.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 12.1.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 12.1.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_49_56_616Z-debug.log
npm WARN notsup Unsupported engine for tedious@12.2.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@12.2.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.2.0
updated 1 package and audited 1185 packages in 11.004s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:49:58.440Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:49:58.442Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:49:58.442Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:49:58.443Z appoptics:debug using context provider: ace-context
2021-09-23T17:49:58.506Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:49:58.564Z appoptics:patching patched crypto 
2021-09-23T17:49:58.598Z appoptics:patching patched https 
2021-09-23T17:49:58.598Z appoptics:patching patched http 
2021-09-23T17:49:58.704Z appoptics:patching patched zlib 
2021-09-23T17:49:58.708Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:49:58.709Z appoptics:patching patched fs 
2021-09-23T17:49:58.960Z appoptics:patching patched tedious 12.2.0
2021-09-23T17:49:58.966Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.2.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:49:59.989Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:50:00.268Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:50:00.533Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:50:00.798Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:50:01.062Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:50:01.326Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2030:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1063:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1961:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2995:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 12.2.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 12.2.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 12.2.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 12.2.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 12.2.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 12.2.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1668:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1428:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_50_12_214Z-debug.log
npm WARN notsup Unsupported engine for tedious@12.3.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@12.3.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.3.0
updated 3 packages and audited 1185 packages in 11.059s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:50:14.055Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:50:14.057Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:50:14.057Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:50:14.061Z appoptics:debug using context provider: ace-context
2021-09-23T17:50:14.120Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:50:14.176Z appoptics:patching patched crypto 
2021-09-23T17:50:14.211Z appoptics:patching patched https 
2021-09-23T17:50:14.211Z appoptics:patching patched http 
2021-09-23T17:50:14.318Z appoptics:patching patched zlib 
2021-09-23T17:50:14.323Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:50:14.324Z appoptics:patching patched fs 
2021-09-23T17:50:14.556Z appoptics:patching patched tedious 12.3.0
2021-09-23T17:50:14.562Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.3.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:50:15.586Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:50:15.866Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:50:16.131Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:50:16.397Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:50:16.663Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:50:16.925Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2042:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1075:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1973:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:3007:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 12.3.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 12.3.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 12.3.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 12.3.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 12.3.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 12.3.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1680:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1440:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_50_26_641Z-debug.log
npm WARN notsup Unsupported engine for tedious@13.0.0: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@13.0.0
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.0
removed 17 packages, updated 1 package and audited 1168 packages in 9.801s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:50:28.289Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:50:28.291Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:50:28.291Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:50:28.292Z appoptics:debug using context provider: ace-context
2021-09-23T17:50:28.358Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:50:28.417Z appoptics:patching patched crypto 
2021-09-23T17:50:28.456Z appoptics:patching patched https 
2021-09-23T17:50:28.457Z appoptics:patching patched http 
2021-09-23T17:50:28.548Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:50:28.549Z appoptics:patching patched fs 
2021-09-23T17:50:28.574Z appoptics:patching patched zlib 
2021-09-23T17:50:28.766Z appoptics:patching patched tedious 13.0.0
2021-09-23T17:50:28.772Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.0
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:50:29.814Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:50:30.093Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:50:30.357Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:50:30.620Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:50:30.883Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:50:31.145Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 13.0.0
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 13.0.0
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 13.0.0
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 13.0.0
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 13.0.0
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 13.0.0
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_50_41_881Z-debug.log
npm WARN notsup Unsupported engine for tedious@13.0.1: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@13.0.1
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.1
updated 1 package and audited 1168 packages in 10.831s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:50:43.629Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:50:43.630Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:50:43.631Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:50:43.631Z appoptics:debug using context provider: ace-context
2021-09-23T17:50:43.693Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:50:43.755Z appoptics:patching patched crypto 
2021-09-23T17:50:43.788Z appoptics:patching patched https 
2021-09-23T17:50:43.788Z appoptics:patching patched http 
2021-09-23T17:50:43.896Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:50:43.897Z appoptics:patching patched fs 
2021-09-23T17:50:43.929Z appoptics:patching patched zlib 
2021-09-23T17:50:44.133Z appoptics:patching patched tedious 13.0.1
2021-09-23T17:50:44.139Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.1
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:50:45.251Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:50:45.531Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:50:45.797Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:50:46.061Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:50:46.323Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:50:46.589Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 13.0.1
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 13.0.1
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 13.0.1
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 13.0.1
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 13.0.1
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 13.0.1
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_50_56_179Z-debug.log
npm WARN notsup Unsupported engine for tedious@13.0.2: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@13.0.2
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.2
updated 1 package and audited 1168 packages in 9.641s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:50:58.103Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:50:58.105Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:50:58.105Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:50:58.106Z appoptics:debug using context provider: ace-context
2021-09-23T17:50:58.184Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:50:58.261Z appoptics:patching patched crypto 
2021-09-23T17:50:58.297Z appoptics:patching patched https 
2021-09-23T17:50:58.297Z appoptics:patching patched http 
2021-09-23T17:50:58.406Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:50:58.407Z appoptics:patching patched fs 
2021-09-23T17:50:58.431Z appoptics:patching patched zlib 
2021-09-23T17:50:58.676Z appoptics:patching patched tedious 13.0.2
2021-09-23T17:50:58.683Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.2
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:50:59.780Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:51:00.063Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:51:00.328Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:51:00.594Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:51:00.857Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:51:01.119Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 13.0.2
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 13.0.2
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 13.0.2
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 13.0.2
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 13.0.2
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 13.0.2
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)




> keytar@7.7.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.7.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.8.0-1041-azure
gyp ERR! command "/__t/node/10.24.1/x64/bin/node" "/__t/node/10.24.1/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v10.24.1
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.7.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.7.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2021-09-23T17_51_10_032Z-debug.log
npm WARN notsup Unsupported engine for tedious@13.0.3: wanted: {"node":">= 12"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: tedious@13.0.3
npm WARN notsup Unsupported engine for @azure/identity@1.5.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/identity@1.5.2
npm WARN notsup Unsupported engine for @azure/core-rest-pipeline@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-rest-pipeline@1.3.0
npm WARN notsup Unsupported engine for @azure/core-client@1.3.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-client@1.3.0
npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.12: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.12
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-lro@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-lro@2.2.0
npm WARN notsup Unsupported engine for @azure/core-http@2.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-http@2.2.0
npm WARN notsup Unsupported engine for @azure/core-paging@1.2.0: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-paging@1.2.0
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN notsup Unsupported engine for @azure/core-tracing@1.0.0-preview.13: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-tracing@1.0.0-preview.13
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.7.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.3
updated 1 package and audited 1168 packages in 9.355s

74 packages are looking for funding
  run `npm fund` for details

found 22 vulnerabilities (5 low, 3 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:51:12.243Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:51:12.244Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:51:12.245Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:51:12.245Z appoptics:debug using context provider: ace-context
2021-09-23T17:51:12.307Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:51:12.368Z appoptics:patching patched crypto 
2021-09-23T17:51:12.427Z appoptics:patching patched https 
2021-09-23T17:51:12.428Z appoptics:patching patched http 
2021-09-23T17:51:12.521Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:51:12.522Z appoptics:patching patched fs 
2021-09-23T17:51:12.549Z appoptics:patching patched zlib 
2021-09-23T17:51:12.756Z appoptics:patching patched tedious 13.0.3
2021-09-23T17:51:12.763Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.3
    ✓ UDP might lose a message
    ✓ should sanitize SQL by default
2021-09-23T17:51:13.784Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    1) should support basic queries with a database name
2021-09-23T17:51:14.062Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    2) should support parameters with a database name
2021-09-23T17:51:14.336Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    3) should support sanitization with a database name
2021-09-23T17:51:14.611Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    4) should support basic queries with no database name
2021-09-23T17:51:14.882Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    5) should support parameters with no database name
2021-09-23T17:51:15.145Z appoptics:error ao.runInstrument failed to build span TypeError: Cannot read property 'value' of undefined
    at ao.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:53:58)
    at runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:895:24)
    at Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:806:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:51:15)
    at Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2015:10)
    at Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:222:18)
    at Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)
    at Connection.emit (events.js:198:13)
    at Connection.emit (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1048:18)
    at Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)
    at Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1946:10)
    at Parser.tokenStreamParser.once (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2966:16)
    at Object.onceWrapper (events.js:286:20)
    at Parser.emit (events.js:198:13)
    at Readable.Parser.parser.on (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/token-stream-parser.js:34:12)
    at Readable.emit (events.js:198:13)
    at endReadableNT (_stream_readable.js:1145:12)
    at process._tickCallback (internal/process/next_tick.js:63:19)
    6) should support sanitization with no database name


  2 passing (2s)
  6 failing

  1) probes.tedious 13.0.3
       should support basic queries with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  2) probes.tedious 13.0.3
       should support parameters with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  3) probes.tedious 13.0.3
       should support sanitization with a database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  4) probes.tedious 13.0.3
       should support basic queries with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  5) probes.tedious 13.0.3
       should support parameters with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)

  6) probes.tedious 13.0.3
       should support sanitization with no database name:
     Uncaught ConnectionError: Connection lost - Cannot call write after a stream was destroyed
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1653:54)
      at Socket.socket.on.error (node_modules/tedious/lib/connection.js:1413:14)
      at errorOrDestroy (internal/streams/destroy.js:107:12)
      at onwriteError (_stream_writable.js:430:5)
      at onwrite (_stream_writable.js:461:5)
      at doWrite (_stream_writable.js:411:11)
      at writeOrBuffer (_stream_writable.js:399:5)
      at Socket.Writable.write (_stream_writable.js:299:11)
      at OutgoingMessageStream.ondata (_stream_readable.js:710:20)
      at addChunk (_stream_readable.js:288:12)
      at readableAddChunk (_stream_readable.js:269:11)
      at OutgoingMessageStream.Readable.push (_stream_readable.js:224:10)
      at Message.currentMessage.on (node_modules/tedious/lib/outgoing-message-stream.js:76:12)
      at endReadableNT (_stream_readable.js:1145:12)
      at process._tickCallback (internal/process/next_tick.js:63:19)



npm WARN notsup Unsupported engine for @azure/core-auth@1.3.2: wanted: {"node":">=12.0.0"} (current: {"node":"10.24.1","npm":"6.14.12"})
npm WARN notsup Not compatible with your version of node/npm: @azure/core-auth@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.0.1
added 10 packages from 35 contributors, removed 55 packages, updated 6 packages and audited 1098 packages in 9.962s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
