npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated mkdirp@0.3.3: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.11: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.6.0: connect 2.x series is deprecated

added 19 packages, removed 26 packages, changed 9 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:03:51.847Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:03:51.847Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:03:51.847Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:03:51.848Z appoptics:debug using context provider: ace-context
2022-04-21T21:03:51.909Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:03:52.029Z appoptics:patching patched crypto 
2022-04-21T21:03:52.060Z appoptics:patching patched https 
2022-04-21T21:03:52.060Z appoptics:patching patched http 
2022-04-21T21:03:52.090Z appoptics:patching patched zlib 
2022-04-21T21:03:52.095Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:03:52.096Z appoptics:patching patched fs 
2022-04-21T21:03:52.132Z appoptics:patching express 3.0.0 does not support render spans
2022-04-21T21:03:52.132Z appoptics:patching patched express 3.0.0
2022-04-21T21:03:52.137Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:03:52.142Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.0
    ✓ UDP might lose a message
2022-04-21T21:03:52.174Z appoptics:patching patched raw-body 2.5.1
(node:437) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (222ms)
  3 pending

npm WARN deprecated connect@2.6.2: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 2 packages, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:03:58.257Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:03:58.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:03:58.257Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:03:58.258Z appoptics:debug using context provider: ace-context
2022-04-21T21:03:58.312Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:03:58.453Z appoptics:patching patched crypto 
2022-04-21T21:03:58.471Z appoptics:patching patched https 
2022-04-21T21:03:58.472Z appoptics:patching patched http 
2022-04-21T21:03:58.504Z appoptics:patching patched zlib 
2022-04-21T21:03:58.512Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:03:58.512Z appoptics:patching patched fs 
2022-04-21T21:03:58.540Z appoptics:patching express 3.0.1 does not support render spans
2022-04-21T21:03:58.540Z appoptics:patching patched express 3.0.1
2022-04-21T21:03:58.544Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:03:58.549Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.1
    ✓ UDP might lose a message
2022-04-21T21:03:58.581Z appoptics:patching patched raw-body 2.5.1
(node:459) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (172ms)
  3 pending


changed 1 package, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:04.411Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:04.412Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:04.412Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:04.413Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:04.477Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:04.611Z appoptics:patching patched crypto 
2022-04-21T21:04:04.646Z appoptics:patching patched https 
2022-04-21T21:04:04.652Z appoptics:patching patched http 
2022-04-21T21:04:04.676Z appoptics:patching patched zlib 
2022-04-21T21:04:04.684Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:04.684Z appoptics:patching patched fs 
2022-04-21T21:04:04.713Z appoptics:patching express 3.0.2 does not support render spans
2022-04-21T21:04:04.713Z appoptics:patching patched express 3.0.2
2022-04-21T21:04:04.718Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:04:04.724Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.2
    ✓ UDP might lose a message
2022-04-21T21:04:04.759Z appoptics:patching patched raw-body 2.5.1
(node:481) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (198ms)
  3 pending

npm WARN deprecated connect@2.7.0: connect 2.x series is deprecated

changed 3 packages, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:12.871Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:12.872Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:12.872Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:12.873Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:12.932Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:13.062Z appoptics:patching patched crypto 
2022-04-21T21:04:13.079Z appoptics:patching patched https 
2022-04-21T21:04:13.080Z appoptics:patching patched http 
2022-04-21T21:04:13.108Z appoptics:patching patched zlib 
2022-04-21T21:04:13.132Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:13.133Z appoptics:patching patched fs 
2022-04-21T21:04:13.163Z appoptics:patching express 3.0.3 does not support render spans
2022-04-21T21:04:13.163Z appoptics:patching patched express 3.0.3
2022-04-21T21:04:13.167Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:04:13.172Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.3
    ✓ UDP might lose a message
2022-04-21T21:04:13.203Z appoptics:patching patched raw-body 2.5.1
(node:503) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (195ms)
  3 pending

npm WARN deprecated connect@2.7.1: connect 2.x series is deprecated

added 1 package, changed 2 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:19.183Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:19.183Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:19.183Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:19.184Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:19.261Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:19.395Z appoptics:patching patched crypto 
2022-04-21T21:04:19.424Z appoptics:patching patched https 
2022-04-21T21:04:19.425Z appoptics:patching patched http 
2022-04-21T21:04:19.460Z appoptics:patching patched zlib 
2022-04-21T21:04:19.469Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:19.469Z appoptics:patching patched fs 
2022-04-21T21:04:19.506Z appoptics:patching express 3.0.4 does not support render spans
2022-04-21T21:04:19.506Z appoptics:patching patched express 3.0.4
2022-04-21T21:04:19.513Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:04:19.519Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.4
    ✓ UDP might lose a message
2022-04-21T21:04:19.554Z appoptics:patching patched raw-body 2.5.1
(node:525) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (227ms)
  3 pending


changed 1 package, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:25.863Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:25.864Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:25.864Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:25.865Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:25.928Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:26.062Z appoptics:patching patched crypto 
2022-04-21T21:04:26.082Z appoptics:patching patched https 
2022-04-21T21:04:26.083Z appoptics:patching patched http 
2022-04-21T21:04:26.117Z appoptics:patching patched zlib 
2022-04-21T21:04:26.125Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:26.126Z appoptics:patching patched fs 
2022-04-21T21:04:26.157Z appoptics:patching express 3.0.5 does not support render spans
2022-04-21T21:04:26.157Z appoptics:patching patched express 3.0.5
2022-04-21T21:04:26.161Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:04:26.167Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.5
    ✓ UDP might lose a message
2022-04-21T21:04:26.201Z appoptics:patching patched raw-body 2.5.1
(node:547) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (202ms)
  3 pending

npm WARN deprecated connect@2.7.2: connect 2.x series is deprecated

removed 1 package, changed 2 packages, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:32.430Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:32.431Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:32.431Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:32.432Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:32.492Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:32.640Z appoptics:patching patched crypto 
2022-04-21T21:04:32.680Z appoptics:patching patched https 
2022-04-21T21:04:32.680Z appoptics:patching patched http 
2022-04-21T21:04:32.724Z appoptics:patching patched zlib 
2022-04-21T21:04:32.733Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:32.733Z appoptics:patching patched fs 
2022-04-21T21:04:32.768Z appoptics:patching express 3.0.6 does not support render spans
2022-04-21T21:04:32.768Z appoptics:patching patched express 3.0.6
2022-04-21T21:04:32.772Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:04:32.778Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.6
    ✓ UDP might lose a message
2022-04-21T21:04:32.813Z appoptics:patching patched raw-body 2.5.1
(node:569) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (45ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (330ms)
  3 pending


changed 1 package, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:38.212Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:38.213Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:38.213Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:38.213Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:38.267Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:38.369Z appoptics:patching patched crypto 
2022-04-21T21:04:38.385Z appoptics:patching patched https 
2022-04-21T21:04:38.385Z appoptics:patching patched http 
2022-04-21T21:04:38.415Z appoptics:patching patched zlib 
2022-04-21T21:04:38.422Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:38.423Z appoptics:patching patched fs 
2022-04-21T21:04:38.449Z appoptics:patching express 3.1.0 does not support render spans
2022-04-21T21:04:38.449Z appoptics:patching patched express 3.1.0
2022-04-21T21:04:38.453Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:04:38.458Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.0
    ✓ UDP might lose a message
2022-04-21T21:04:38.487Z appoptics:patching patched raw-body 2.5.1
(node:591) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (193ms)
  3 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.7.4: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:44.466Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:44.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:44.468Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:44.468Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:44.553Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:44.715Z appoptics:patching patched crypto 
2022-04-21T21:04:44.749Z appoptics:patching patched https 
2022-04-21T21:04:44.760Z appoptics:patching patched http 
2022-04-21T21:04:44.785Z appoptics:patching patched zlib 
2022-04-21T21:04:44.793Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:44.794Z appoptics:patching patched fs 
2022-04-21T21:04:44.829Z appoptics:patching express 3.1.1 does not support render spans
2022-04-21T21:04:44.829Z appoptics:patching patched express 3.1.1
2022-04-21T21:04:44.833Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:04:44.839Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.1
    ✓ UDP might lose a message
2022-04-21T21:04:44.874Z appoptics:patching patched raw-body 2.5.1
(node:613) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (219ms)
  3 pending

npm WARN deprecated connect@2.7.5: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:50.447Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:50.447Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:50.448Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:50.448Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:50.502Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:50.611Z appoptics:patching patched crypto 
2022-04-21T21:04:50.629Z appoptics:patching patched https 
2022-04-21T21:04:50.630Z appoptics:patching patched http 
2022-04-21T21:04:50.662Z appoptics:patching patched zlib 
2022-04-21T21:04:50.670Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:50.671Z appoptics:patching patched fs 
2022-04-21T21:04:50.701Z appoptics:patching express 3.1.2 does not support render spans
2022-04-21T21:04:50.701Z appoptics:patching patched express 3.1.2
2022-04-21T21:04:50.705Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:04:50.711Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.2
    ✓ UDP might lose a message
2022-04-21T21:04:50.744Z appoptics:patching patched raw-body 2.5.1
(node:635) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (188ms)
  3 pending

npm WARN deprecated connect@2.7.6: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:56.514Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:56.515Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:56.515Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:56.515Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:56.587Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:56.707Z appoptics:patching patched crypto 
2022-04-21T21:04:56.744Z appoptics:patching patched https 
2022-04-21T21:04:56.745Z appoptics:patching patched http 
2022-04-21T21:04:56.784Z appoptics:patching patched zlib 
2022-04-21T21:04:56.794Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:56.794Z appoptics:patching patched fs 
2022-04-21T21:04:56.828Z appoptics:patching patched express 3.2.0
2022-04-21T21:04:56.833Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:04:56.839Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.0
    ✓ UDP might lose a message
2022-04-21T21:04:56.875Z appoptics:patching patched raw-body 2.5.1
(node:657) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (220ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated mkdirp@0.3.4: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.7.7: connect 2.x series is deprecated
npm WARN deprecated formidable@1.0.13: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau

added 1 package, removed 1 package, changed 6 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:02.378Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:02.379Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:02.379Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:02.379Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:02.432Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:02.536Z appoptics:patching patched crypto 
2022-04-21T21:05:02.552Z appoptics:patching patched https 
2022-04-21T21:05:02.553Z appoptics:patching patched http 
2022-04-21T21:05:02.583Z appoptics:patching patched zlib 
2022-04-21T21:05:02.590Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:02.591Z appoptics:patching patched fs 
2022-04-21T21:05:02.618Z appoptics:patching patched express 3.2.1
2022-04-21T21:05:02.622Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:02.627Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.1
    ✓ UDP might lose a message
2022-04-21T21:05:02.657Z appoptics:patching patched raw-body 2.5.1
(node:679) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (178ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.8: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:08.947Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:08.947Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:08.947Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:08.948Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:09.039Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:09.162Z appoptics:patching patched crypto 
2022-04-21T21:05:09.181Z appoptics:patching patched https 
2022-04-21T21:05:09.182Z appoptics:patching patched http 
2022-04-21T21:05:09.224Z appoptics:patching patched zlib 
2022-04-21T21:05:09.232Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:09.233Z appoptics:patching patched fs 
2022-04-21T21:05:09.264Z appoptics:patching patched express 3.2.2
2022-04-21T21:05:09.268Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:09.274Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.2
    ✓ UDP might lose a message
2022-04-21T21:05:09.308Z appoptics:patching patched raw-body 2.5.1
(node:701) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.9: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:15.580Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:15.580Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:15.580Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:15.581Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:15.636Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:15.742Z appoptics:patching patched crypto 
2022-04-21T21:05:15.758Z appoptics:patching patched https 
2022-04-21T21:05:15.759Z appoptics:patching patched http 
2022-04-21T21:05:15.790Z appoptics:patching patched zlib 
2022-04-21T21:05:15.797Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:15.798Z appoptics:patching patched fs 
2022-04-21T21:05:15.825Z appoptics:patching patched express 3.2.3
2022-04-21T21:05:15.829Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:15.834Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.3
    ✓ UDP might lose a message
2022-04-21T21:05:15.864Z appoptics:patching patched raw-body 2.5.1
(node:723) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (180ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:21.768Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:21.769Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:21.769Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:21.769Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:21.830Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:21.971Z appoptics:patching patched crypto 
2022-04-21T21:05:21.989Z appoptics:patching patched https 
2022-04-21T21:05:21.990Z appoptics:patching patched http 
2022-04-21T21:05:22.019Z appoptics:patching patched zlib 
2022-04-21T21:05:22.042Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:22.042Z appoptics:patching patched fs 
2022-04-21T21:05:22.075Z appoptics:patching patched express 3.2.4
2022-04-21T21:05:22.079Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:22.085Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.4
    ✓ UDP might lose a message
2022-04-21T21:05:22.119Z appoptics:patching patched raw-body 2.5.1
(node:745) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (238ms)
  2 pending

npm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.10: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:27.843Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:27.844Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:27.844Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:27.845Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:27.905Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:28.022Z appoptics:patching patched crypto 
2022-04-21T21:05:28.040Z appoptics:patching patched https 
2022-04-21T21:05:28.041Z appoptics:patching patched http 
2022-04-21T21:05:28.074Z appoptics:patching patched zlib 
2022-04-21T21:05:28.083Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:28.083Z appoptics:patching patched fs 
2022-04-21T21:05:28.114Z appoptics:patching patched express 3.2.5
2022-04-21T21:05:28.119Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:28.124Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.5
    ✓ UDP might lose a message
2022-04-21T21:05:28.158Z appoptics:patching patched raw-body 2.5.1
(node:767) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (198ms)
  2 pending

npm WARN deprecated connect@2.7.11: connect 2.x series is deprecated

added 2 packages, changed 2 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:34.450Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:34.450Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:34.450Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:34.451Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:34.511Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:34.627Z appoptics:patching patched crypto 
2022-04-21T21:05:34.645Z appoptics:patching patched https 
2022-04-21T21:05:34.646Z appoptics:patching patched http 
2022-04-21T21:05:34.680Z appoptics:patching patched zlib 
2022-04-21T21:05:34.688Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:34.688Z appoptics:patching patched fs 
2022-04-21T21:05:34.725Z appoptics:patching patched express 3.2.6
2022-04-21T21:05:34.729Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:34.735Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.6
    ✓ UDP might lose a message
2022-04-21T21:05:34.771Z appoptics:patching patched raw-body 2.5.1
(node:789) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (209ms)
  2 pending

npm WARN deprecated connect@2.8.0: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 4 packages, and audited 921 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:40.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:40.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:40.170Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:40.171Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:40.224Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:40.326Z appoptics:patching patched crypto 
2022-04-21T21:05:40.342Z appoptics:patching patched https 
2022-04-21T21:05:40.343Z appoptics:patching patched http 
2022-04-21T21:05:40.375Z appoptics:patching patched zlib 
2022-04-21T21:05:40.382Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:40.382Z appoptics:patching patched fs 
2022-04-21T21:05:40.411Z appoptics:patching patched express 3.3.0
2022-04-21T21:05:40.414Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:40.420Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.0
    ✓ UDP might lose a message
2022-04-21T21:05:40.450Z appoptics:patching patched raw-body 2.5.1
(node:811) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (189ms)
  2 pending

npm WARN deprecated connect@2.8.1: connect 2.x series is deprecated

changed 2 packages, and audited 921 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:46.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:46.988Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:46.988Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:46.989Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:47.046Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:47.162Z appoptics:patching patched crypto 
2022-04-21T21:05:47.180Z appoptics:patching patched https 
2022-04-21T21:05:47.181Z appoptics:patching patched http 
2022-04-21T21:05:47.215Z appoptics:patching patched zlib 
2022-04-21T21:05:47.223Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:47.224Z appoptics:patching patched fs 
2022-04-21T21:05:47.255Z appoptics:patching patched express 3.3.1
2022-04-21T21:05:47.259Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:47.265Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.1
    ✓ UDP might lose a message
2022-04-21T21:05:47.300Z appoptics:patching patched raw-body 2.5.1
(node:833) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (187ms)
  2 pending

npm WARN deprecated connect@2.8.2: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 3 packages, and audited 921 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:52.547Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:52.548Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:52.548Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:52.549Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:52.607Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:52.724Z appoptics:patching patched crypto 
2022-04-21T21:05:52.741Z appoptics:patching patched https 
2022-04-21T21:05:52.742Z appoptics:patching patched http 
2022-04-21T21:05:52.776Z appoptics:patching patched zlib 
2022-04-21T21:05:52.784Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:52.784Z appoptics:patching patched fs 
2022-04-21T21:05:52.816Z appoptics:patching patched express 3.3.2
2022-04-21T21:05:52.820Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:52.826Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.2
    ✓ UDP might lose a message
2022-04-21T21:05:52.859Z appoptics:patching patched raw-body 2.5.1
(node:855) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (193ms)
  2 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.8.3: connect 2.x series is deprecated

added 1 package, changed 4 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:58.971Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:58.972Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:58.972Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:58.973Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:59.031Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:59.145Z appoptics:patching patched crypto 
2022-04-21T21:05:59.164Z appoptics:patching patched https 
2022-04-21T21:05:59.165Z appoptics:patching patched http 
2022-04-21T21:05:59.196Z appoptics:patching patched zlib 
2022-04-21T21:05:59.204Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:59.205Z appoptics:patching patched fs 
2022-04-21T21:05:59.237Z appoptics:patching patched express 3.3.3
2022-04-21T21:05:59.241Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:05:59.247Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.3
    ✓ UDP might lose a message
2022-04-21T21:05:59.279Z appoptics:patching patched raw-body 2.5.1
(node:877) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated connect@2.8.4: connect 2.x series is deprecated

changed 3 packages, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:05.033Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:05.033Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:05.033Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:05.034Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:05.096Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:05.232Z appoptics:patching patched crypto 
2022-04-21T21:06:05.250Z appoptics:patching patched https 
2022-04-21T21:06:05.251Z appoptics:patching patched http 
2022-04-21T21:06:05.284Z appoptics:patching patched zlib 
2022-04-21T21:06:05.292Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:05.293Z appoptics:patching patched fs 
2022-04-21T21:06:05.325Z appoptics:patching patched express 3.3.4
2022-04-21T21:06:05.329Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:05.336Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.4
    ✓ UDP might lose a message
2022-04-21T21:06:05.370Z appoptics:patching patched raw-body 2.5.1
(node:899) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (203ms)
  2 pending

npm WARN deprecated connect@2.8.5: connect 2.x series is deprecated

changed 4 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:11.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:11.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:11.886Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:11.887Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:11.947Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:12.063Z appoptics:patching patched crypto 
2022-04-21T21:06:12.081Z appoptics:patching patched https 
2022-04-21T21:06:12.082Z appoptics:patching patched http 
2022-04-21T21:06:12.117Z appoptics:patching patched zlib 
2022-04-21T21:06:12.125Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:12.125Z appoptics:patching patched fs 
2022-04-21T21:06:12.157Z appoptics:patching patched express 3.3.5
2022-04-21T21:06:12.161Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:12.167Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.5
    ✓ UDP might lose a message
2022-04-21T21:06:12.201Z appoptics:patching patched raw-body 2.5.1
(node:921) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (210ms)
  2 pending


changed 1 package, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:17.798Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:17.799Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:17.799Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:17.800Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:17.855Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:17.966Z appoptics:patching patched crypto 
2022-04-21T21:06:17.984Z appoptics:patching patched https 
2022-04-21T21:06:17.984Z appoptics:patching patched http 
2022-04-21T21:06:18.018Z appoptics:patching patched zlib 
2022-04-21T21:06:18.027Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:18.027Z appoptics:patching patched fs 
2022-04-21T21:06:18.059Z appoptics:patching patched express 3.3.6
2022-04-21T21:06:18.063Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:18.069Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.6
    ✓ UDP might lose a message
2022-04-21T21:06:18.103Z appoptics:patching patched raw-body 2.5.1
(node:943) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated connect@2.8.7: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:24.277Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:24.278Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:24.278Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:24.279Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:24.339Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:24.456Z appoptics:patching patched crypto 
2022-04-21T21:06:24.474Z appoptics:patching patched https 
2022-04-21T21:06:24.475Z appoptics:patching patched http 
2022-04-21T21:06:24.509Z appoptics:patching patched zlib 
2022-04-21T21:06:24.517Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:24.518Z appoptics:patching patched fs 
2022-04-21T21:06:24.550Z appoptics:patching patched express 3.3.7
2022-04-21T21:06:24.554Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:24.560Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.7
    ✓ UDP might lose a message
2022-04-21T21:06:24.596Z appoptics:patching patched raw-body 2.5.1
(node:965) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (204ms)
  2 pending

npm WARN deprecated connect@2.8.8: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:30.119Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:30.119Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:30.119Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:30.120Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:30.172Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:30.275Z appoptics:patching patched crypto 
2022-04-21T21:06:30.290Z appoptics:patching patched https 
2022-04-21T21:06:30.291Z appoptics:patching patched http 
2022-04-21T21:06:30.323Z appoptics:patching patched zlib 
2022-04-21T21:06:30.330Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:30.330Z appoptics:patching patched fs 
2022-04-21T21:06:30.358Z appoptics:patching patched express 3.3.8
2022-04-21T21:06:30.362Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:30.367Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.8
    ✓ UDP might lose a message
2022-04-21T21:06:30.396Z appoptics:patching patched raw-body 2.5.1
(node:987) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (175ms)
  2 pending

npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.9.0: connect 2.x series is deprecated

added 6 packages, removed 2 packages, changed 3 packages, and audited 926 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:36.634Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:36.635Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:36.635Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:36.635Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:36.689Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:36.793Z appoptics:patching patched crypto 
2022-04-21T21:06:36.809Z appoptics:patching patched https 
2022-04-21T21:06:36.810Z appoptics:patching patched http 
2022-04-21T21:06:36.842Z appoptics:patching patched zlib 
2022-04-21T21:06:36.849Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:36.850Z appoptics:patching patched fs 
2022-04-21T21:06:36.884Z appoptics:patching patched express 3.4.0
2022-04-21T21:06:36.888Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:36.893Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.0
    ✓ UDP might lose a message
2022-04-21T21:06:36.925Z appoptics:patching patched raw-body 2.5.1
(node:1009) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (176ms)
  2 pending

npm WARN deprecated connect@2.9.1: connect 2.x series is deprecated

removed 5 packages, changed 5 packages, and audited 921 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:42.527Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:42.527Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:42.527Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:42.528Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:42.585Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:42.701Z appoptics:patching patched crypto 
2022-04-21T21:06:42.718Z appoptics:patching patched https 
2022-04-21T21:06:42.719Z appoptics:patching patched http 
2022-04-21T21:06:42.752Z appoptics:patching patched zlib 
2022-04-21T21:06:42.759Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:42.760Z appoptics:patching patched fs 
2022-04-21T21:06:42.793Z appoptics:patching patched express 3.4.1
2022-04-21T21:06:42.798Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:42.804Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.1
    ✓ UDP might lose a message
2022-04-21T21:06:42.836Z appoptics:patching patched raw-body 2.5.1
(node:1031) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (191ms)
  2 pending

npm WARN deprecated connect@2.9.2: connect 2.x series is deprecated

added 4 packages, changed 4 packages, and audited 925 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:48.863Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:48.863Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:48.863Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:48.864Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:48.923Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:49.041Z appoptics:patching patched crypto 
2022-04-21T21:06:49.059Z appoptics:patching patched https 
2022-04-21T21:06:49.060Z appoptics:patching patched http 
2022-04-21T21:06:49.092Z appoptics:patching patched zlib 
2022-04-21T21:06:49.100Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:49.101Z appoptics:patching patched fs 
2022-04-21T21:06:49.127Z appoptics:patching patched raw-body 0.0.3
2022-04-21T21:06:49.139Z appoptics:patching patched express 3.4.2
2022-04-21T21:06:49.143Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:49.150Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.2
    ✓ UDP might lose a message
2022-04-21T21:06:49.186Z appoptics:patching patched raw-body 2.5.1
(node:1053) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (194ms)
  2 pending

npm WARN deprecated connect@2.10.1: connect 2.x series is deprecated

changed 2 packages, and audited 925 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:54.690Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:54.690Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:54.690Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:54.691Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:54.750Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:54.864Z appoptics:patching patched crypto 
2022-04-21T21:06:54.881Z appoptics:patching patched https 
2022-04-21T21:06:54.882Z appoptics:patching patched http 
2022-04-21T21:06:54.914Z appoptics:patching patched zlib 
2022-04-21T21:06:54.922Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:54.923Z appoptics:patching patched fs 
2022-04-21T21:06:54.948Z appoptics:patching patched raw-body 0.0.3
2022-04-21T21:06:54.959Z appoptics:patching patched express 3.4.3
2022-04-21T21:06:54.964Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:06:54.970Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.3
    ✓ UDP might lose a message
2022-04-21T21:06:55.004Z appoptics:patching patched raw-body 2.5.1
(node:1075) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (217ms)
  2 pending

npm WARN deprecated connect@2.11.0: connect 2.x series is deprecated

changed 6 packages, and audited 925 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:01.265Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:01.265Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:01.265Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:01.266Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:01.329Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:01.444Z appoptics:patching patched crypto 
2022-04-21T21:07:01.462Z appoptics:patching patched https 
2022-04-21T21:07:01.463Z appoptics:patching patched http 
2022-04-21T21:07:01.494Z appoptics:patching patched zlib 
2022-04-21T21:07:01.502Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:01.502Z appoptics:patching patched fs 
2022-04-21T21:07:01.525Z appoptics:patching patched raw-body 0.0.3
2022-04-21T21:07:01.535Z appoptics:patching patched express 3.4.4
2022-04-21T21:07:01.539Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:01.545Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.4
    ✓ UDP might lose a message
2022-04-21T21:07:01.574Z appoptics:patching patched raw-body 2.5.1
(node:1097) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (185ms)
  2 pending

npm WARN deprecated connect@2.11.1: connect 2.x series is deprecated

added 2 packages, changed 4 packages, and audited 927 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:07.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:07.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:07.472Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:07.472Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:07.534Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:07.672Z appoptics:patching patched crypto 
2022-04-21T21:07:07.691Z appoptics:patching patched https 
2022-04-21T21:07:07.691Z appoptics:patching patched http 
2022-04-21T21:07:07.729Z appoptics:patching patched zlib 
2022-04-21T21:07:07.736Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:07.736Z appoptics:patching patched fs 
2022-04-21T21:07:07.765Z appoptics:patching patched raw-body 1.1.1
2022-04-21T21:07:07.776Z appoptics:patching patched express 3.4.5
2022-04-21T21:07:07.781Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:07.787Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.5
    ✓ UDP might lose a message
2022-04-21T21:07:07.822Z appoptics:patching patched raw-body 2.5.1
(node:1119) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (210ms)
  2 pending

npm WARN deprecated connect@2.11.2: connect 2.x series is deprecated

changed 3 packages, and audited 927 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:14.324Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:14.325Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:14.325Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:14.325Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:14.384Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:14.499Z appoptics:patching patched crypto 
2022-04-21T21:07:14.528Z appoptics:patching patched https 
2022-04-21T21:07:14.534Z appoptics:patching patched http 
2022-04-21T21:07:14.558Z appoptics:patching patched zlib 
2022-04-21T21:07:14.565Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:14.566Z appoptics:patching patched fs 
2022-04-21T21:07:14.594Z appoptics:patching patched raw-body 1.1.2
2022-04-21T21:07:14.605Z appoptics:patching patched express 3.4.6
2022-04-21T21:07:14.609Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:14.615Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.6
    ✓ UDP might lose a message
2022-04-21T21:07:14.651Z appoptics:patching patched raw-body 2.5.1
(node:1141) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (204ms)
  2 pending

npm WARN deprecated connect@2.12.0: connect 2.x series is deprecated

added 2 packages, changed 3 packages, and audited 929 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:20.466Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:20.466Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:20.466Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:20.467Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:20.530Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:20.662Z appoptics:patching patched crypto 
2022-04-21T21:07:20.697Z appoptics:patching patched https 
2022-04-21T21:07:20.698Z appoptics:patching patched http 
2022-04-21T21:07:20.732Z appoptics:patching patched zlib 
2022-04-21T21:07:20.739Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:20.739Z appoptics:patching patched fs 
2022-04-21T21:07:20.769Z appoptics:patching patched raw-body 1.1.2
2022-04-21T21:07:20.781Z appoptics:patching patched express 3.4.7
2022-04-21T21:07:20.785Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:20.790Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.7
    ✓ UDP might lose a message
2022-04-21T21:07:20.824Z appoptics:patching patched raw-body 2.5.1
(node:1163) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (217ms)
  2 pending


changed 1 package, and audited 929 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:27.219Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:27.220Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:27.220Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:27.220Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:27.281Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:27.398Z appoptics:patching patched crypto 
2022-04-21T21:07:27.417Z appoptics:patching patched https 
2022-04-21T21:07:27.418Z appoptics:patching patched http 
2022-04-21T21:07:27.453Z appoptics:patching patched zlib 
2022-04-21T21:07:27.461Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:27.461Z appoptics:patching patched fs 
2022-04-21T21:07:27.489Z appoptics:patching patched raw-body 1.1.2
2022-04-21T21:07:27.500Z appoptics:patching patched express 3.4.8
2022-04-21T21:07:27.505Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:27.511Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.8
    ✓ UDP might lose a message
2022-04-21T21:07:27.547Z appoptics:patching patched raw-body 2.5.1
(node:1185) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (208ms)
  2 pending

npm WARN deprecated static-favicon@1.0.0: use serve-favicon module
npm WARN deprecated connect@2.14.1: connect 2.x series is deprecated

added 22 packages, removed 1 package, changed 10 packages, and audited 950 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:34.618Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:34.619Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:34.619Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:34.620Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:34.697Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:34.849Z appoptics:patching patched crypto 
2022-04-21T21:07:34.890Z appoptics:patching patched https 
2022-04-21T21:07:34.891Z appoptics:patching patched http 
2022-04-21T21:07:34.929Z appoptics:patching patched zlib 
2022-04-21T21:07:34.937Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:34.937Z appoptics:patching patched fs 
2022-04-21T21:07:34.969Z appoptics:patching patched raw-body 1.1.3
2022-04-21T21:07:34.984Z appoptics:patching patched morgan 1.0.0
2022-04-21T21:07:34.989Z appoptics:patching patched express 3.5.0
2022-04-21T21:07:34.993Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:34.999Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.0
    ✓ UDP might lose a message
2022-04-21T21:07:35.035Z appoptics:patching patched raw-body 2.5.1
(node:1207) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (201ms)
  2 pending


changed 1 package, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:40.745Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:40.746Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:40.746Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:40.747Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:40.806Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:40.939Z appoptics:patching patched crypto 
2022-04-21T21:07:40.984Z appoptics:patching patched https 
2022-04-21T21:07:40.985Z appoptics:patching patched http 
2022-04-21T21:07:41.028Z appoptics:patching patched zlib 
2022-04-21T21:07:41.035Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:41.035Z appoptics:patching patched fs 
2022-04-21T21:07:41.065Z appoptics:patching patched raw-body 1.1.3
2022-04-21T21:07:41.079Z appoptics:patching patched morgan 1.0.0
2022-04-21T21:07:41.086Z appoptics:patching patched express 3.5.1
2022-04-21T21:07:41.090Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:41.097Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.1
    ✓ UDP might lose a message
2022-04-21T21:07:41.130Z appoptics:patching patched raw-body 2.5.1
(node:1229) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated scmp@0.0.3: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated static-favicon@1.0.2: use serve-favicon module
npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.14.5: connect 2.x series is deprecated

added 5 packages, changed 10 packages, and audited 955 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:47.993Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:47.999Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:47.999Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:48.000Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:48.078Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:48.203Z appoptics:patching patched crypto 
2022-04-21T21:07:48.221Z appoptics:patching patched https 
2022-04-21T21:07:48.222Z appoptics:patching patched http 
2022-04-21T21:07:48.257Z appoptics:patching patched zlib 
2022-04-21T21:07:48.264Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:48.264Z appoptics:patching patched fs 
2022-04-21T21:07:48.293Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:07:48.308Z appoptics:patching patched morgan 1.0.0
2022-04-21T21:07:48.317Z appoptics:patching patched express 3.5.2
2022-04-21T21:07:48.321Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:48.327Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.2
    ✓ UDP might lose a message
2022-04-21T21:07:48.361Z appoptics:patching patched raw-body 2.5.1
(node:1251) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 955 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:53.966Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:53.966Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:53.967Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:53.967Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:54.026Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:54.142Z appoptics:patching patched crypto 
2022-04-21T21:07:54.159Z appoptics:patching patched https 
2022-04-21T21:07:54.160Z appoptics:patching patched http 
2022-04-21T21:07:54.193Z appoptics:patching patched zlib 
2022-04-21T21:07:54.200Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:54.200Z appoptics:patching patched fs 
2022-04-21T21:07:54.228Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:07:54.243Z appoptics:patching patched morgan 1.0.0
2022-04-21T21:07:54.252Z appoptics:patching patched express 3.5.3
2022-04-21T21:07:54.256Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:07:54.262Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.3
    ✓ UDP might lose a message
2022-04-21T21:07:54.295Z appoptics:patching patched raw-body 2.5.1
(node:1273) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (195ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.15.0: connect 2.x series is deprecated

added 3 packages, removed 5 packages, changed 14 packages, and audited 953 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (3 low, 11 moderate, 11 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:01.099Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:01.099Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:01.099Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:01.100Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:01.159Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:01.275Z appoptics:patching patched crypto 
2022-04-21T21:08:01.292Z appoptics:patching patched https 
2022-04-21T21:08:01.293Z appoptics:patching patched http 
2022-04-21T21:08:01.328Z appoptics:patching patched zlib 
2022-04-21T21:08:01.335Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:01.335Z appoptics:patching patched fs 
2022-04-21T21:08:01.363Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:08:01.377Z appoptics:patching patched morgan 1.0.1
2022-04-21T21:08:01.382Z appoptics:patching patched express 3.6.0
2022-04-21T21:08:01.390Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:01.396Z appoptics:debug starting runtimeMetrics


  probes.express 3.6.0
    ✓ UDP might lose a message
2022-04-21T21:08:01.429Z appoptics:patching patched raw-body 2.5.1
(node:1295) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (196ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.16.2: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 10 packages, and audited 962 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:08.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:08.085Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:08.085Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:08.086Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:08.148Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:08.291Z appoptics:patching patched crypto 
2022-04-21T21:08:08.321Z appoptics:patching patched https 
2022-04-21T21:08:08.322Z appoptics:patching patched http 
2022-04-21T21:08:08.354Z appoptics:patching patched zlib 
2022-04-21T21:08:08.361Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:08.361Z appoptics:patching patched fs 
2022-04-21T21:08:08.399Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:08:08.413Z appoptics:patching patched morgan 1.0.1
2022-04-21T21:08:08.422Z appoptics:patching patched express 3.7.0
2022-04-21T21:08:08.428Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:08.434Z appoptics:debug starting runtimeMetrics


  probes.express 3.7.0
    ✓ UDP might lose a message
2022-04-21T21:08:08.469Z appoptics:patching patched raw-body 2.5.1
(node:1317) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (205ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.1: connect 2.x series is deprecated

removed 1 package, changed 6 packages, and audited 961 packages in 23s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:31.708Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:31.709Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:31.709Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:31.709Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:31.766Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:31.882Z appoptics:patching patched crypto 
2022-04-21T21:08:31.899Z appoptics:patching patched https 
2022-04-21T21:08:31.900Z appoptics:patching patched http 
2022-04-21T21:08:31.932Z appoptics:patching patched zlib 
2022-04-21T21:08:31.939Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:31.940Z appoptics:patching patched fs 
2022-04-21T21:08:31.976Z appoptics:patching patched raw-body 1.1.4
2022-04-21T21:08:31.989Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:08:31.997Z appoptics:patching patched express 3.8.0
2022-04-21T21:08:32.003Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:32.009Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.0
    ✓ UDP might lose a message
2022-04-21T21:08:32.039Z appoptics:patching patched raw-body 2.5.1
(node:1339) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (193ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.3: connect 2.x series is deprecated

removed 1 package, changed 7 packages, and audited 960 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 12 moderate, 13 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:38.759Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:38.759Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:38.760Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:38.760Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:38.830Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:38.964Z appoptics:patching patched crypto 
2022-04-21T21:08:38.987Z appoptics:patching patched https 
2022-04-21T21:08:38.987Z appoptics:patching patched http 
2022-04-21T21:08:39.021Z appoptics:patching patched zlib 
2022-04-21T21:08:39.027Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:39.028Z appoptics:patching patched fs 
2022-04-21T21:08:39.060Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:08:39.072Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:08:39.078Z appoptics:patching patched express 3.8.1
2022-04-21T21:08:39.083Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:39.088Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.1
    ✓ UDP might lose a message
2022-04-21T21:08:39.120Z appoptics:patching patched raw-body 2.5.1
(node:1361) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (185ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.18.0: connect 2.x series is deprecated

added 4 packages, removed 3 packages, changed 12 packages, and audited 961 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:45.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:45.327Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:45.327Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:45.327Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:45.419Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:45.538Z appoptics:patching patched crypto 
2022-04-21T21:08:45.581Z appoptics:patching patched https 
2022-04-21T21:08:45.599Z appoptics:patching patched http 
2022-04-21T21:08:45.628Z appoptics:patching patched zlib 
2022-04-21T21:08:45.636Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:45.637Z appoptics:patching patched fs 
2022-04-21T21:08:45.681Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:08:45.696Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:08:45.702Z appoptics:patching patched express 3.9.0
2022-04-21T21:08:45.717Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:45.725Z appoptics:debug starting runtimeMetrics


  probes.express 3.9.0
    ✓ UDP might lose a message
2022-04-21T21:08:45.763Z appoptics:patching patched raw-body 2.5.1
(node:1383) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (269ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.1: connect 2.x series is deprecated

added 2 packages, changed 12 packages, and audited 963 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:52.138Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:52.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:52.139Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:52.140Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:52.199Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:52.316Z appoptics:patching patched crypto 
2022-04-21T21:08:52.340Z appoptics:patching patched https 
2022-04-21T21:08:52.341Z appoptics:patching patched http 
2022-04-21T21:08:52.371Z appoptics:patching patched zlib 
2022-04-21T21:08:52.379Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:52.380Z appoptics:patching patched fs 
2022-04-21T21:08:52.412Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:08:52.426Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:08:52.434Z appoptics:patching patched express 3.10.0
2022-04-21T21:08:52.440Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:52.446Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.0
    ✓ UDP might lose a message
2022-04-21T21:08:52.480Z appoptics:patching patched raw-body 2.5.1
(node:1405) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (196ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.2: connect 2.x series is deprecated

changed 5 packages, and audited 963 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:59.344Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:59.345Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:59.345Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:59.345Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:59.406Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:59.523Z appoptics:patching patched crypto 
2022-04-21T21:08:59.540Z appoptics:patching patched https 
2022-04-21T21:08:59.541Z appoptics:patching patched http 
2022-04-21T21:08:59.576Z appoptics:patching patched zlib 
2022-04-21T21:08:59.584Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:59.584Z appoptics:patching patched fs 
2022-04-21T21:08:59.615Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:08:59.629Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:08:59.637Z appoptics:patching patched express 3.10.1
2022-04-21T21:08:59.643Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:08:59.650Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.1
    ✓ UDP might lose a message
2022-04-21T21:08:59.694Z appoptics:patching patched raw-body 2.5.1
(node:1427) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (224ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.3: connect 2.x series is deprecated

changed 4 packages, and audited 963 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:05.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:05.691Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:05.691Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:05.692Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:05.748Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:05.864Z appoptics:patching patched crypto 
2022-04-21T21:09:05.887Z appoptics:patching patched https 
2022-04-21T21:09:05.888Z appoptics:patching patched http 
2022-04-21T21:09:05.917Z appoptics:patching patched zlib 
2022-04-21T21:09:05.925Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:05.925Z appoptics:patching patched fs 
2022-04-21T21:09:05.954Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:09:05.968Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:09:05.975Z appoptics:patching patched express 3.10.2
2022-04-21T21:09:05.981Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:05.986Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.2
    ✓ UDP might lose a message
2022-04-21T21:09:06.023Z appoptics:patching patched raw-body 2.5.1
(node:1449) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (210ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.4: connect 2.x series is deprecated

added 3 packages, changed 8 packages, and audited 966 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:13.497Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:13.498Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:13.498Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:13.498Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:13.554Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:13.671Z appoptics:patching patched crypto 
2022-04-21T21:09:13.700Z appoptics:patching patched https 
2022-04-21T21:09:13.701Z appoptics:patching patched http 
2022-04-21T21:09:13.734Z appoptics:patching patched zlib 
2022-04-21T21:09:13.742Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:13.742Z appoptics:patching patched fs 
2022-04-21T21:09:13.775Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:09:13.789Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:09:13.798Z appoptics:patching patched express 3.10.3
2022-04-21T21:09:13.803Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:13.809Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.3
    ✓ UDP might lose a message
2022-04-21T21:09:13.841Z appoptics:patching patched raw-body 2.5.1
(node:1471) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.5: connect 2.x series is deprecated

added 6 packages, changed 11 packages, and audited 972 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:20.184Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:20.184Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:20.184Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:20.185Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:20.254Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:20.386Z appoptics:patching patched crypto 
2022-04-21T21:09:20.417Z appoptics:patching patched https 
2022-04-21T21:09:20.417Z appoptics:patching patched http 
2022-04-21T21:09:20.452Z appoptics:patching patched zlib 
2022-04-21T21:09:20.465Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:20.465Z appoptics:patching patched fs 
2022-04-21T21:09:20.503Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:09:20.528Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:09:20.535Z appoptics:patching patched express 3.10.4
2022-04-21T21:09:20.541Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:20.551Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.4
    ✓ UDP might lose a message
2022-04-21T21:09:20.583Z appoptics:patching patched raw-body 2.5.1
(node:1493) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (218ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.6: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 15 packages, and audited 972 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (2 low, 11 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:27.682Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:27.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:27.683Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:27.684Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:27.745Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:27.865Z appoptics:patching patched crypto 
2022-04-21T21:09:27.883Z appoptics:patching patched https 
2022-04-21T21:09:27.883Z appoptics:patching patched http 
2022-04-21T21:09:27.920Z appoptics:patching patched zlib 
2022-04-21T21:09:27.932Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:27.932Z appoptics:patching patched fs 
2022-04-21T21:09:27.968Z appoptics:patching patched raw-body 1.1.6
2022-04-21T21:09:27.983Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:09:27.991Z appoptics:patching patched express 3.10.5
2022-04-21T21:09:27.998Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:28.016Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.5
    ✓ UDP might lose a message
2022-04-21T21:09:28.056Z appoptics:patching patched raw-body 2.5.1
(node:1515) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (226ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.
npm WARN deprecated connect@2.20.2: connect 2.x series is deprecated

added 14 packages, removed 2 packages, changed 20 packages, and audited 984 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 11 moderate, 21 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:36.025Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:36.026Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:36.026Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:36.026Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:36.086Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:36.204Z appoptics:patching patched crypto 
2022-04-21T21:09:36.231Z appoptics:patching patched https 
2022-04-21T21:09:36.232Z appoptics:patching patched http 
2022-04-21T21:09:36.256Z appoptics:patching patched zlib 
2022-04-21T21:09:36.273Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:36.274Z appoptics:patching patched fs 
2022-04-21T21:09:36.321Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:09:36.331Z appoptics:patching patched express 3.11.0
2022-04-21T21:09:36.339Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:36.345Z appoptics:debug starting runtimeMetrics


  probes.express 3.11.0
    ✓ UDP might lose a message
2022-04-21T21:09:36.377Z appoptics:patching patched raw-body 2.5.1
(node:1537) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (201ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.0: connect 2.x series is deprecated

added 15 packages, removed 2 packages, changed 12 packages, and audited 997 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 10 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:42.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:42.706Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:42.706Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:42.707Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:42.766Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:42.888Z appoptics:patching patched crypto 
2022-04-21T21:09:42.906Z appoptics:patching patched https 
2022-04-21T21:09:42.907Z appoptics:patching patched http 
2022-04-21T21:09:42.941Z appoptics:patching patched zlib 
2022-04-21T21:09:42.959Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:42.959Z appoptics:patching patched fs 
2022-04-21T21:09:43.014Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:09:43.026Z appoptics:patching patched express 3.12.0
2022-04-21T21:09:43.031Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:43.037Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.0
    ✓ UDP might lose a message
2022-04-21T21:09:43.068Z appoptics:patching patched raw-body 2.5.1
(node:1559) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (200ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.1: connect 2.x series is deprecated

added 2 packages, removed 2 packages, changed 6 packages, and audited 997 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:49.875Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:49.875Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:49.875Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:49.876Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:49.935Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:50.051Z appoptics:patching patched crypto 
2022-04-21T21:09:50.068Z appoptics:patching patched https 
2022-04-21T21:09:50.069Z appoptics:patching patched http 
2022-04-21T21:09:50.103Z appoptics:patching patched zlib 
2022-04-21T21:09:50.121Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:50.121Z appoptics:patching patched fs 
2022-04-21T21:09:50.171Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:09:50.182Z appoptics:patching patched express 3.12.1
2022-04-21T21:09:50.187Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:50.193Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.1
    ✓ UDP might lose a message
2022-04-21T21:09:50.227Z appoptics:patching patched raw-body 2.5.1
(node:1581) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (204ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.22.0: connect 2.x series is deprecated

added 8 packages, removed 1 package, changed 10 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:56.498Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:56.499Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:56.499Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:56.500Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:56.557Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:56.675Z appoptics:patching patched crypto 
2022-04-21T21:09:56.694Z appoptics:patching patched https 
2022-04-21T21:09:56.695Z appoptics:patching patched http 
2022-04-21T21:09:56.726Z appoptics:patching patched zlib 
2022-04-21T21:09:56.744Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:56.744Z appoptics:patching patched fs 
2022-04-21T21:09:56.808Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:09:56.817Z appoptics:patching patched express 3.13.0
2022-04-21T21:09:56.822Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:09:56.828Z appoptics:debug starting runtimeMetrics


  probes.express 3.13.0
    ✓ UDP might lose a message
2022-04-21T21:09:56.869Z appoptics:patching patched raw-body 2.5.1
(node:1603) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (93ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (255ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.23.0: connect 2.x series is deprecated

added 3 packages, removed 1 package, changed 10 packages, and audited 1006 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:03.237Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:03.237Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:03.237Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:03.238Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:03.297Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:03.416Z appoptics:patching patched crypto 
2022-04-21T21:10:03.434Z appoptics:patching patched https 
2022-04-21T21:10:03.434Z appoptics:patching patched http 
2022-04-21T21:10:03.470Z appoptics:patching patched zlib 
2022-04-21T21:10:03.488Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:03.488Z appoptics:patching patched fs 
2022-04-21T21:10:03.551Z appoptics:patching patched morgan 1.1.1
2022-04-21T21:10:03.562Z appoptics:patching patched express 3.14.0
2022-04-21T21:10:03.566Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:03.572Z appoptics:debug starting runtimeMetrics


  probes.express 3.14.0
    ✓ UDP might lose a message
2022-04-21T21:10:03.600Z appoptics:patching patched raw-body 2.5.1
(node:1625) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (203ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.0: connect 2.x series is deprecated

added 8 packages, removed 3 packages, changed 26 packages, and audited 1011 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:11.010Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:11.010Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:11.010Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:11.011Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:11.117Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:11.240Z appoptics:patching patched crypto 
2022-04-21T21:10:11.258Z appoptics:patching patched https 
2022-04-21T21:10:11.258Z appoptics:patching patched http 
2022-04-21T21:10:11.293Z appoptics:patching patched zlib 
2022-04-21T21:10:11.312Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:11.312Z appoptics:patching patched fs 
2022-04-21T21:10:11.382Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:10:11.393Z appoptics:patching patched express 3.15.0
2022-04-21T21:10:11.398Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:11.403Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.0
    ✓ UDP might lose a message
2022-04-21T21:10:11.433Z appoptics:patching patched raw-body 2.5.1
(node:1647) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (192ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.1: connect 2.x series is deprecated

changed 7 packages, and audited 1011 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:17.440Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:17.441Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:17.441Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:17.442Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:17.496Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:17.603Z appoptics:patching patched crypto 
2022-04-21T21:10:17.619Z appoptics:patching patched https 
2022-04-21T21:10:17.620Z appoptics:patching patched http 
2022-04-21T21:10:17.655Z appoptics:patching patched zlib 
2022-04-21T21:10:17.671Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:17.672Z appoptics:patching patched fs 
2022-04-21T21:10:17.735Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:10:17.745Z appoptics:patching patched express 3.15.1
2022-04-21T21:10:17.749Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:17.754Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.1
    ✓ UDP might lose a message
2022-04-21T21:10:17.783Z appoptics:patching patched raw-body 2.5.1
(node:1669) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (198ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.2: connect 2.x series is deprecated

removed 2 packages, changed 7 packages, and audited 1009 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:24.230Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:24.231Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:24.231Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:24.232Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:24.312Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:24.441Z appoptics:patching patched crypto 
2022-04-21T21:10:24.468Z appoptics:patching patched https 
2022-04-21T21:10:24.474Z appoptics:patching patched http 
2022-04-21T21:10:24.497Z appoptics:patching patched zlib 
2022-04-21T21:10:24.513Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:24.513Z appoptics:patching patched fs 
2022-04-21T21:10:24.577Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:10:24.588Z appoptics:patching patched express 3.15.2
2022-04-21T21:10:24.594Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:24.599Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.2
    ✓ UDP might lose a message
2022-04-21T21:10:24.638Z appoptics:patching patched raw-body 2.5.1
(node:1691) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.3: connect 2.x series is deprecated

removed 5 packages, changed 4 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:30.846Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:30.846Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:30.846Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:30.847Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:30.905Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:31.021Z appoptics:patching patched crypto 
2022-04-21T21:10:31.039Z appoptics:patching patched https 
2022-04-21T21:10:31.039Z appoptics:patching patched http 
2022-04-21T21:10:31.075Z appoptics:patching patched zlib 
2022-04-21T21:10:31.092Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:31.092Z appoptics:patching patched fs 
2022-04-21T21:10:31.148Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:10:31.159Z appoptics:patching patched express 3.15.3
2022-04-21T21:10:31.167Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:31.172Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.3
    ✓ UDP might lose a message
2022-04-21T21:10:31.204Z appoptics:patching patched raw-body 2.5.1
(node:1713) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (202ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated connect@2.25.0: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 11 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:37.757Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:37.758Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:37.758Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:37.759Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:37.827Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:37.949Z appoptics:patching patched crypto 
2022-04-21T21:10:37.982Z appoptics:patching patched https 
2022-04-21T21:10:37.983Z appoptics:patching patched http 
2022-04-21T21:10:38.017Z appoptics:patching patched zlib 
2022-04-21T21:10:38.034Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:38.034Z appoptics:patching patched fs 
2022-04-21T21:10:38.108Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:10:38.119Z appoptics:patching patched express 3.16.0
2022-04-21T21:10:38.131Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:38.141Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.0
    ✓ UDP might lose a message
2022-04-21T21:10:38.225Z appoptics:patching patched raw-body 2.5.1
(node:1735) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.1: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:44.003Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:44.004Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:44.004Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:44.005Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:44.063Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:44.179Z appoptics:patching patched crypto 
2022-04-21T21:10:44.197Z appoptics:patching patched https 
2022-04-21T21:10:44.198Z appoptics:patching patched http 
2022-04-21T21:10:44.232Z appoptics:patching patched zlib 
2022-04-21T21:10:44.250Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:44.250Z appoptics:patching patched fs 
2022-04-21T21:10:44.318Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:10:44.328Z appoptics:patching patched express 3.16.1
2022-04-21T21:10:44.334Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:44.339Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.1
    ✓ UDP might lose a message
2022-04-21T21:10:44.371Z appoptics:patching patched raw-body 2.5.1
(node:1757) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (205ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:51.021Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:51.021Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:51.021Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:51.022Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:51.074Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:51.182Z appoptics:patching patched crypto 
2022-04-21T21:10:51.198Z appoptics:patching patched https 
2022-04-21T21:10:51.198Z appoptics:patching patched http 
2022-04-21T21:10:51.230Z appoptics:patching patched zlib 
2022-04-21T21:10:51.246Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:51.246Z appoptics:patching patched fs 
2022-04-21T21:10:51.308Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:10:51.317Z appoptics:patching patched express 3.16.2
2022-04-21T21:10:51.322Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:51.327Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.2
    ✓ UDP might lose a message
2022-04-21T21:10:51.356Z appoptics:patching patched raw-body 2.5.1
(node:1779) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (185ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.3: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:56.962Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:56.963Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:56.963Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:56.964Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:57.028Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:57.158Z appoptics:patching patched crypto 
2022-04-21T21:10:57.174Z appoptics:patching patched https 
2022-04-21T21:10:57.174Z appoptics:patching patched http 
2022-04-21T21:10:57.217Z appoptics:patching patched zlib 
2022-04-21T21:10:57.235Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:57.236Z appoptics:patching patched fs 
2022-04-21T21:10:57.315Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:10:57.329Z appoptics:patching patched express 3.16.3
2022-04-21T21:10:57.335Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:10:57.341Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.3
    ✓ UDP might lose a message
2022-04-21T21:10:57.374Z appoptics:patching patched raw-body 2.5.1
(node:1801) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST (48ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (269ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.4: connect 2.x series is deprecated

removed 10 packages, changed 7 packages, and audited 1003 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:03.899Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:03.900Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:03.900Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:03.901Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:03.961Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:04.080Z appoptics:patching patched crypto 
2022-04-21T21:11:04.098Z appoptics:patching patched https 
2022-04-21T21:11:04.098Z appoptics:patching patched http 
2022-04-21T21:11:04.133Z appoptics:patching patched zlib 
2022-04-21T21:11:04.151Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:04.151Z appoptics:patching patched fs 
2022-04-21T21:11:04.220Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:11:04.231Z appoptics:patching patched express 3.16.4
2022-04-21T21:11:04.236Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:04.241Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.4
    ✓ UDP might lose a message
2022-04-21T21:11:04.273Z appoptics:patching patched raw-body 2.5.1
(node:1823) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (213ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.5: connect 2.x series is deprecated

changed 3 packages, and audited 1003 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:11.768Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:11.768Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:11.769Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:11.769Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:11.830Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:11.950Z appoptics:patching patched crypto 
2022-04-21T21:11:11.968Z appoptics:patching patched https 
2022-04-21T21:11:11.969Z appoptics:patching patched http 
2022-04-21T21:11:12.005Z appoptics:patching patched zlib 
2022-04-21T21:11:12.023Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:12.023Z appoptics:patching patched fs 
2022-04-21T21:11:12.090Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:11:12.100Z appoptics:patching patched express 3.16.5
2022-04-21T21:11:12.106Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:12.111Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.5
    ✓ UDP might lose a message
2022-04-21T21:11:12.143Z appoptics:patching patched raw-body 2.5.1
(node:1845) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (204ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.6: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:18.797Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:18.798Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:18.798Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:18.799Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:18.859Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:18.986Z appoptics:patching patched crypto 
2022-04-21T21:11:19.008Z appoptics:patching patched https 
2022-04-21T21:11:19.008Z appoptics:patching patched http 
2022-04-21T21:11:19.032Z appoptics:patching patched zlib 
2022-04-21T21:11:19.050Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:19.050Z appoptics:patching patched fs 
2022-04-21T21:11:19.119Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:11:19.129Z appoptics:patching patched express 3.16.6
2022-04-21T21:11:19.134Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:19.140Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.6
    ✓ UDP might lose a message
2022-04-21T21:11:19.178Z appoptics:patching patched raw-body 2.5.1
(node:1867) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (203ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.7: connect 2.x series is deprecated

added 3 packages, removed 3 packages, changed 4 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:25.925Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:25.926Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:25.926Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:25.927Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:25.983Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:26.092Z appoptics:patching patched crypto 
2022-04-21T21:11:26.108Z appoptics:patching patched https 
2022-04-21T21:11:26.109Z appoptics:patching patched http 
2022-04-21T21:11:26.140Z appoptics:patching patched zlib 
2022-04-21T21:11:26.157Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:26.157Z appoptics:patching patched fs 
2022-04-21T21:11:26.219Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:11:26.228Z appoptics:patching patched express 3.16.7
2022-04-21T21:11:26.233Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:26.238Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.7
    ✓ UDP might lose a message
2022-04-21T21:11:26.268Z appoptics:patching patched raw-body 2.5.1
(node:1889) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (191ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.8: connect 2.x series is deprecated

changed 4 packages, and audited 1004 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:32.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:32.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:32.170Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:32.171Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:32.229Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:32.348Z appoptics:patching patched crypto 
2022-04-21T21:11:32.365Z appoptics:patching patched https 
2022-04-21T21:11:32.366Z appoptics:patching patched http 
2022-04-21T21:11:32.401Z appoptics:patching patched zlib 
2022-04-21T21:11:32.418Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:32.419Z appoptics:patching patched fs 
2022-04-21T21:11:32.486Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:11:32.496Z appoptics:patching patched express 3.16.8
2022-04-21T21:11:32.501Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:32.506Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.8
    ✓ UDP might lose a message
2022-04-21T21:11:32.538Z appoptics:patching patched raw-body 2.5.1
(node:1911) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (217ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.9: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1003 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:39.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:39.388Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:39.388Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:39.388Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:39.447Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:39.566Z appoptics:patching patched crypto 
2022-04-21T21:11:39.584Z appoptics:patching patched https 
2022-04-21T21:11:39.585Z appoptics:patching patched http 
2022-04-21T21:11:39.616Z appoptics:patching patched zlib 
2022-04-21T21:11:39.634Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:39.634Z appoptics:patching patched fs 
2022-04-21T21:11:39.701Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:11:39.711Z appoptics:patching patched express 3.16.9
2022-04-21T21:11:39.716Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:39.721Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.9
    ✓ UDP might lose a message
2022-04-21T21:11:39.755Z appoptics:patching patched raw-body 2.5.1
(node:1933) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (206ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.10: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 995 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:46.210Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:46.211Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:46.211Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:46.212Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:46.282Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:46.412Z appoptics:patching patched crypto 
2022-04-21T21:11:46.449Z appoptics:patching patched https 
2022-04-21T21:11:46.449Z appoptics:patching patched http 
2022-04-21T21:11:46.485Z appoptics:patching patched zlib 
2022-04-21T21:11:46.503Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:46.504Z appoptics:patching patched fs 
2022-04-21T21:11:46.576Z appoptics:patching patched morgan 1.2.3
2022-04-21T21:11:46.586Z appoptics:patching patched express 3.16.10
2022-04-21T21:11:46.592Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:46.597Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.10
    ✓ UDP might lose a message
2022-04-21T21:11:46.630Z appoptics:patching patched raw-body 2.5.1
(node:1955) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (224ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.0: connect 2.x series is deprecated

added 24 packages, removed 3 packages, changed 38 packages, and audited 1016 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:53.827Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:53.828Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:53.828Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:53.829Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:53.887Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:54.003Z appoptics:patching patched crypto 
2022-04-21T21:11:54.020Z appoptics:patching patched https 
2022-04-21T21:11:54.021Z appoptics:patching patched http 
2022-04-21T21:11:54.056Z appoptics:patching patched zlib 
2022-04-21T21:11:54.074Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:54.074Z appoptics:patching patched fs 
2022-04-21T21:11:54.172Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:11:54.185Z appoptics:patching patched express 3.17.0
2022-04-21T21:11:54.190Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:11:54.196Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.0
    ✓ UDP might lose a message
2022-04-21T21:11:54.231Z appoptics:patching patched raw-body 2.5.1
(node:1977) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1016 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:01.109Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:01.110Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:01.110Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:01.110Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:01.170Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:01.288Z appoptics:patching patched crypto 
2022-04-21T21:12:01.306Z appoptics:patching patched https 
2022-04-21T21:12:01.306Z appoptics:patching patched http 
2022-04-21T21:12:01.340Z appoptics:patching patched zlib 
2022-04-21T21:12:01.358Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:01.358Z appoptics:patching patched fs 
2022-04-21T21:12:01.441Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:12:01.451Z appoptics:patching patched express 3.17.1
2022-04-21T21:12:01.456Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:01.461Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.1
    ✓ UDP might lose a message
2022-04-21T21:12:01.493Z appoptics:patching patched raw-body 2.5.1
(node:1999) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (200ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.1: connect 2.x series is deprecated

removed 3 packages, changed 7 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:07.709Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:07.709Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:07.709Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:07.710Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:07.764Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:07.876Z appoptics:patching patched crypto 
2022-04-21T21:12:07.893Z appoptics:patching patched https 
2022-04-21T21:12:07.894Z appoptics:patching patched http 
2022-04-21T21:12:07.927Z appoptics:patching patched zlib 
2022-04-21T21:12:07.945Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:07.945Z appoptics:patching patched fs 
2022-04-21T21:12:08.023Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:12:08.032Z appoptics:patching patched express 3.17.2
2022-04-21T21:12:08.037Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:08.042Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.2
    ✓ UDP might lose a message
2022-04-21T21:12:08.072Z appoptics:patching patched raw-body 2.5.1
(node:2021) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (242ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

added 1 package, changed 4 packages, and audited 1014 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:14.871Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:14.871Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:14.871Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:14.872Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:14.928Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:15.050Z appoptics:patching patched crypto 
2022-04-21T21:12:15.080Z appoptics:patching patched https 
2022-04-21T21:12:15.080Z appoptics:patching patched http 
2022-04-21T21:12:15.104Z appoptics:patching patched zlib 
2022-04-21T21:12:15.124Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:15.124Z appoptics:patching patched fs 
2022-04-21T21:12:15.208Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:12:15.218Z appoptics:patching patched express 3.17.3
2022-04-21T21:12:15.223Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:15.229Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.3
    ✓ UDP might lose a message
2022-04-21T21:12:15.266Z appoptics:patching patched raw-body 2.5.1
(node:2043) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (195ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.2: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:21.674Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:21.674Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:21.675Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:21.675Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:21.754Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:21.889Z appoptics:patching patched crypto 
2022-04-21T21:12:21.928Z appoptics:patching patched https 
2022-04-21T21:12:21.928Z appoptics:patching patched http 
2022-04-21T21:12:21.965Z appoptics:patching patched zlib 
2022-04-21T21:12:21.985Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:21.986Z appoptics:patching patched fs 
2022-04-21T21:12:22.088Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:12:22.102Z appoptics:patching patched express 3.17.4
2022-04-21T21:12:22.107Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:22.113Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.4
    ✓ UDP might lose a message
2022-04-21T21:12:22.153Z appoptics:patching patched raw-body 2.5.1
(node:2065) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.3: connect 2.x series is deprecated

removed 9 packages, changed 5 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:28.824Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:28.825Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:28.825Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:28.825Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:28.880Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:28.987Z appoptics:patching patched crypto 
2022-04-21T21:12:29.004Z appoptics:patching patched https 
2022-04-21T21:12:29.004Z appoptics:patching patched http 
2022-04-21T21:12:29.038Z appoptics:patching patched zlib 
2022-04-21T21:12:29.056Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:29.056Z appoptics:patching patched fs 
2022-04-21T21:12:29.122Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:12:29.134Z appoptics:patching patched express 3.17.5
2022-04-21T21:12:29.138Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:29.143Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.5
    ✓ UDP might lose a message
2022-04-21T21:12:29.172Z appoptics:patching patched raw-body 2.5.1
(node:2087) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (207ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.4: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:35.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:35.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:35.608Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:35.608Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:35.664Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:35.770Z appoptics:patching patched crypto 
2022-04-21T21:12:35.786Z appoptics:patching patched https 
2022-04-21T21:12:35.786Z appoptics:patching patched http 
2022-04-21T21:12:35.816Z appoptics:patching patched zlib 
2022-04-21T21:12:35.833Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:35.833Z appoptics:patching patched fs 
2022-04-21T21:12:35.898Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:12:35.910Z appoptics:patching patched express 3.17.6
2022-04-21T21:12:35.914Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:35.919Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.6
    ✓ UDP might lose a message
2022-04-21T21:12:35.949Z appoptics:patching patched raw-body 2.5.1
(node:2109) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (181ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.5: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:42.055Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:42.055Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:42.055Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:42.056Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:42.114Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:42.230Z appoptics:patching patched crypto 
2022-04-21T21:12:42.247Z appoptics:patching patched https 
2022-04-21T21:12:42.248Z appoptics:patching patched http 
2022-04-21T21:12:42.281Z appoptics:patching patched zlib 
2022-04-21T21:12:42.300Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:42.301Z appoptics:patching patched fs 
2022-04-21T21:12:42.374Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:12:42.383Z appoptics:patching patched express 3.17.7
2022-04-21T21:12:42.387Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:42.392Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.7
    ✓ UDP might lose a message
2022-04-21T21:12:42.420Z appoptics:patching patched raw-body 2.5.1
(node:2131) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (179ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.6: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:48.689Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:48.689Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:48.689Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:48.690Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:48.754Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:48.875Z appoptics:patching patched crypto 
2022-04-21T21:12:48.909Z appoptics:patching patched https 
2022-04-21T21:12:48.909Z appoptics:patching patched http 
2022-04-21T21:12:48.942Z appoptics:patching patched zlib 
2022-04-21T21:12:48.959Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:48.960Z appoptics:patching patched fs 
2022-04-21T21:12:49.039Z appoptics:patching patched morgan 1.3.2
2022-04-21T21:12:49.048Z appoptics:patching patched express 3.17.8
2022-04-21T21:12:49.053Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:49.058Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.8
    ✓ UDP might lose a message
2022-04-21T21:12:49.089Z appoptics:patching patched raw-body 2.5.1
(node:2153) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (191ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.0: connect 2.x series is deprecated

added 22 packages, removed 4 packages, changed 38 packages, and audited 1022 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:55.878Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:55.879Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:55.879Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:55.879Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:55.939Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:56.064Z appoptics:patching patched crypto 
2022-04-21T21:12:56.082Z appoptics:patching patched https 
2022-04-21T21:12:56.083Z appoptics:patching patched http 
2022-04-21T21:12:56.117Z appoptics:patching patched zlib 
2022-04-21T21:12:56.139Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:56.140Z appoptics:patching patched fs 
2022-04-21T21:12:56.221Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:12:56.236Z appoptics:patching patched express 3.18.0
2022-04-21T21:12:56.239Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:12:56.244Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.0
    ✓ UDP might lose a message
Thu, 21 Apr 2022 21:12:56 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/express.js:36:9
2022-04-21T21:12:56.276Z appoptics:patching patched raw-body 2.5.1
(node:2175) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
Thu, 21 Apr 2022 21:12:56 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:487:9
Thu, 21 Apr 2022 21:12:56 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:490:30
Thu, 21 Apr 2022 21:12:56 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:493:9
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (201ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.1: connect 2.x series is deprecated

removed 9 packages, changed 8 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:03.324Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:03.324Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:03.325Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:03.325Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:03.385Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:03.507Z appoptics:patching patched crypto 
2022-04-21T21:13:03.532Z appoptics:patching patched https 
2022-04-21T21:13:03.533Z appoptics:patching patched http 
2022-04-21T21:13:03.565Z appoptics:patching patched zlib 
2022-04-21T21:13:03.587Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:03.588Z appoptics:patching patched fs 
2022-04-21T21:13:03.663Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:13:03.678Z appoptics:patching patched express 3.18.1
2022-04-21T21:13:03.681Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:03.686Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.1
    ✓ UDP might lose a message
2022-04-21T21:13:03.719Z appoptics:patching patched raw-body 2.5.1
(node:2197) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (207ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:10.243Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:10.244Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:10.244Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:10.245Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:10.396Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:10.601Z appoptics:patching patched crypto 
2022-04-21T21:13:10.650Z appoptics:patching patched https 
2022-04-21T21:13:10.651Z appoptics:patching patched http 
2022-04-21T21:13:10.721Z appoptics:patching patched zlib 
2022-04-21T21:13:10.767Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:10.772Z appoptics:patching patched fs 
2022-04-21T21:13:10.946Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:13:10.984Z appoptics:patching patched express 3.18.2
2022-04-21T21:13:10.993Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:11.003Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.2
    ✓ UDP might lose a message
2022-04-21T21:13:11.114Z appoptics:patching patched raw-body 2.5.1
(node:2219) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (143ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (414ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.3: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:19.407Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:19.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:19.407Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:19.408Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:19.468Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:19.580Z appoptics:patching patched crypto 
2022-04-21T21:13:19.597Z appoptics:patching patched https 
2022-04-21T21:13:19.597Z appoptics:patching patched http 
2022-04-21T21:13:19.629Z appoptics:patching patched zlib 
2022-04-21T21:13:19.649Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:19.650Z appoptics:patching patched fs 
2022-04-21T21:13:19.729Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:13:19.745Z appoptics:patching patched express 3.18.3
2022-04-21T21:13:19.748Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:19.752Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.3
    ✓ UDP might lose a message
2022-04-21T21:13:19.787Z appoptics:patching patched raw-body 2.5.1
(node:2241) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (192ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.4: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1012 packages in 17s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:37.324Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:37.325Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:37.325Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:37.325Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:37.404Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:37.511Z appoptics:patching patched crypto 
2022-04-21T21:13:37.542Z appoptics:patching patched https 
2022-04-21T21:13:37.543Z appoptics:patching patched http 
2022-04-21T21:13:37.564Z appoptics:patching patched zlib 
2022-04-21T21:13:37.584Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:37.584Z appoptics:patching patched fs 
2022-04-21T21:13:37.649Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:13:37.662Z appoptics:patching patched express 3.18.4
2022-04-21T21:13:37.665Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:37.669Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.4
    ✓ UDP might lose a message
2022-04-21T21:13:37.699Z appoptics:patching patched raw-body 2.5.1
(node:2263) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (182ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.6: connect 2.x series is deprecated

changed 3 packages, and audited 1012 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:43.818Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:43.819Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:43.819Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:43.819Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:43.875Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:43.979Z appoptics:patching patched crypto 
2022-04-21T21:13:43.994Z appoptics:patching patched https 
2022-04-21T21:13:43.995Z appoptics:patching patched http 
2022-04-21T21:13:44.028Z appoptics:patching patched zlib 
2022-04-21T21:13:44.047Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:44.048Z appoptics:patching patched fs 
2022-04-21T21:13:44.114Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:13:44.127Z appoptics:patching patched express 3.18.5
2022-04-21T21:13:44.130Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:44.134Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.5
    ✓ UDP might lose a message
2022-04-21T21:13:44.163Z appoptics:patching patched raw-body 2.5.1
(node:2285) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (188ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1012 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:50.348Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:50.349Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:50.349Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:50.350Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:50.409Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:50.527Z appoptics:patching patched crypto 
2022-04-21T21:13:50.545Z appoptics:patching patched https 
2022-04-21T21:13:50.546Z appoptics:patching patched http 
2022-04-21T21:13:50.579Z appoptics:patching patched zlib 
2022-04-21T21:13:50.601Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:50.601Z appoptics:patching patched fs 
2022-04-21T21:13:50.673Z appoptics:patching patched morgan 1.4.1
2022-04-21T21:13:50.687Z appoptics:patching patched express 3.18.6
2022-04-21T21:13:50.690Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:50.695Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.6
    ✓ UDP might lose a message
2022-04-21T21:13:50.727Z appoptics:patching patched raw-body 2.5.1
(node:2307) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (198ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.1: connect 2.x series is deprecated

added 17 packages, removed 12 packages, changed 30 packages, and audited 1017 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:58.632Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:58.633Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:58.633Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:58.634Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:58.690Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:58.812Z appoptics:patching patched crypto 
2022-04-21T21:13:58.839Z appoptics:patching patched https 
2022-04-21T21:13:58.839Z appoptics:patching patched http 
2022-04-21T21:13:58.863Z appoptics:patching patched zlib 
2022-04-21T21:13:58.885Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:58.885Z appoptics:patching patched fs 
2022-04-21T21:13:58.973Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:13:58.988Z appoptics:patching patched express 3.19.0
2022-04-21T21:13:58.992Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:13:58.996Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.0
    ✓ UDP might lose a message
2022-04-21T21:13:59.034Z appoptics:patching patched raw-body 2.5.1
(node:2329) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (202ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.2: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 1009 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:05.061Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:05.062Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:05.062Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:05.063Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:05.159Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:05.289Z appoptics:patching patched crypto 
2022-04-21T21:14:05.315Z appoptics:patching patched https 
2022-04-21T21:14:05.316Z appoptics:patching patched http 
2022-04-21T21:14:05.346Z appoptics:patching patched zlib 
2022-04-21T21:14:05.369Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:05.370Z appoptics:patching patched fs 
2022-04-21T21:14:05.457Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:14:05.471Z appoptics:patching patched express 3.19.1
2022-04-21T21:14:05.475Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:05.480Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.1
    ✓ UDP might lose a message
2022-04-21T21:14:05.518Z appoptics:patching patched raw-body 2.5.1
(node:2351) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.3: connect 2.x series is deprecated

changed 3 packages, and audited 1009 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:12.526Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:12.526Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:12.526Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:12.527Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:12.620Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:12.741Z appoptics:patching patched crypto 
2022-04-21T21:14:12.759Z appoptics:patching patched https 
2022-04-21T21:14:12.760Z appoptics:patching patched http 
2022-04-21T21:14:12.798Z appoptics:patching patched zlib 
2022-04-21T21:14:12.821Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:12.821Z appoptics:patching patched fs 
2022-04-21T21:14:12.916Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:14:12.930Z appoptics:patching patched express 3.19.2
2022-04-21T21:14:12.934Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:12.938Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.2
    ✓ UDP might lose a message
2022-04-21T21:14:12.980Z appoptics:patching patched raw-body 2.5.1
(node:2373) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (212ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.0: connect 2.x series is deprecated

added 13 packages, removed 5 packages, changed 22 packages, and audited 1017 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:19.777Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:19.778Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:19.778Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:19.779Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:19.840Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:19.960Z appoptics:patching patched crypto 
2022-04-21T21:14:19.978Z appoptics:patching patched https 
2022-04-21T21:14:19.979Z appoptics:patching patched http 
2022-04-21T21:14:20.014Z appoptics:patching patched zlib 
2022-04-21T21:14:20.038Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:20.038Z appoptics:patching patched fs 
2022-04-21T21:14:20.122Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:14:20.137Z appoptics:patching patched express 3.20.0
2022-04-21T21:14:20.140Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:20.145Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.0
    ✓ UDP might lose a message
2022-04-21T21:14:20.183Z appoptics:patching patched raw-body 2.5.1
(node:2395) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (233ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1017 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:26.613Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:26.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:26.614Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:26.615Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:26.673Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:26.795Z appoptics:patching patched crypto 
2022-04-21T21:14:26.839Z appoptics:patching patched https 
2022-04-21T21:14:26.841Z appoptics:patching patched http 
2022-04-21T21:14:26.864Z appoptics:patching patched zlib 
2022-04-21T21:14:26.887Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:26.888Z appoptics:patching patched fs 
2022-04-21T21:14:26.983Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:14:26.998Z appoptics:patching patched express 3.20.1
2022-04-21T21:14:27.002Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:27.006Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.1
    ✓ UDP might lose a message
2022-04-21T21:14:27.045Z appoptics:patching patched raw-body 2.5.1
(node:2417) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (194ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.1: connect 2.x series is deprecated

changed 8 packages, and audited 1017 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:33.499Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:33.500Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:33.500Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:33.500Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:33.571Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:33.704Z appoptics:patching patched crypto 
2022-04-21T21:14:33.741Z appoptics:patching patched https 
2022-04-21T21:14:33.742Z appoptics:patching patched http 
2022-04-21T21:14:33.777Z appoptics:patching patched zlib 
2022-04-21T21:14:33.801Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:33.802Z appoptics:patching patched fs 
2022-04-21T21:14:33.900Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:14:33.915Z appoptics:patching patched express 3.20.2
2022-04-21T21:14:33.918Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:33.923Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.2
    ✓ UDP might lose a message
2022-04-21T21:14:33.964Z appoptics:patching patched raw-body 2.5.1
(node:2439) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (207ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.2: connect 2.x series is deprecated

added 1 package, removed 14 packages, changed 15 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:41.061Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:41.061Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:41.061Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:41.062Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:41.121Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:41.237Z appoptics:patching patched crypto 
2022-04-21T21:14:41.254Z appoptics:patching patched https 
2022-04-21T21:14:41.255Z appoptics:patching patched http 
2022-04-21T21:14:41.289Z appoptics:patching patched zlib 
2022-04-21T21:14:41.312Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:41.312Z appoptics:patching patched fs 
2022-04-21T21:14:41.385Z appoptics:patching patched morgan 1.5.3
2022-04-21T21:14:41.399Z appoptics:patching patched express 3.20.3
2022-04-21T21:14:41.403Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:41.407Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.3
    ✓ UDP might lose a message
2022-04-21T21:14:41.438Z appoptics:patching patched raw-body 2.5.1
(node:2461) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (195ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.0: connect 2.x series is deprecated

added 21 packages, removed 10 packages, changed 37 packages, and audited 1015 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:48.964Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:48.965Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:48.965Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:48.966Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:49.024Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:49.141Z appoptics:patching patched crypto 
2022-04-21T21:14:49.166Z appoptics:patching patched https 
2022-04-21T21:14:49.166Z appoptics:patching patched http 
2022-04-21T21:14:49.190Z appoptics:patching patched zlib 
2022-04-21T21:14:49.213Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:49.214Z appoptics:patching patched fs 
2022-04-21T21:14:49.295Z appoptics:patching patched morgan 1.6.1
2022-04-21T21:14:49.310Z appoptics:patching patched express 3.21.0
2022-04-21T21:14:49.313Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:49.318Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.0
    ✓ UDP might lose a message
2022-04-21T21:14:49.355Z appoptics:patching patched raw-body 2.5.1
(node:2483) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (198ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.1: connect 2.x series is deprecated

removed 2 packages, changed 6 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:55.248Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:55.248Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:55.248Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:55.249Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:55.308Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:55.425Z appoptics:patching patched crypto 
2022-04-21T21:14:55.450Z appoptics:patching patched https 
2022-04-21T21:14:55.450Z appoptics:patching patched http 
2022-04-21T21:14:55.475Z appoptics:patching patched zlib 
2022-04-21T21:14:55.498Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:55.499Z appoptics:patching patched fs 
2022-04-21T21:14:55.578Z appoptics:patching patched morgan 1.6.1
2022-04-21T21:14:55.593Z appoptics:patching patched express 3.21.1
2022-04-21T21:14:55.596Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:14:55.601Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.1
    ✓ UDP might lose a message
2022-04-21T21:14:55.639Z appoptics:patching patched raw-body 2.5.1
(node:2505) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (190ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.2: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:02.293Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:02.294Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:02.294Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:02.295Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:02.375Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:02.494Z appoptics:patching patched crypto 
2022-04-21T21:15:02.511Z appoptics:patching patched https 
2022-04-21T21:15:02.512Z appoptics:patching patched http 
2022-04-21T21:15:02.545Z appoptics:patching patched zlib 
2022-04-21T21:15:02.569Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:02.570Z appoptics:patching patched fs 
2022-04-21T21:15:02.649Z appoptics:patching patched morgan 1.6.1
2022-04-21T21:15:02.664Z appoptics:patching patched express 3.21.2
2022-04-21T21:15:02.667Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:02.672Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.2
    ✓ UDP might lose a message
2022-04-21T21:15:02.703Z appoptics:patching patched raw-body 2.5.1
(node:2527) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending


added 14 packages, removed 97 packages, changed 21 packages, and audited 930 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:08.703Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:08.704Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:08.704Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:08.705Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:08.804Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:08.981Z appoptics:patching patched crypto 
2022-04-21T21:15:09.041Z appoptics:patching patched https 
2022-04-21T21:15:09.046Z appoptics:patching patched http 
2022-04-21T21:15:09.108Z appoptics:patching patched zlib 
2022-04-21T21:15:09.125Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:09.125Z appoptics:patching patched fs 
2022-04-21T21:15:09.159Z appoptics:patching patched express 4.0.0
2022-04-21T21:15:09.164Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:09.178Z appoptics:debug starting runtimeMetrics


  probes.express 4.0.0
    ✓ UDP might lose a message
2022-04-21T21:15:09.219Z appoptics:patching patched raw-body 2.5.1
(node:2549) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (46ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (299ms)


added 1 package, removed 3 packages, changed 7 packages, and audited 928 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:15.643Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:15.644Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:15.644Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:15.645Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:15.700Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:15.808Z appoptics:patching patched crypto 
2022-04-21T21:15:15.825Z appoptics:patching patched https 
2022-04-21T21:15:15.826Z appoptics:patching patched http 
2022-04-21T21:15:15.857Z appoptics:patching patched zlib 
2022-04-21T21:15:15.866Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:15.866Z appoptics:patching patched fs 
2022-04-21T21:15:15.884Z appoptics:patching patched express 4.1.0
2022-04-21T21:15:15.890Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:15.895Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.0
    ✓ UDP might lose a message
2022-04-21T21:15:15.926Z appoptics:patching patched raw-body 2.5.1
(node:2571) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (199ms)


changed 1 package, and audited 928 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:21.380Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:21.380Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:21.380Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:21.381Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:21.461Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:21.619Z appoptics:patching patched crypto 
2022-04-21T21:15:21.658Z appoptics:patching patched https 
2022-04-21T21:15:21.670Z appoptics:patching patched http 
2022-04-21T21:15:21.699Z appoptics:patching patched zlib 
2022-04-21T21:15:21.709Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:21.710Z appoptics:patching patched fs 
2022-04-21T21:15:21.737Z appoptics:patching patched express 4.1.1
2022-04-21T21:15:21.748Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:21.754Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.1
    ✓ UDP might lose a message
2022-04-21T21:15:21.810Z appoptics:patching patched raw-body 2.5.1
(node:2593) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (113ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (315ms)


changed 1 package, and audited 928 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:27.906Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:27.907Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:27.907Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:27.907Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:27.967Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:28.086Z appoptics:patching patched crypto 
2022-04-21T21:15:28.107Z appoptics:patching patched https 
2022-04-21T21:15:28.108Z appoptics:patching patched http 
2022-04-21T21:15:28.142Z appoptics:patching patched zlib 
2022-04-21T21:15:28.150Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:28.151Z appoptics:patching patched fs 
2022-04-21T21:15:28.168Z appoptics:patching patched express 4.1.2
2022-04-21T21:15:28.174Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:28.180Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.2
    ✓ UDP might lose a message
2022-04-21T21:15:28.211Z appoptics:patching patched raw-body 2.5.1
(node:2615) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (204ms)


changed 2 packages, and audited 928 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:34.251Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:34.252Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:34.252Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:34.252Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:34.352Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:34.475Z appoptics:patching patched crypto 
2022-04-21T21:15:34.501Z appoptics:patching patched https 
2022-04-21T21:15:34.502Z appoptics:patching patched http 
2022-04-21T21:15:34.546Z appoptics:patching patched zlib 
2022-04-21T21:15:34.554Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:34.555Z appoptics:patching patched fs 
2022-04-21T21:15:34.574Z appoptics:patching patched express 4.2.0
2022-04-21T21:15:34.579Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:34.585Z appoptics:debug starting runtimeMetrics


  probes.express 4.2.0
    ✓ UDP might lose a message
2022-04-21T21:15:34.621Z appoptics:patching patched raw-body 2.5.1
(node:2637) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (247ms)


added 2 packages, changed 2 packages, and audited 930 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:40.169Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:40.169Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:40.169Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:40.170Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:40.224Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:40.328Z appoptics:patching patched crypto 
2022-04-21T21:15:40.352Z appoptics:patching patched https 
2022-04-21T21:15:40.352Z appoptics:patching patched http 
2022-04-21T21:15:40.380Z appoptics:patching patched zlib 
2022-04-21T21:15:40.389Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:40.389Z appoptics:patching patched fs 
2022-04-21T21:15:40.409Z appoptics:patching patched express 4.3.0
2022-04-21T21:15:40.414Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:40.420Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.0
    ✓ UDP might lose a message
2022-04-21T21:15:40.450Z appoptics:patching patched raw-body 2.5.1
(node:2659) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (200ms)


changed 1 package, and audited 930 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:46.421Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:46.422Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:46.422Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:46.422Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:46.505Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:46.635Z appoptics:patching patched crypto 
2022-04-21T21:15:46.670Z appoptics:patching patched https 
2022-04-21T21:15:46.671Z appoptics:patching patched http 
2022-04-21T21:15:46.706Z appoptics:patching patched zlib 
2022-04-21T21:15:46.715Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:46.717Z appoptics:patching patched fs 
2022-04-21T21:15:46.739Z appoptics:patching patched express 4.3.1
2022-04-21T21:15:46.745Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:46.754Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.1
    ✓ UDP might lose a message
2022-04-21T21:15:46.789Z appoptics:patching patched raw-body 2.5.1
(node:2681) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (221ms)


changed 1 package, and audited 930 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:52.381Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:52.381Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:52.382Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:52.382Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:52.441Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:52.555Z appoptics:patching patched crypto 
2022-04-21T21:15:52.572Z appoptics:patching patched https 
2022-04-21T21:15:52.573Z appoptics:patching patched http 
2022-04-21T21:15:52.607Z appoptics:patching patched zlib 
2022-04-21T21:15:52.616Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:52.617Z appoptics:patching patched fs 
2022-04-21T21:15:52.638Z appoptics:patching patched express 4.3.2
2022-04-21T21:15:52.644Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:52.650Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.2
    ✓ UDP might lose a message
2022-04-21T21:15:52.683Z appoptics:patching patched raw-body 2.5.1
(node:2703) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (223ms)


added 1 package, changed 6 packages, and audited 931 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:59.154Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:59.155Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:59.155Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:59.156Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:59.215Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:59.328Z appoptics:patching patched crypto 
2022-04-21T21:15:59.346Z appoptics:patching patched https 
2022-04-21T21:15:59.346Z appoptics:patching patched http 
2022-04-21T21:15:59.381Z appoptics:patching patched zlib 
2022-04-21T21:15:59.390Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:59.391Z appoptics:patching patched fs 
2022-04-21T21:15:59.412Z appoptics:patching patched express 4.4.0
2022-04-21T21:15:59.418Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:15:59.423Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.0
    ✓ UDP might lose a message
2022-04-21T21:15:59.456Z appoptics:patching patched raw-body 2.5.1
(node:2725) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (207ms)


changed 4 packages, and audited 931 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:05.363Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:05.364Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:05.364Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:05.365Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:05.425Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:05.545Z appoptics:patching patched crypto 
2022-04-21T21:16:05.576Z appoptics:patching patched https 
2022-04-21T21:16:05.576Z appoptics:patching patched http 
2022-04-21T21:16:05.600Z appoptics:patching patched zlib 
2022-04-21T21:16:05.610Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:05.610Z appoptics:patching patched fs 
2022-04-21T21:16:05.633Z appoptics:patching patched express 4.4.1
2022-04-21T21:16:05.639Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:05.645Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.1
    ✓ UDP might lose a message
2022-04-21T21:16:05.679Z appoptics:patching patched raw-body 2.5.1
(node:2747) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (218ms)


added 5 packages, changed 9 packages, and audited 936 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:12.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:12.171Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:12.171Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:12.172Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:12.232Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:12.352Z appoptics:patching patched crypto 
2022-04-21T21:16:12.370Z appoptics:patching patched https 
2022-04-21T21:16:12.370Z appoptics:patching patched http 
2022-04-21T21:16:12.404Z appoptics:patching patched zlib 
2022-04-21T21:16:12.415Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:12.416Z appoptics:patching patched fs 
2022-04-21T21:16:12.441Z appoptics:patching patched express 4.4.2
2022-04-21T21:16:12.448Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:12.454Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.2
    ✓ UDP might lose a message
2022-04-21T21:16:12.488Z appoptics:patching patched raw-body 2.5.1
(node:2769) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (215ms)


added 1 package, changed 8 packages, and audited 937 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:18.335Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:18.335Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:18.336Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:18.336Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:18.396Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:18.515Z appoptics:patching patched crypto 
2022-04-21T21:16:18.543Z appoptics:patching patched https 
2022-04-21T21:16:18.543Z appoptics:patching patched http 
2022-04-21T21:16:18.575Z appoptics:patching patched zlib 
2022-04-21T21:16:18.586Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:18.586Z appoptics:patching patched fs 
2022-04-21T21:16:18.613Z appoptics:patching patched express 4.4.3
2022-04-21T21:16:18.619Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:18.625Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.3
    ✓ UDP might lose a message
2022-04-21T21:16:18.661Z appoptics:patching patched raw-body 2.5.1
(node:2791) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (214ms)


added 6 packages, removed 1 package, changed 6 packages, and audited 942 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:25.178Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:25.178Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:25.178Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:25.179Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:25.233Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:25.339Z appoptics:patching patched crypto 
2022-04-21T21:16:25.354Z appoptics:patching patched https 
2022-04-21T21:16:25.355Z appoptics:patching patched http 
2022-04-21T21:16:25.387Z appoptics:patching patched zlib 
2022-04-21T21:16:25.396Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:25.397Z appoptics:patching patched fs 
2022-04-21T21:16:25.423Z appoptics:patching patched express 4.4.4
2022-04-21T21:16:25.429Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:25.434Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.4
    ✓ UDP might lose a message
2022-04-21T21:16:25.467Z appoptics:patching patched raw-body 2.5.1
(node:2813) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (204ms)


changed 2 packages, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (1 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:30.945Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:30.946Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:30.946Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:30.946Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:30.999Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:31.099Z appoptics:patching patched crypto 
2022-04-21T21:16:31.115Z appoptics:patching patched https 
2022-04-21T21:16:31.116Z appoptics:patching patched http 
2022-04-21T21:16:31.146Z appoptics:patching patched zlib 
2022-04-21T21:16:31.156Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:31.156Z appoptics:patching patched fs 
2022-04-21T21:16:31.182Z appoptics:patching patched express 4.4.5
2022-04-21T21:16:31.188Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:31.193Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.5
    ✓ UDP might lose a message
2022-04-21T21:16:31.225Z appoptics:patching patched raw-body 2.5.1
(node:2835) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (190ms)


added 11 packages, removed 1 package, changed 5 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:37.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:37.638Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:37.638Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:37.639Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:37.692Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:37.795Z appoptics:patching patched crypto 
2022-04-21T21:16:37.810Z appoptics:patching patched https 
2022-04-21T21:16:37.811Z appoptics:patching patched http 
2022-04-21T21:16:37.843Z appoptics:patching patched zlib 
2022-04-21T21:16:37.854Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:37.855Z appoptics:patching patched fs 
2022-04-21T21:16:37.888Z appoptics:patching patched express 4.5.0
2022-04-21T21:16:37.893Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:37.898Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.0
    ✓ UDP might lose a message
2022-04-21T21:16:37.929Z appoptics:patching patched raw-body 2.5.1
(node:2857) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (201ms)


changed 1 package, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:43.227Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:43.227Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:43.228Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:43.228Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:43.292Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:43.415Z appoptics:patching patched crypto 
2022-04-21T21:16:43.431Z appoptics:patching patched https 
2022-04-21T21:16:43.431Z appoptics:patching patched http 
2022-04-21T21:16:43.463Z appoptics:patching patched zlib 
2022-04-21T21:16:43.473Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:43.474Z appoptics:patching patched fs 
2022-04-21T21:16:43.506Z appoptics:patching patched express 4.5.1
2022-04-21T21:16:43.512Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:43.517Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.1
    ✓ UDP might lose a message
2022-04-21T21:16:43.549Z appoptics:patching patched raw-body 2.5.1
(node:2879) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


added 1 package, removed 6 packages, changed 9 packages, and audited 947 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:49.774Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:49.775Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:49.775Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:49.775Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:49.835Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:49.949Z appoptics:patching patched crypto 
2022-04-21T21:16:49.967Z appoptics:patching patched https 
2022-04-21T21:16:49.967Z appoptics:patching patched http 
2022-04-21T21:16:50.002Z appoptics:patching patched zlib 
2022-04-21T21:16:50.015Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:50.016Z appoptics:patching patched fs 
2022-04-21T21:16:50.043Z appoptics:patching patched express 4.6.0
2022-04-21T21:16:50.049Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:50.055Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.0
    ✓ UDP might lose a message
2022-04-21T21:16:50.091Z appoptics:patching patched raw-body 2.5.1
(node:2901) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (211ms)


changed 1 package, and audited 947 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:55.529Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:55.529Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:55.529Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:55.530Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:55.583Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:55.695Z appoptics:patching patched crypto 
2022-04-21T21:16:55.712Z appoptics:patching patched https 
2022-04-21T21:16:55.713Z appoptics:patching patched http 
2022-04-21T21:16:55.745Z appoptics:patching patched zlib 
2022-04-21T21:16:55.758Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:55.759Z appoptics:patching patched fs 
2022-04-21T21:16:55.787Z appoptics:patching patched express 4.6.1
2022-04-21T21:16:55.793Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:16:55.799Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.1
    ✓ UDP might lose a message
2022-04-21T21:16:55.833Z appoptics:patching patched raw-body 2.5.1
(node:2923) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (215ms)


added 5 packages, changed 10 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:02.476Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:02.477Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:02.477Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:02.478Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:02.535Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:02.652Z appoptics:patching patched crypto 
2022-04-21T21:17:02.669Z appoptics:patching patched https 
2022-04-21T21:17:02.670Z appoptics:patching patched http 
2022-04-21T21:17:02.715Z appoptics:patching patched zlib 
2022-04-21T21:17:02.729Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:02.730Z appoptics:patching patched fs 
2022-04-21T21:17:02.763Z appoptics:patching patched express 4.7.0
2022-04-21T21:17:02.770Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:02.776Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.0
    ✓ UDP might lose a message
2022-04-21T21:17:02.807Z appoptics:patching patched raw-body 2.5.1
(node:2945) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


changed 4 packages, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:08.359Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:08.360Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:08.360Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:08.360Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:08.421Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:08.540Z appoptics:patching patched crypto 
2022-04-21T21:17:08.557Z appoptics:patching patched https 
2022-04-21T21:17:08.558Z appoptics:patching patched http 
2022-04-21T21:17:08.593Z appoptics:patching patched zlib 
2022-04-21T21:17:08.607Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:08.608Z appoptics:patching patched fs 
2022-04-21T21:17:08.645Z appoptics:patching patched express 4.7.1
2022-04-21T21:17:08.651Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:08.657Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.1
    ✓ UDP might lose a message
2022-04-21T21:17:08.693Z appoptics:patching patched raw-body 2.5.1
(node:2967) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (220ms)


changed 4 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:15.510Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:15.510Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:15.510Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:15.511Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:15.573Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:15.703Z appoptics:patching patched crypto 
2022-04-21T21:17:15.726Z appoptics:patching patched https 
2022-04-21T21:17:15.726Z appoptics:patching patched http 
2022-04-21T21:17:15.759Z appoptics:patching patched zlib 
2022-04-21T21:17:15.773Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:15.774Z appoptics:patching patched fs 
2022-04-21T21:17:15.810Z appoptics:patching patched express 4.7.2
2022-04-21T21:17:15.816Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:15.822Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.2
    ✓ UDP might lose a message
2022-04-21T21:17:15.859Z appoptics:patching patched raw-body 2.5.1
(node:2989) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (207ms)


changed 2 packages, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:21.137Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:21.138Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:21.138Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:21.138Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:21.198Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:21.321Z appoptics:patching patched crypto 
2022-04-21T21:17:21.368Z appoptics:patching patched https 
2022-04-21T21:17:21.369Z appoptics:patching patched http 
2022-04-21T21:17:21.436Z appoptics:patching patched zlib 
2022-04-21T21:17:21.450Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:21.451Z appoptics:patching patched fs 
2022-04-21T21:17:21.497Z appoptics:patching patched express 4.7.3
2022-04-21T21:17:21.504Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:21.510Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.3
    ✓ UDP might lose a message
2022-04-21T21:17:21.544Z appoptics:patching patched raw-body 2.5.1
(node:3011) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (226ms)


removed 5 packages, changed 2 packages, and audited 947 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:27.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:27.980Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:27.980Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:27.980Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:28.041Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:28.162Z appoptics:patching patched crypto 
2022-04-21T21:17:28.180Z appoptics:patching patched https 
2022-04-21T21:17:28.181Z appoptics:patching patched http 
2022-04-21T21:17:28.217Z appoptics:patching patched zlib 
2022-04-21T21:17:28.232Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:28.232Z appoptics:patching patched fs 
2022-04-21T21:17:28.261Z appoptics:patching patched express 4.7.4
2022-04-21T21:17:28.267Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:28.273Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.4
    ✓ UDP might lose a message
2022-04-21T21:17:28.308Z appoptics:patching patched raw-body 2.5.1
(node:3033) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (213ms)


added 9 packages, changed 4 packages, and audited 956 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:34.036Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:34.036Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:34.036Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:34.037Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:34.090Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:34.212Z appoptics:patching patched crypto 
2022-04-21T21:17:34.228Z appoptics:patching patched https 
2022-04-21T21:17:34.228Z appoptics:patching patched http 
2022-04-21T21:17:34.264Z appoptics:patching patched zlib 
2022-04-21T21:17:34.278Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:34.278Z appoptics:patching patched fs 
2022-04-21T21:17:34.316Z appoptics:patching patched express 4.8.0
2022-04-21T21:17:34.322Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:34.327Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.0
    ✓ UDP might lose a message
2022-04-21T21:17:34.367Z appoptics:patching patched raw-body 2.5.1
(node:3055) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (232ms)


changed 2 packages, and audited 956 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:40.070Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:40.071Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:40.071Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:40.072Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:40.131Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:40.248Z appoptics:patching patched crypto 
2022-04-21T21:17:40.266Z appoptics:patching patched https 
2022-04-21T21:17:40.266Z appoptics:patching patched http 
2022-04-21T21:17:40.300Z appoptics:patching patched zlib 
2022-04-21T21:17:40.311Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:40.312Z appoptics:patching patched fs 
2022-04-21T21:17:40.354Z appoptics:patching patched express 4.8.1
2022-04-21T21:17:40.360Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:40.365Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.1
    ✓ UDP might lose a message
2022-04-21T21:17:40.401Z appoptics:patching patched raw-body 2.5.1
(node:3077) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (209ms)


changed 2 packages, and audited 956 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:46.187Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:46.192Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:46.192Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:46.193Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:46.262Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:46.369Z appoptics:patching patched crypto 
2022-04-21T21:17:46.402Z appoptics:patching patched https 
2022-04-21T21:17:46.403Z appoptics:patching patched http 
2022-04-21T21:17:46.433Z appoptics:patching patched zlib 
2022-04-21T21:17:46.443Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:46.444Z appoptics:patching patched fs 
2022-04-21T21:17:46.495Z appoptics:patching patched express 4.8.2
2022-04-21T21:17:46.500Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:46.505Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.2
    ✓ UDP might lose a message
2022-04-21T21:17:46.540Z appoptics:patching patched raw-body 2.5.1
(node:3099) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (225ms)


removed 3 packages, changed 3 packages, and audited 953 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:52.354Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:52.355Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:52.355Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:52.356Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:52.417Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:52.530Z appoptics:patching patched crypto 
2022-04-21T21:17:52.548Z appoptics:patching patched https 
2022-04-21T21:17:52.548Z appoptics:patching patched http 
2022-04-21T21:17:52.581Z appoptics:patching patched zlib 
2022-04-21T21:17:52.592Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:52.592Z appoptics:patching patched fs 
2022-04-21T21:17:52.634Z appoptics:patching patched express 4.8.3
2022-04-21T21:17:52.639Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:52.645Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.3
    ✓ UDP might lose a message
2022-04-21T21:17:52.681Z appoptics:patching patched raw-body 2.5.1
(node:3121) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (213ms)


added 1 package, changed 3 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:58.383Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:58.384Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:58.384Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:58.385Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:58.450Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:58.561Z appoptics:patching patched crypto 
2022-04-21T21:17:58.594Z appoptics:patching patched https 
2022-04-21T21:17:58.603Z appoptics:patching patched http 
2022-04-21T21:17:58.626Z appoptics:patching patched zlib 
2022-04-21T21:17:58.636Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:58.637Z appoptics:patching patched fs 
2022-04-21T21:17:58.679Z appoptics:patching patched express 4.8.4
2022-04-21T21:17:58.685Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:17:58.690Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.4
    ✓ UDP might lose a message
2022-04-21T21:17:58.724Z appoptics:patching patched raw-body 2.5.1
(node:3143) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (218ms)


added 3 packages, removed 3 packages, changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:04.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:04.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:04.472Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:04.473Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:04.533Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:04.650Z appoptics:patching patched crypto 
2022-04-21T21:18:04.669Z appoptics:patching patched https 
2022-04-21T21:18:04.670Z appoptics:patching patched http 
2022-04-21T21:18:04.705Z appoptics:patching patched zlib 
2022-04-21T21:18:04.717Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:04.718Z appoptics:patching patched fs 
2022-04-21T21:18:04.769Z appoptics:patching patched express 4.8.5
2022-04-21T21:18:04.777Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:04.783Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.5
    ✓ UDP might lose a message
2022-04-21T21:18:04.833Z appoptics:patching patched raw-body 2.5.1
(node:3165) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:11.062Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:11.063Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:11.063Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:11.064Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:11.152Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:11.281Z appoptics:patching patched crypto 
2022-04-21T21:18:11.320Z appoptics:patching patched https 
2022-04-21T21:18:11.321Z appoptics:patching patched http 
2022-04-21T21:18:11.358Z appoptics:patching patched zlib 
2022-04-21T21:18:11.373Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:11.373Z appoptics:patching patched fs 
2022-04-21T21:18:11.423Z appoptics:patching patched express 4.8.6
2022-04-21T21:18:11.429Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:11.435Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.6
    ✓ UDP might lose a message
2022-04-21T21:18:11.476Z appoptics:patching patched raw-body 2.5.1
(node:3187) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (109ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (340ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:18.816Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:18.817Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:18.817Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:18.817Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:18.878Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:18.996Z appoptics:patching patched crypto 
2022-04-21T21:18:19.014Z appoptics:patching patched https 
2022-04-21T21:18:19.014Z appoptics:patching patched http 
2022-04-21T21:18:19.049Z appoptics:patching patched zlib 
2022-04-21T21:18:19.059Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:19.060Z appoptics:patching patched fs 
2022-04-21T21:18:19.103Z appoptics:patching patched express 4.8.7
2022-04-21T21:18:19.109Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:19.115Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.7
    ✓ UDP might lose a message
2022-04-21T21:18:19.151Z appoptics:patching patched raw-body 2.5.1
(node:3209) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (222ms)


removed 8 packages, changed 2 packages, and audited 946 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:25.402Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:25.402Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:25.403Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:25.403Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:25.457Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:25.562Z appoptics:patching patched crypto 
2022-04-21T21:18:25.578Z appoptics:patching patched https 
2022-04-21T21:18:25.578Z appoptics:patching patched http 
2022-04-21T21:18:25.611Z appoptics:patching patched zlib 
2022-04-21T21:18:25.620Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:25.621Z appoptics:patching patched fs 
2022-04-21T21:18:25.652Z appoptics:patching patched express 4.8.8
2022-04-21T21:18:25.657Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:25.662Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.8
    ✓ UDP might lose a message
2022-04-21T21:18:25.699Z appoptics:patching patched raw-body 2.5.1
(node:3231) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (214ms)


added 14 packages, removed 1 package, changed 18 packages, and audited 959 packages in 14s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:40.324Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:40.324Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:40.324Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:40.325Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:40.384Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:40.496Z appoptics:patching patched crypto 
2022-04-21T21:18:40.514Z appoptics:patching patched https 
2022-04-21T21:18:40.514Z appoptics:patching patched http 
2022-04-21T21:18:40.546Z appoptics:patching patched zlib 
2022-04-21T21:18:40.556Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:40.556Z appoptics:patching patched fs 
2022-04-21T21:18:40.607Z appoptics:patching patched express 4.9.0
2022-04-21T21:18:40.613Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:40.618Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.0
    ✓ UDP might lose a message
2022-04-21T21:18:40.654Z appoptics:patching patched raw-body 2.5.1
(node:3253) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (201ms)


removed 1 package, changed 4 packages, and audited 958 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:46.494Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:46.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:46.494Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:46.495Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:46.562Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:46.734Z appoptics:patching patched crypto 
2022-04-21T21:18:46.798Z appoptics:patching patched https 
2022-04-21T21:18:46.804Z appoptics:patching patched http 
2022-04-21T21:18:46.853Z appoptics:patching patched zlib 
2022-04-21T21:18:46.865Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:46.866Z appoptics:patching patched fs 
2022-04-21T21:18:46.916Z appoptics:patching patched express 4.9.1
2022-04-21T21:18:46.924Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:46.933Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.1
    ✓ UDP might lose a message
2022-04-21T21:18:47.010Z appoptics:patching patched raw-body 2.5.1
(node:3275) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (94ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (291ms)


changed 1 package, and audited 958 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:52.515Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:52.516Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:52.516Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:52.517Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:52.575Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:52.690Z appoptics:patching patched crypto 
2022-04-21T21:18:52.707Z appoptics:patching patched https 
2022-04-21T21:18:52.708Z appoptics:patching patched http 
2022-04-21T21:18:52.740Z appoptics:patching patched zlib 
2022-04-21T21:18:52.750Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:52.751Z appoptics:patching patched fs 
2022-04-21T21:18:52.799Z appoptics:patching patched express 4.9.2
2022-04-21T21:18:52.805Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:52.810Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.2
    ✓ UDP might lose a message
2022-04-21T21:18:52.856Z appoptics:patching patched raw-body 2.5.1
(node:3297) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (88ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (307ms)


added 1 package, changed 3 packages, and audited 959 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:18:58.561Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:18:58.562Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:18:58.562Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:18:58.563Z appoptics:debug using context provider: ace-context
2022-04-21T21:18:58.635Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:18:58.794Z appoptics:patching patched crypto 
2022-04-21T21:18:58.827Z appoptics:patching patched https 
2022-04-21T21:18:58.837Z appoptics:patching patched http 
2022-04-21T21:18:58.860Z appoptics:patching patched zlib 
2022-04-21T21:18:58.869Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:18:58.870Z appoptics:patching patched fs 
2022-04-21T21:18:58.923Z appoptics:patching patched express 4.9.3
2022-04-21T21:18:58.929Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:18:58.934Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.3
    ✓ UDP might lose a message
2022-04-21T21:18:58.995Z appoptics:patching patched raw-body 2.5.1
(node:3319) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (111ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (373ms)


changed 2 packages, and audited 959 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:04.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:04.692Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:04.692Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:04.692Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:04.753Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:04.872Z appoptics:patching patched crypto 
2022-04-21T21:19:04.889Z appoptics:patching patched https 
2022-04-21T21:19:04.890Z appoptics:patching patched http 
2022-04-21T21:19:04.926Z appoptics:patching patched zlib 
2022-04-21T21:19:04.937Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:04.937Z appoptics:patching patched fs 
2022-04-21T21:19:04.988Z appoptics:patching patched express 4.9.4
2022-04-21T21:19:04.995Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:05.001Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.4
    ✓ UDP might lose a message
2022-04-21T21:19:05.038Z appoptics:patching patched raw-body 2.5.1
(node:3341) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (220ms)


removed 9 packages, changed 3 packages, and audited 950 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:11.904Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:11.904Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:11.904Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:11.905Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:11.960Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:12.069Z appoptics:patching patched crypto 
2022-04-21T21:19:12.096Z appoptics:patching patched https 
2022-04-21T21:19:12.097Z appoptics:patching patched http 
2022-04-21T21:19:12.139Z appoptics:patching patched zlib 
2022-04-21T21:19:12.151Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:12.151Z appoptics:patching patched fs 
2022-04-21T21:19:12.188Z appoptics:patching patched express 4.9.5
2022-04-21T21:19:12.194Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:12.199Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.5
    ✓ UDP might lose a message
2022-04-21T21:19:12.233Z appoptics:patching patched raw-body 2.5.1
(node:3363) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (212ms)


changed 1 package, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:17.878Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:17.879Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:17.879Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:17.880Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:17.934Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:18.038Z appoptics:patching patched crypto 
2022-04-21T21:19:18.054Z appoptics:patching patched https 
2022-04-21T21:19:18.055Z appoptics:patching patched http 
2022-04-21T21:19:18.086Z appoptics:patching patched zlib 
2022-04-21T21:19:18.096Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:18.096Z appoptics:patching patched fs 
2022-04-21T21:19:18.133Z appoptics:patching patched express 4.9.6
2022-04-21T21:19:18.138Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:18.143Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.6
    ✓ UDP might lose a message
2022-04-21T21:19:18.178Z appoptics:patching patched raw-body 2.5.1
(node:3385) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (198ms)


changed 1 package, and audited 950 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:24.515Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:24.515Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:24.515Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:24.516Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:24.575Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:24.694Z appoptics:patching patched crypto 
2022-04-21T21:19:24.714Z appoptics:patching patched https 
2022-04-21T21:19:24.714Z appoptics:patching patched http 
2022-04-21T21:19:24.757Z appoptics:patching patched zlib 
2022-04-21T21:19:24.767Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:24.768Z appoptics:patching patched fs 
2022-04-21T21:19:24.812Z appoptics:patching patched express 4.9.7
2022-04-21T21:19:24.818Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:24.823Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.7
    ✓ UDP might lose a message
2022-04-21T21:19:24.858Z appoptics:patching patched raw-body 2.5.1
(node:3407) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (219ms)


changed 1 package, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:30.456Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:30.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:30.457Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:30.458Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:30.511Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:30.614Z appoptics:patching patched crypto 
2022-04-21T21:19:30.630Z appoptics:patching patched https 
2022-04-21T21:19:30.631Z appoptics:patching patched http 
2022-04-21T21:19:30.663Z appoptics:patching patched zlib 
2022-04-21T21:19:30.672Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:30.672Z appoptics:patching patched fs 
2022-04-21T21:19:30.708Z appoptics:patching patched express 4.9.8
2022-04-21T21:19:30.714Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:30.719Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.8
    ✓ UDP might lose a message
2022-04-21T21:19:30.753Z appoptics:patching patched raw-body 2.5.1
(node:3429) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (190ms)


added 4 packages, changed 17 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:36.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:36.866Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:36.866Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:36.867Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:36.932Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:37.036Z appoptics:patching patched crypto 
2022-04-21T21:19:37.052Z appoptics:patching patched https 
2022-04-21T21:19:37.052Z appoptics:patching patched http 
2022-04-21T21:19:37.084Z appoptics:patching patched zlib 
2022-04-21T21:19:37.096Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:37.097Z appoptics:patching patched fs 
2022-04-21T21:19:37.133Z appoptics:patching patched express 4.10.0
2022-04-21T21:19:37.138Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:37.143Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.0
    ✓ UDP might lose a message
2022-04-21T21:19:37.177Z appoptics:patching patched raw-body 2.5.1
(node:3451) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:42.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:42.410Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:42.410Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:42.410Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:42.481Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:42.601Z appoptics:patching patched crypto 
2022-04-21T21:19:42.619Z appoptics:patching patched https 
2022-04-21T21:19:42.620Z appoptics:patching patched http 
2022-04-21T21:19:42.653Z appoptics:patching patched zlib 
2022-04-21T21:19:42.666Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:42.666Z appoptics:patching patched fs 
2022-04-21T21:19:42.706Z appoptics:patching patched express 4.10.1
2022-04-21T21:19:42.712Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:42.718Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.1
    ✓ UDP might lose a message
2022-04-21T21:19:42.756Z appoptics:patching patched raw-body 2.5.1
(node:3473) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (221ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:48.983Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:48.983Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:48.983Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:48.984Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:49.039Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:49.140Z appoptics:patching patched crypto 
2022-04-21T21:19:49.156Z appoptics:patching patched https 
2022-04-21T21:19:49.157Z appoptics:patching patched http 
2022-04-21T21:19:49.190Z appoptics:patching patched zlib 
2022-04-21T21:19:49.201Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:49.202Z appoptics:patching patched fs 
2022-04-21T21:19:49.237Z appoptics:patching patched express 4.10.2
2022-04-21T21:19:49.242Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:49.247Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.2
    ✓ UDP might lose a message
2022-04-21T21:19:49.281Z appoptics:patching patched raw-body 2.5.1
(node:3495) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:19:54.840Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:19:54.840Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:19:54.840Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:19:54.841Z appoptics:debug using context provider: ace-context
2022-04-21T21:19:54.903Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:19:55.017Z appoptics:patching patched crypto 
2022-04-21T21:19:55.043Z appoptics:patching patched https 
2022-04-21T21:19:55.052Z appoptics:patching patched http 
2022-04-21T21:19:55.090Z appoptics:patching patched zlib 
2022-04-21T21:19:55.105Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:19:55.105Z appoptics:patching patched fs 
2022-04-21T21:19:55.141Z appoptics:patching patched express 4.10.3
2022-04-21T21:19:55.147Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:19:55.152Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.3
    ✓ UDP might lose a message
2022-04-21T21:19:55.185Z appoptics:patching patched raw-body 2.5.1
(node:3517) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (193ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:00.973Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:00.973Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:00.973Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:00.974Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:01.033Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:01.146Z appoptics:patching patched crypto 
2022-04-21T21:20:01.164Z appoptics:patching patched https 
2022-04-21T21:20:01.165Z appoptics:patching patched http 
2022-04-21T21:20:01.196Z appoptics:patching patched zlib 
2022-04-21T21:20:01.210Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:01.210Z appoptics:patching patched fs 
2022-04-21T21:20:01.249Z appoptics:patching patched express 4.10.4
2022-04-21T21:20:01.255Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:01.261Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.4
    ✓ UDP might lose a message
2022-04-21T21:20:01.298Z appoptics:patching patched raw-body 2.5.1
(node:3539) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (205ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:07.008Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:07.009Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:07.009Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:07.009Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:07.064Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:07.176Z appoptics:patching patched crypto 
2022-04-21T21:20:07.193Z appoptics:patching patched https 
2022-04-21T21:20:07.193Z appoptics:patching patched http 
2022-04-21T21:20:07.226Z appoptics:patching patched zlib 
2022-04-21T21:20:07.239Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:07.239Z appoptics:patching patched fs 
2022-04-21T21:20:07.276Z appoptics:patching patched express 4.10.5
2022-04-21T21:20:07.281Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:07.286Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.5
    ✓ UDP might lose a message
2022-04-21T21:20:07.321Z appoptics:patching patched raw-body 2.5.1
(node:3561) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (203ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:13.652Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:13.652Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:13.653Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:13.653Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:13.715Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:13.843Z appoptics:patching patched crypto 
2022-04-21T21:20:13.859Z appoptics:patching patched https 
2022-04-21T21:20:13.860Z appoptics:patching patched http 
2022-04-21T21:20:13.892Z appoptics:patching patched zlib 
2022-04-21T21:20:13.904Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:13.904Z appoptics:patching patched fs 
2022-04-21T21:20:13.941Z appoptics:patching patched express 4.10.6
2022-04-21T21:20:13.947Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:13.952Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.6
    ✓ UDP might lose a message
2022-04-21T21:20:13.987Z appoptics:patching patched raw-body 2.5.1
(node:3583) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (209ms)


changed 5 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:19.757Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:19.758Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:19.758Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:19.758Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:19.818Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:19.937Z appoptics:patching patched crypto 
2022-04-21T21:20:19.955Z appoptics:patching patched https 
2022-04-21T21:20:19.955Z appoptics:patching patched http 
2022-04-21T21:20:19.990Z appoptics:patching patched zlib 
2022-04-21T21:20:20.004Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:20.004Z appoptics:patching patched fs 
2022-04-21T21:20:20.044Z appoptics:patching patched express 4.10.7
2022-04-21T21:20:20.050Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:20.055Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.7
    ✓ UDP might lose a message
2022-04-21T21:20:20.093Z appoptics:patching patched raw-body 2.5.1
(node:3605) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (223ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:26.426Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:26.427Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:26.427Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:26.427Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:26.488Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:26.623Z appoptics:patching patched crypto 
2022-04-21T21:20:26.641Z appoptics:patching patched https 
2022-04-21T21:20:26.642Z appoptics:patching patched http 
2022-04-21T21:20:26.680Z appoptics:patching patched zlib 
2022-04-21T21:20:26.709Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:26.709Z appoptics:patching patched fs 
2022-04-21T21:20:26.752Z appoptics:patching patched express 4.10.8
2022-04-21T21:20:26.757Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:26.763Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.8
    ✓ UDP might lose a message
2022-04-21T21:20:26.805Z appoptics:patching patched raw-body 2.5.1
(node:3627) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (255ms)


added 10 packages, removed 8 packages, changed 8 packages, and audited 956 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:32.619Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:32.620Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:32.620Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:32.621Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:32.682Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:32.803Z appoptics:patching patched crypto 
2022-04-21T21:20:32.822Z appoptics:patching patched https 
2022-04-21T21:20:32.823Z appoptics:patching patched http 
2022-04-21T21:20:32.857Z appoptics:patching patched zlib 
2022-04-21T21:20:32.869Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:32.869Z appoptics:patching patched fs 
2022-04-21T21:20:32.925Z appoptics:patching patched express 4.11.0
2022-04-21T21:20:32.932Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:32.937Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.0
    ✓ UDP might lose a message
2022-04-21T21:20:32.972Z appoptics:patching patched raw-body 2.5.1
(node:3649) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


removed 8 packages, changed 2 packages, and audited 948 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:39.311Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:39.312Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:39.312Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:39.313Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:39.373Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:39.489Z appoptics:patching patched crypto 
2022-04-21T21:20:39.508Z appoptics:patching patched https 
2022-04-21T21:20:39.508Z appoptics:patching patched http 
2022-04-21T21:20:39.543Z appoptics:patching patched zlib 
2022-04-21T21:20:39.556Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:39.557Z appoptics:patching patched fs 
2022-04-21T21:20:39.601Z appoptics:patching patched express 4.11.1
2022-04-21T21:20:39.607Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:39.613Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.1
    ✓ UDP might lose a message
2022-04-21T21:20:39.651Z appoptics:patching patched raw-body 2.5.1
(node:3671) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (209ms)


changed 1 package, and audited 948 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:45.031Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:45.032Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:45.032Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:45.032Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:45.092Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:45.207Z appoptics:patching patched crypto 
2022-04-21T21:20:45.225Z appoptics:patching patched https 
2022-04-21T21:20:45.225Z appoptics:patching patched http 
2022-04-21T21:20:45.258Z appoptics:patching patched zlib 
2022-04-21T21:20:45.271Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:45.271Z appoptics:patching patched fs 
2022-04-21T21:20:45.316Z appoptics:patching patched express 4.11.2
2022-04-21T21:20:45.322Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:45.328Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.2
    ✓ UDP might lose a message
2022-04-21T21:20:45.365Z appoptics:patching patched raw-body 2.5.1
(node:3693) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (233ms)


added 9 packages, removed 3 packages, changed 5 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:51.649Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:51.650Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:51.650Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:51.651Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:51.709Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:51.823Z appoptics:patching patched crypto 
2022-04-21T21:20:51.841Z appoptics:patching patched https 
2022-04-21T21:20:51.841Z appoptics:patching patched http 
2022-04-21T21:20:51.876Z appoptics:patching patched zlib 
2022-04-21T21:20:51.890Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:51.890Z appoptics:patching patched fs 
2022-04-21T21:20:51.936Z appoptics:patching patched express 4.12.0
2022-04-21T21:20:51.942Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:51.948Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.0
    ✓ UDP might lose a message
2022-04-21T21:20:51.984Z appoptics:patching patched raw-body 2.5.1
(node:3715) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (205ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:20:57.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:20:57.240Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:20:57.240Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:20:57.241Z appoptics:debug using context provider: ace-context
2022-04-21T21:20:57.300Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:20:57.415Z appoptics:patching patched crypto 
2022-04-21T21:20:57.433Z appoptics:patching patched https 
2022-04-21T21:20:57.433Z appoptics:patching patched http 
2022-04-21T21:20:57.465Z appoptics:patching patched zlib 
2022-04-21T21:20:57.478Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:20:57.478Z appoptics:patching patched fs 
2022-04-21T21:20:57.524Z appoptics:patching patched express 4.12.1
2022-04-21T21:20:57.530Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:20:57.537Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.1
    ✓ UDP might lose a message
2022-04-21T21:20:57.572Z appoptics:patching patched raw-body 2.5.1
(node:3737) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (203ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:04.126Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:04.127Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:04.127Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:04.128Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:04.198Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:04.331Z appoptics:patching patched crypto 
2022-04-21T21:21:04.349Z appoptics:patching patched https 
2022-04-21T21:21:04.350Z appoptics:patching patched http 
2022-04-21T21:21:04.386Z appoptics:patching patched zlib 
2022-04-21T21:21:04.400Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:04.400Z appoptics:patching patched fs 
2022-04-21T21:21:04.447Z appoptics:patching patched express 4.12.2
2022-04-21T21:21:04.453Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:04.461Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.2
    ✓ UDP might lose a message
2022-04-21T21:21:04.498Z appoptics:patching patched raw-body 2.5.1
(node:3759) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (214ms)


changed 5 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:10.229Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:10.230Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:10.230Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:10.231Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:10.293Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:10.410Z appoptics:patching patched crypto 
2022-04-21T21:21:10.427Z appoptics:patching patched https 
2022-04-21T21:21:10.428Z appoptics:patching patched http 
2022-04-21T21:21:10.463Z appoptics:patching patched zlib 
2022-04-21T21:21:10.477Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:10.477Z appoptics:patching patched fs 
2022-04-21T21:21:10.525Z appoptics:patching patched express 4.12.3
2022-04-21T21:21:10.531Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:10.537Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.3
    ✓ UDP might lose a message
2022-04-21T21:21:10.574Z appoptics:patching patched raw-body 2.5.1
(node:3781) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (231ms)


removed 9 packages, changed 12 packages, and audited 945 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:16.925Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:16.925Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:16.925Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:16.926Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:16.984Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:17.105Z appoptics:patching patched crypto 
2022-04-21T21:21:17.128Z appoptics:patching patched https 
2022-04-21T21:21:17.129Z appoptics:patching patched http 
2022-04-21T21:21:17.166Z appoptics:patching patched zlib 
2022-04-21T21:21:17.180Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:17.180Z appoptics:patching patched fs 
2022-04-21T21:21:17.219Z appoptics:patching patched express 4.12.4
2022-04-21T21:21:17.227Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:17.233Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.4
    ✓ UDP might lose a message
2022-04-21T21:21:17.268Z appoptics:patching patched raw-body 2.5.1
(node:3803) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (217ms)


added 13 packages, removed 4 packages, changed 13 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:23.297Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:23.297Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:23.297Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:23.298Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:23.367Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:23.543Z appoptics:patching patched crypto 
2022-04-21T21:21:23.598Z appoptics:patching patched https 
2022-04-21T21:21:23.611Z appoptics:patching patched http 
2022-04-21T21:21:23.637Z appoptics:patching patched zlib 
2022-04-21T21:21:23.654Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:23.655Z appoptics:patching patched fs 
2022-04-21T21:21:23.705Z appoptics:patching patched express 4.13.0
2022-04-21T21:21:23.722Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:23.728Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.0
    ✓ UDP might lose a message
2022-04-21T21:21:23.767Z appoptics:patching patched raw-body 2.5.1
(node:3825) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (231ms)


changed 2 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:29.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:29.990Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:29.990Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:29.991Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:30.050Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:30.165Z appoptics:patching patched crypto 
2022-04-21T21:21:30.183Z appoptics:patching patched https 
2022-04-21T21:21:30.184Z appoptics:patching patched http 
2022-04-21T21:21:30.217Z appoptics:patching patched zlib 
2022-04-21T21:21:30.233Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:30.233Z appoptics:patching patched fs 
2022-04-21T21:21:30.275Z appoptics:patching patched express 4.13.1
2022-04-21T21:21:30.281Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:30.287Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.1
    ✓ UDP might lose a message
2022-04-21T21:21:30.325Z appoptics:patching patched raw-body 2.5.1
(node:3847) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (210ms)


changed 3 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:35.927Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:35.928Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:35.928Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:35.929Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:36.040Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:36.168Z appoptics:patching patched crypto 
2022-04-21T21:21:36.204Z appoptics:patching patched https 
2022-04-21T21:21:36.205Z appoptics:patching patched http 
2022-04-21T21:21:36.241Z appoptics:patching patched zlib 
2022-04-21T21:21:36.256Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:36.257Z appoptics:patching patched fs 
2022-04-21T21:21:36.303Z appoptics:patching patched express 4.13.2
2022-04-21T21:21:36.309Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:36.314Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.2
    ✓ UDP might lose a message
2022-04-21T21:21:36.351Z appoptics:patching patched raw-body 2.5.1
(node:3869) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (231ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:41.850Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:41.851Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:41.851Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:41.851Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:41.910Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:42.022Z appoptics:patching patched crypto 
2022-04-21T21:21:42.039Z appoptics:patching patched https 
2022-04-21T21:21:42.040Z appoptics:patching patched http 
2022-04-21T21:21:42.074Z appoptics:patching patched zlib 
2022-04-21T21:21:42.090Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:42.090Z appoptics:patching patched fs 
2022-04-21T21:21:42.132Z appoptics:patching patched express 4.13.3
2022-04-21T21:21:42.137Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:42.143Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.3
    ✓ UDP might lose a message
2022-04-21T21:21:42.180Z appoptics:patching patched raw-body 2.5.1
(node:3891) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (197ms)


removed 3 packages, changed 11 packages, and audited 951 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:47.957Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:47.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:47.958Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:47.959Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:48.030Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:48.162Z appoptics:patching patched crypto 
2022-04-21T21:21:48.200Z appoptics:patching patched https 
2022-04-21T21:21:48.200Z appoptics:patching patched http 
2022-04-21T21:21:48.236Z appoptics:patching patched zlib 
2022-04-21T21:21:48.253Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:48.253Z appoptics:patching patched fs 
2022-04-21T21:21:48.301Z appoptics:patching patched express 4.13.4
2022-04-21T21:21:48.307Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:48.313Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.4
    ✓ UDP might lose a message
2022-04-21T21:21:48.361Z appoptics:patching patched raw-body 2.5.1
(node:3913) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (86ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (247ms)


added 6 packages, removed 8 packages, changed 19 packages, and audited 949 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:21:54.089Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:21:54.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:21:54.089Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:21:54.090Z appoptics:debug using context provider: ace-context
2022-04-21T21:21:54.162Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:21:54.283Z appoptics:patching patched crypto 
2022-04-21T21:21:54.300Z appoptics:patching patched https 
2022-04-21T21:21:54.301Z appoptics:patching patched http 
2022-04-21T21:21:54.342Z appoptics:patching patched zlib 
2022-04-21T21:21:54.360Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:21:54.360Z appoptics:patching patched fs 
2022-04-21T21:21:54.422Z appoptics:patching patched express 4.14.0
2022-04-21T21:21:54.430Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:21:54.438Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.0
    ✓ UDP might lose a message
2022-04-21T21:21:54.505Z appoptics:patching patched raw-body 2.5.1
(node:3935) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (237ms)


added 1 package, removed 12 packages, changed 6 packages, and audited 938 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:00.421Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:00.421Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:00.421Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:00.422Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:00.496Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:00.626Z appoptics:patching patched crypto 
2022-04-21T21:22:00.655Z appoptics:patching patched https 
2022-04-21T21:22:00.655Z appoptics:patching patched http 
2022-04-21T21:22:00.692Z appoptics:patching patched zlib 
2022-04-21T21:22:00.710Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:00.710Z appoptics:patching patched fs 
2022-04-21T21:22:00.751Z appoptics:patching patched express 4.14.1
2022-04-21T21:22:00.757Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:00.763Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.1
    ✓ UDP might lose a message
2022-04-21T21:22:00.801Z appoptics:patching patched raw-body 2.5.1
(node:3957) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (242ms)


added 5 packages, removed 4 packages, changed 14 packages, and audited 939 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:07.097Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:07.098Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:07.098Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:07.099Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:07.160Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:07.278Z appoptics:patching patched crypto 
2022-04-21T21:22:07.297Z appoptics:patching patched https 
2022-04-21T21:22:07.297Z appoptics:patching patched http 
2022-04-21T21:22:07.333Z appoptics:patching patched zlib 
2022-04-21T21:22:07.353Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:07.353Z appoptics:patching patched fs 
2022-04-21T21:22:07.390Z appoptics:patching patched express 4.15.0
2022-04-21T21:22:07.394Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:07.399Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.0
    ✓ UDP might lose a message
2022-04-21T21:22:07.434Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (217ms)


changed 4 packages, and audited 939 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:13.625Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:13.626Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:13.626Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:13.626Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:13.681Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:13.788Z appoptics:patching patched crypto 
2022-04-21T21:22:13.805Z appoptics:patching patched https 
2022-04-21T21:22:13.805Z appoptics:patching patched http 
2022-04-21T21:22:13.839Z appoptics:patching patched zlib 
2022-04-21T21:22:13.857Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:13.857Z appoptics:patching patched fs 
2022-04-21T21:22:13.891Z appoptics:patching patched express 4.15.1
2022-04-21T21:22:13.895Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:13.900Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.1
    ✓ UDP might lose a message
2022-04-21T21:22:13.935Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (229ms)


changed 2 packages, and audited 939 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:19.823Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:19.824Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:19.824Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:19.824Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:19.884Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:19.989Z appoptics:patching patched crypto 
2022-04-21T21:22:20.006Z appoptics:patching patched https 
2022-04-21T21:22:20.006Z appoptics:patching patched http 
2022-04-21T21:22:20.039Z appoptics:patching patched zlib 
2022-04-21T21:22:20.056Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:20.056Z appoptics:patching patched fs 
2022-04-21T21:22:20.089Z appoptics:patching patched express 4.15.2
2022-04-21T21:22:20.093Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:20.098Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.2
    ✓ UDP might lose a message
2022-04-21T21:22:20.133Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (240ms)


removed 2 packages, changed 6 packages, and audited 937 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:26.088Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:26.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:26.089Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:26.090Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:26.153Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:26.274Z appoptics:patching patched crypto 
2022-04-21T21:22:26.292Z appoptics:patching patched https 
2022-04-21T21:22:26.292Z appoptics:patching patched http 
2022-04-21T21:22:26.327Z appoptics:patching patched zlib 
2022-04-21T21:22:26.350Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:26.351Z appoptics:patching patched fs 
2022-04-21T21:22:26.398Z appoptics:patching patched express 4.15.3
2022-04-21T21:22:26.403Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:26.409Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.3
    ✓ UDP might lose a message
2022-04-21T21:22:26.511Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (99ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (320ms)


changed 7 packages, and audited 937 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:32.359Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:32.359Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:32.360Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:32.360Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:32.420Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:32.535Z appoptics:patching patched crypto 
2022-04-21T21:22:32.553Z appoptics:patching patched https 
2022-04-21T21:22:32.553Z appoptics:patching patched http 
2022-04-21T21:22:32.588Z appoptics:patching patched zlib 
2022-04-21T21:22:32.607Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:32.607Z appoptics:patching patched fs 
2022-04-21T21:22:32.643Z appoptics:patching patched express 4.15.4
2022-04-21T21:22:32.647Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:32.652Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.4
    ✓ UDP might lose a message
2022-04-21T21:22:32.686Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (210ms)


removed 4 packages, changed 5 packages, and audited 933 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

13 vulnerabilities (10 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:39.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:39.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:39.180Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:39.180Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:39.240Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:39.354Z appoptics:patching patched crypto 
2022-04-21T21:22:39.372Z appoptics:patching patched https 
2022-04-21T21:22:39.372Z appoptics:patching patched http 
2022-04-21T21:22:39.406Z appoptics:patching patched zlib 
2022-04-21T21:22:39.423Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:39.423Z appoptics:patching patched fs 
2022-04-21T21:22:39.457Z appoptics:patching patched express 4.15.5
2022-04-21T21:22:39.461Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:39.467Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.5
    ✓ UDP might lose a message
2022-04-21T21:22:39.502Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (213ms)


added 11 packages, removed 2 packages, changed 11 packages, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:45.313Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:45.314Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:45.314Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:45.315Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:45.374Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:45.490Z appoptics:patching patched crypto 
2022-04-21T21:22:45.508Z appoptics:patching patched https 
2022-04-21T21:22:45.508Z appoptics:patching patched http 
2022-04-21T21:22:45.541Z appoptics:patching patched zlib 
2022-04-21T21:22:45.559Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:45.560Z appoptics:patching patched fs 
2022-04-21T21:22:45.604Z appoptics:patching patched raw-body 2.3.2
2022-04-21T21:22:45.609Z appoptics:patching patched express 4.16.0
2022-04-21T21:22:45.613Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:45.620Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.0
    ✓ UDP might lose a message
2022-04-21T21:22:45.654Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (205ms)


changed 4 packages, and audited 942 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:52.092Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:52.093Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:52.093Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:52.094Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:52.147Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:52.251Z appoptics:patching patched crypto 
2022-04-21T21:22:52.281Z appoptics:patching patched https 
2022-04-21T21:22:52.281Z appoptics:patching patched http 
2022-04-21T21:22:52.303Z appoptics:patching patched zlib 
2022-04-21T21:22:52.319Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:52.319Z appoptics:patching patched fs 
2022-04-21T21:22:52.360Z appoptics:patching patched raw-body 2.3.2
2022-04-21T21:22:52.364Z appoptics:patching patched express 4.16.1
2022-04-21T21:22:52.367Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:52.374Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.1
    ✓ UDP might lose a message
2022-04-21T21:22:52.406Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (40ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (186ms)


changed 1 package, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:22:57.674Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:22:57.675Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:22:57.675Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:22:57.675Z appoptics:debug using context provider: ace-context
2022-04-21T21:22:57.729Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:22:57.833Z appoptics:patching patched crypto 
2022-04-21T21:22:57.849Z appoptics:patching patched https 
2022-04-21T21:22:57.850Z appoptics:patching patched http 
2022-04-21T21:22:57.881Z appoptics:patching patched zlib 
2022-04-21T21:22:57.898Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:22:57.898Z appoptics:patching patched fs 
2022-04-21T21:22:57.937Z appoptics:patching patched raw-body 2.3.2
2022-04-21T21:22:57.941Z appoptics:patching patched express 4.16.2
2022-04-21T21:22:57.946Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:22:57.951Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.2
    ✓ UDP might lose a message
2022-04-21T21:22:57.983Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (40ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (184ms)


removed 10 packages, changed 6 packages, and audited 932 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:04.323Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:04.324Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:04.324Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:04.325Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:04.386Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:04.520Z appoptics:patching patched crypto 
2022-04-21T21:23:04.564Z appoptics:patching patched https 
2022-04-21T21:23:04.564Z appoptics:patching patched http 
2022-04-21T21:23:04.589Z appoptics:patching patched zlib 
2022-04-21T21:23:04.607Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:04.608Z appoptics:patching patched fs 
2022-04-21T21:23:04.652Z appoptics:patching patched raw-body 2.3.2
2022-04-21T21:23:04.657Z appoptics:patching patched express 4.16.3
2022-04-21T21:23:04.661Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:04.666Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.3
    ✓ UDP might lose a message
2022-04-21T21:23:04.704Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (218ms)


removed 3 packages, changed 6 packages, and audited 929 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:10.411Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:10.412Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:10.412Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:10.413Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:10.488Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:10.625Z appoptics:patching patched crypto 
2022-04-21T21:23:10.662Z appoptics:patching patched https 
2022-04-21T21:23:10.673Z appoptics:patching patched http 
2022-04-21T21:23:10.696Z appoptics:patching patched zlib 
2022-04-21T21:23:10.714Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:10.714Z appoptics:patching patched fs 
2022-04-21T21:23:10.755Z appoptics:patching patched raw-body 2.3.3
2022-04-21T21:23:10.759Z appoptics:patching patched express 4.16.4
2022-04-21T21:23:10.763Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:10.768Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.4
    ✓ UDP might lose a message
2022-04-21T21:23:10.803Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (257ms)


added 13 packages, removed 5 packages, changed 15 packages, and audited 937 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:17.375Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:17.376Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:17.376Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:17.377Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:17.447Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:17.565Z appoptics:patching patched crypto 
2022-04-21T21:23:17.584Z appoptics:patching patched https 
2022-04-21T21:23:17.585Z appoptics:patching patched http 
2022-04-21T21:23:17.620Z appoptics:patching patched zlib 
2022-04-21T21:23:17.638Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:17.639Z appoptics:patching patched fs 
2022-04-21T21:23:17.679Z appoptics:patching patched raw-body 2.4.0
2022-04-21T21:23:17.684Z appoptics:patching patched express 4.17.0
2022-04-21T21:23:17.688Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:17.696Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.0
    ✓ UDP might lose a message
2022-04-21T21:23:17.729Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (205ms)


changed 1 package, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:25.116Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:25.117Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:25.117Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:25.117Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:25.184Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:25.306Z appoptics:patching patched crypto 
2022-04-21T21:23:25.342Z appoptics:patching patched https 
2022-04-21T21:23:25.343Z appoptics:patching patched http 
2022-04-21T21:23:25.379Z appoptics:patching patched zlib 
2022-04-21T21:23:25.397Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:25.398Z appoptics:patching patched fs 
2022-04-21T21:23:25.440Z appoptics:patching patched raw-body 2.4.0
2022-04-21T21:23:25.445Z appoptics:patching patched express 4.17.1
2022-04-21T21:23:25.449Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:25.454Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.1
    ✓ UDP might lose a message
2022-04-21T21:23:25.493Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (324ms)


removed 9 packages, changed 14 packages, and audited 928 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:31.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:31.113Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:31.113Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:31.113Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:31.167Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:31.279Z appoptics:patching patched crypto 
2022-04-21T21:23:31.319Z appoptics:patching patched https 
2022-04-21T21:23:31.319Z appoptics:patching patched http 
2022-04-21T21:23:31.358Z appoptics:patching patched zlib 
2022-04-21T21:23:31.376Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:31.377Z appoptics:patching patched fs 
2022-04-21T21:23:31.416Z appoptics:patching patched raw-body 2.4.2
2022-04-21T21:23:31.422Z appoptics:patching patched express 4.17.2
2022-04-21T21:23:31.425Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:31.431Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.2
    ✓ UDP might lose a message
2022-04-21T21:23:31.464Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (40ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (185ms)


removed 1 package, changed 5 packages, and audited 927 packages in 14s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:23:46.083Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:23:46.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:23:46.084Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:23:46.085Z appoptics:debug using context provider: ace-context
2022-04-21T21:23:46.144Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:23:46.259Z appoptics:patching patched crypto 
2022-04-21T21:23:46.275Z appoptics:patching patched https 
2022-04-21T21:23:46.276Z appoptics:patching patched http 
2022-04-21T21:23:46.307Z appoptics:patching patched zlib 
2022-04-21T21:23:46.324Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:23:46.324Z appoptics:patching patched fs 
2022-04-21T21:23:46.358Z appoptics:patching patched raw-body 2.4.3
2022-04-21T21:23:46.363Z appoptics:patching patched express 4.17.3
2022-04-21T21:23:46.366Z appoptics:patching patched morgan 1.10.0
2022-04-21T21:23:46.371Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.3
    ✓ UDP might lose a message
2022-04-21T21:23:46.400Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (40ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (185ms)


up to date, audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
